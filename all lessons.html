<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Programmer's Picnic â€“ DSA Course Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        :root {
            --bg-body: #fff7e6;
            --bg-panel: #fffaf0;
            --bg-card: #fffaf0;
            --text-main: #3a2a1a;
            --accent-strong: #b35a00;
            --accent-med: #a14c00;
            --accent-soft: #8c3f00;
            --border-soft: #f3c26b;
            --pill-bg: #ffefd3;
            --pill-border: #f3c26b;
            --pill-active-bg: #ffcc73;
            --pill-active-border: #b57400;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: system-ui, sans-serif;
            background: var(--bg-body);
            color: var(--text-main);
        }

        .page {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
        }

        .top-bar {
            text-align: center;
            margin-bottom: 10px;
        }

        .top-bar h1 {
            color: var(--accent-strong);
            font-size: 2rem;
            margin: 10px 0 4px 0;
        }

        .top-subtitle {
            font-size: 0.95rem;
            color: var(--accent-soft);
            opacity: 0.9;
        }

        .layout {
            display: flex;
            gap: 12px;
            align-items: flex-start;
            margin-top: 14px;
        }

        .sidebar {
            width: 260px;
            background: var(--bg-panel);
            border: 1px solid var(--border-soft);
            border-radius: 14px;
            padding: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.06);
            position: sticky;
            top: 8px;
            max-height: calc(100vh - 20px);
            overflow-y: auto;
        }

        .sidebar h2 {
            font-size: 1rem;
            margin-top: 0;
            color: var(--accent-med);
        }

        .search-box {
            margin-bottom: 10px;
        }

        .search-box input {
            width: 100%;
            padding: 6px 8px;
            border-radius: 8px;
            border: 1px solid var(--border-soft);
            font-size: 0.9rem;
            background: #fff;
        }

        .pill-group {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin: 6px 0 10px 0;
        }

        .pill {
            padding: 5px 10px;
            border-radius: 999px;
            border: 1px solid var(--pill-border);
            background: var(--pill-bg);
            font-size: 0.8rem;
            cursor: pointer;
            white-space: nowrap;
        }

        .pill.active {
            background: var(--pill-active-bg);
            border-color: var(--pill-active-border);
            font-weight: 600;
        }

        .sidebar-section-title {
            font-size: 0.85rem;
            font-weight: 700;
            margin-top: 8px;
            color: var(--accent-soft);
        }

        .start-btn {
            width: 100%;
            margin-top: 8px;
            padding: 8px 12px;
            border-radius: 10px;
            border: 1px solid #b57400;
            background: #ffcc73;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
        }

        .start-btn:hover {
            background: #ffdb9b;
        }

        .recent-list {
            list-style: none;
            padding-left: 0;
            margin: 6px 0 0 0;
            font-size: 0.85rem;
        }

        .recent-list li {
            margin-bottom: 4px;
        }

        .recent-link {
            color: var(--accent-soft);
            text-decoration: none;
            font-size: 0.85rem;
        }

        .recent-link:hover {
            text-decoration: underline;
        }

        .main {
            flex: 1;
            background: var(--bg-panel);
            border-radius: 16px;
            border: 1px solid var(--border-soft);
            padding: 16px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.06);
        }

        .main-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .main-header-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--accent-med);
        }

        .main-header-meta {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 12px;
            margin-top: 10px;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-soft);
            padding: 14px;
            border-radius: 14px;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            gap: 8px;
            transition: 0.18s ease;
            position: relative;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 12px rgba(0, 0, 0, 0.12);
        }

        .card-header {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            flex-shrink: 0;
        }

        .card-title-block {
            flex: 1;
        }

        .card-title {
            font-size: 1rem;
            font-weight: 700;
            color: var(--accent-med);
            margin-bottom: 2px;
        }

        .card-tags {
            font-size: 0.78rem;
            color: var(--accent-soft);
        }

        .card-desc {
            font-size: 0.85rem;
            color: var(--text-main);
        }

        .badge-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.78rem;
            margin-top: 4px;
        }

        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 999px;
            border: 1px solid var(--pill-border);
            background: var(--pill-bg);
        }

        .badge.easy {
            border-color: #22c55e;
            background: #dcfce7;
            color: #166534;
        }

        .badge.medium {
            border-color: #eab308;
            background: #fef9c3;
            color: #854d0e;
        }

        .badge.hard {
            border-color: #ef4444;
            background: #fee2e2;
            color: #b91c1c;
        }

        .badge.done {
            border-color: #16a34a;
            background: #dcfce7;
            color: #166534;
            font-weight: 600;
        }

        .button-row {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            gap: 6px;
        }

        .button {
            flex: 1;
            background: #ffcc73;
            border: 1px solid #b57400;
            padding: 6px 10px;
            border-radius: 8px;
            font-size: 0.85rem;
            color: #3a2a1a;
            text-decoration: none;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
        }

        .button.secondary {
            background: #fff;
            border-color: var(--border-soft);
            font-weight: 500;
        }

        .button:hover {
            background: #ffdb9b;
        }

        .button.secondary:hover {
            background: #fff7e6;
        }

        .footer {
            margin-top: 16px;
            text-align: center;
            font-size: 0.8rem;
            opacity: 0.7;
        }

        @media (max-width: 860px) {
            .layout {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                position: static;
                max-height: none;
            }
        }
    </style>
    <link rel="icon"
        href="https://blogger.googleusercontent.com/img/a/AVvXsEhlfwIqq3YYxj6LMFr4E7IKN2bYIor-bFpbUXBT3Jthp8PKmRdWozV3hEk2xcj3kPrJ9WBIkXCr4lw5MTAz0AE5b0lPhQ2ReNbCmMOumP4zLTEOb7GY6s4YWcgcCfzltJVmQcgCObeQNRvn_SWPa_2c6cROZUOBHhRJB20PaV-peuA3GTSafM8JxgaYu5M=s257"
        type="image/x-icon">

</head>

<body>
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjKZh_J8AdV63isiRIrqvs8BDD7HRxhkoDBOAAmdMuQBifJagPd2d_PcHoBNl68VKUm-0OoRKAjWzF2Rom68mEXj8m1a2jt_jUzveClmUl-S8VqSar8ub-yKAis7thLjsLcYjhhSdtVrdp9nLkJZgg_D6yjFEMa7_Vy6wtjnnpi65LoM_5MHgb_cbmv-DY/s320/Programmer's%20Picnic.png"
        class="avatar" />

    <div class="page">
        <div class="top-bar">
            <h1>Programmerâ€™s Picnic â€” DSA Course</h1>
            <div class="top-subtitle">
                20-lesson Python DSA track Â· JSON-driven Â· Interactive playground
            </div>
        </div>

        <div class="layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <h2>Find a Lesson</h2>

                <div class="search-box">
                    <input id="searchInput" type="text" placeholder="Search by topic (e.g. arrays, graphs)..." />
                </div>

                <div class="sidebar-section-title">Difficulty</div>
                <div id="difficultyPills" class="pill-group">
                    <div class="pill active" data-diff="all">All</div>
                    <div class="pill" data-diff="easy">Easy</div>
                    <div class="pill" data-diff="medium">Medium</div>
                    <div class="pill" data-diff="hard">Hard</div>
                </div>

                <div class="sidebar-section-title">Category</div>
                <div id="categoryPills" class="pill-group">
                    <div class="pill active" data-cat="all">All</div>
                    <div class="pill" data-cat="foundations">Foundations</div>
                    <div class="pill" data-cat="linear">Linear DS</div>
                    <div class="pill" data-cat="nonlinear">Non-linear DS</div>
                    <div class="pill" data-cat="algorithms">Algorithms</div>
                    <div class="pill" data-cat="advanced">Advanced</div>
                </div>

                <button class="start-btn" id="startCourseBtn">ðŸš€ Start Course</button>

                <div class="sidebar-section-title">Recently Viewed</div>
                <ul id="recentList" class="recent-list"></ul>

                <div class="sidebar-section-title">Progress</div>
                <div id="progressText" style="font-size:0.8rem;"></div>
            </aside>

            <!-- Main content -->
            <main class="main">
                <div class="main-header">
                    <div class="main-header-title">All Lessons</div>
                    <div class="main-header-meta" id="metaText"></div>
                </div>

                <div id="lessonGrid" class="grid"></div>

                <div class="footer">
                    Â© Programmerâ€™s Picnic â€¢ Built with love in Varanasi ðŸ’›
                </div>
            </main>
        </div>
    </div>

    <script>
        /* ------------------------------------------
           Configuration
        ------------------------------------------ */
        const JSON_BASE =
            "https://programmer-s-picnic.github.io/Data-Structures-and-Algorithms-DSA/jsonfiles/";
        const VIEWER_BASE =
            "https://programmer-s-picnic.github.io/lesson-viewer/?json=";

        // Lesson metadata for home page
        const LESSONS = [
            { id: 1, title: "Introduction to DSA", difficulty: "easy", category: "foundations" },
            { id: 2, title: "Time and Space Complexity", difficulty: "easy", category: "foundations" },
            { id: 3, title: "Arrays", difficulty: "easy", category: "linear" },
            { id: 4, title: "Strings", difficulty: "easy", category: "linear" },
            { id: 5, title: "Linked Lists", difficulty: "medium", category: "linear" },
            { id: 6, title: "Stacks", difficulty: "medium", category: "linear" },
            { id: 7, title: "Queues", difficulty: "medium", category: "linear" },
            { id: 8, title: "Hashing", difficulty: "medium", category: "linear" },
            { id: 9, title: "Trees", difficulty: "medium", category: "nonlinear" },
            { id: 10, title: "Binary Search Trees", difficulty: "medium", category: "nonlinear" },
            { id: 11, title: "Heaps and Priority Queues", difficulty: "medium", category: "nonlinear" },
            { id: 12, title: "Graph Basics", difficulty: "medium", category: "nonlinear" },
            { id: 13, title: "Searching Algorithms", difficulty: "easy", category: "algorithms" },
            { id: 14, title: "Sorting Algorithms", difficulty: "medium", category: "algorithms" },
            { id: 15, title: "Recursion", difficulty: "medium", category: "algorithms" },
            { id: 16, title: "Backtracking", difficulty: "hard", category: "algorithms" },
            { id: 17, title: "Greedy Algorithms", difficulty: "medium", category: "algorithms" },
            { id: 18, title: "Dynamic Programming", difficulty: "hard", category: "advanced" },
            { id: 19, title: "Advanced Graph Algorithms", difficulty: "hard", category: "advanced" },
            { id: 20, title: "Practice Problem Sets", difficulty: "medium", category: "advanced" }
            , {

                id: 21, title: "Linear Search",
                difficulty: "easy", category: "advanced",
            }

        ];

        /* ------------------------------------------
           State
        ------------------------------------------ */
        let searchQuery = "";
        let difficultyFilter = "all"; // all | easy | medium | hard
        let categoryFilter = "all"; // all | foundations | linear | nonlinear | algorithms | advanced

        const COMPLETED_KEY = "pp_dsa_completed_lessons";
        const RECENT_KEY = "pp_dsa_recent_lessons";

        function loadCompleted() {
            try {
                const raw = localStorage.getItem(COMPLETED_KEY);
                if (!raw) return [];
                return JSON.parse(raw);
            } catch {
                return [];
            }
        }

        function saveCompleted(ids) {
            localStorage.setItem(COMPLETED_KEY, JSON.stringify(ids));
        }

        function loadRecent() {
            try {
                const raw = localStorage.getItem(RECENT_KEY);
                if (!raw) return [];
                return JSON.parse(raw);
            } catch {
                return [];
            }
        }

        function saveRecent(ids) {
            localStorage.setItem(RECENT_KEY, JSON.stringify(ids));
        }

        let completedLessons = loadCompleted();  // array of ids
        let recentLessons = loadRecent();        // array of ids, most recent first

        /* ------------------------------------------
           Helpers
        ------------------------------------------ */
        function lessonIconSVG(id, category) {
            const catColorMap = {
                foundations: "#f97316",
                linear: "#22c55e",
                nonlinear: "#3b82f6",
                algorithms: "#eab308",
                advanced: "#a855f7"
            };
            const fill = catColorMap[category] || "#f97316";
            return `
        <svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="grad-${id}" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="${fill}" stop-opacity="0.95"/>
              <stop offset="100%" stop-color="#fde68a" stop-opacity="0.9"/>
            </linearGradient>
          </defs>
          <rect x="5" y="5" width="70" height="70" rx="18" fill="url(#grad-${id})" />
          <text x="50%" y="45%" text-anchor="middle" dominant-baseline="middle"
            font-size="20" fill="#1f2933" font-weight="700">L${id}</text>
          <text x="50%" y="63%" text-anchor="middle" dominant-baseline="middle"
            font-size="10" fill="#1f2933">DSA</text>
        </svg>
      `;
        }

        function difficultyLabel(diff) {
            if (diff === "easy") return "Easy";
            if (diff === "medium") return "Medium";
            if (diff === "hard") return "Hard";
            return diff;
        }

        function categoryLabel(cat) {
            if (cat === "foundations") return "Foundations";
            if (cat === "linear") return "Linear DS";
            if (cat === "nonlinear") return "Non-linear DS";
            if (cat === "algorithms") return "Algorithms";
            if (cat === "advanced") return "Advanced";
            return cat;
        }

        function lessonDescription(lesson) {
            const cat = categoryLabel(lesson.category);
            const diff = difficultyLabel(lesson.difficulty);
            return `${cat} Â· ${diff} level topic on ${lesson.title}. Includes notes, slides, code and Python playground.`;
        }

        /* ------------------------------------------
           Rendering
        ------------------------------------------ */
        const gridEl = document.getElementById("lessonGrid");
        const metaTextEl = document.getElementById("metaText");
        const progressTextEl = document.getElementById("progressText");
        const recentListEl = document.getElementById("recentList");

        function passesFilters(lesson) {
            const text = `${lesson.title} ${lessonDescription(lesson)}`.toLowerCase();
            if (searchQuery && !text.includes(searchQuery.toLowerCase())) {
                return false;
            }
            if (difficultyFilter !== "all" && lesson.difficulty !== difficultyFilter) {
                return false;
            }
            if (categoryFilter !== "all" && lesson.category !== categoryFilter) {
                return false;
            }
            return true;
        }

        function renderLessons() {
            const visible = LESSONS.filter(passesFilters);
            gridEl.innerHTML = "";

            visible.forEach(lesson => {
                const jsonURL = `${JSON_BASE}lesson-${lesson.id}.json`;
                const viewerURL = `${VIEWER_BASE}${encodeURIComponent(jsonURL)}`;
                const isDone = completedLessons.includes(lesson.id);

                const diffClass = lesson.difficulty;
                const diffText = difficultyLabel(lesson.difficulty);

                const tagsText = `${categoryLabel(lesson.category)} Â· ${diffText}`;
                const iconSVG = lessonIconSVG(lesson.id, lesson.category);

                gridEl.innerHTML += `
          <div class="card">
            <div class="card-header">
              <div class="card-icon">${iconSVG}</div>
              <div class="card-title-block">
                <div class="card-title">Lesson ${lesson.id}: ${lesson.title}</div>
                <div class="card-tags">${tagsText}</div>
              </div>
            </div>

            <div class="card-desc">
              ${lessonDescription(lesson)}
            </div>

            <div class="badge-row">
              <span class="badge ${diffClass}">${diffText}</span>
              ${isDone ? '<span class="badge done">Completed âœ”</span>' : ""}
            </div>

            <div class="button-row">
              <a class="button" href="${viewerURL}" target="_parent"
                 data-lesson-id="${lesson.id}" onclick="handleOpenLesson(${lesson.id})">
                Open Lesson â†’
              </a>
              <button class="button secondary" onclick="toggleDone(${lesson.id})">
                ${isDone ? "Mark as Not Done" : "Mark as Done"}
              </button>
            </div>
          </div>
        `;
            });

            metaTextEl.textContent = `Showing ${visible.length} of ${LESSONS.length} lessons`;
            renderProgress();
        }

        function renderProgress() {
            const total = LESSONS.length;
            const done = completedLessons.length;
            const pct = Math.round((done / total) * 100);
            progressTextEl.textContent = `${done} / ${total} lessons marked complete (${pct}%)`;
        }

        function renderRecent() {
            recentListEl.innerHTML = "";
            if (!recentLessons.length) {
                recentListEl.innerHTML = "<li><em>No lessons viewed yet.</em></li>";
                return;
            }
            recentLessons.slice(0, 5).forEach(id => {
                const lesson = LESSONS.find(l => l.id === id);
                if (!lesson) return;
                const jsonURL = `${JSON_BASE}lesson-${lesson.id}.json`;
                const viewerURL = `${VIEWER_BASE}${encodeURIComponent(jsonURL)}`;
                const li = document.createElement("li");
                li.innerHTML = `<a class="recent-link" href="${viewerURL}" target="_blank">Lesson ${lesson.id}: ${lesson.title}</a>`;
                recentListEl.appendChild(li);
            });
        }

        /* ------------------------------------------
           Event handlers
        ------------------------------------------ */
        function handleOpenLesson(id) {
            // Update recent list: move id to front
            recentLessons = [id, ...recentLessons.filter(x => x !== id)].slice(0, 10);
            saveRecent(recentLessons);
            renderRecent();
        }

        function toggleDone(id) {
            if (completedLessons.includes(id)) {
                completedLessons = completedLessons.filter(x => x !== id);
            } else {
                completedLessons.push(id);
            }
            saveCompleted(completedLessons);
            renderLessons();
            renderRecent();
        }

        // Make functions global for inline handlers
        window.handleOpenLesson = handleOpenLesson;
        window.toggleDone = toggleDone;

        const searchInputEl = document.getElementById("searchInput");
        searchInputEl.addEventListener("input", () => {
            searchQuery = searchInputEl.value.trim();
            renderLessons();
        });

        const difficultyPills = document.getElementById("difficultyPills").children;
        Array.from(difficultyPills).forEach(pill => {
            pill.addEventListener("click", () => {
                Array.from(difficultyPills).forEach(p => p.classList.remove("active"));
                pill.classList.add("active");
                difficultyFilter = pill.dataset.diff;
                renderLessons();
            });
        });

        const categoryPills = document.getElementById("categoryPills").children;
        Array.from(categoryPills).forEach(pill => {
            pill.addEventListener("click", () => {
                Array.from(categoryPills).forEach(p => p.classList.remove("active"));
                pill.classList.add("active");
                categoryFilter = pill.dataset.cat;
                renderLessons();
            });
        });

        // Start Course button: go to first not-done lesson, else lesson 1
        const startBtn = document.getElementById("startCourseBtn");
        startBtn.addEventListener("click", () => {
            let targetLesson = LESSONS.find(l => !completedLessons.includes(l.id));
            if (!targetLesson) {
                targetLesson = LESSONS[0]; // if all done, start from beginning
            }
            const jsonURL = `${JSON_BASE}lesson-${targetLesson.id}.json`;
            const viewerURL = `${VIEWER_BASE}${encodeURIComponent(jsonURL)}`;
            handleOpenLesson(targetLesson.id);
            window.open(viewerURL, "_blank");
        });

        /* ------------------------------------------
           Initial render
        ------------------------------------------ */
        renderLessons();
        renderRecent();
    </script>

</body>

</html>