<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>NLP Lab — Python Master Guide (Read + Run in VS Code)</title>
    <meta
      name="description"
      content="Master HTML page that explains all Python lesson files in the NLP Lab, previews their source code, and embeds the Pyodide editor."
    />

    <style>
      :root {
        --bg: #fff7e6;
        --card: #ffffff;
        --ink: #1f2937;
        --muted: #6b7280;
        --brand: #d97706;
        --brand2: #f59e0b;
        --border: #eadcc5;
        --shadow: 0 18px 40px rgba(31, 41, 55, 0.14);
        --codebg: #0b1220;
        --codeink: #e5e7eb;
        --ok: #166534;
        --danger: #b91c1c;
        --r: 18px;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family:
          system-ui,
          -apple-system,
          Segoe UI,
          Roboto,
          Arial,
          sans-serif;
        background:
          radial-gradient(
            900px 500px at 15% 0%,
            rgba(245, 158, 11, 0.25),
            transparent 60%
          ),
          radial-gradient(
            900px 500px at 85% 10%,
            rgba(217, 119, 6, 0.18),
            transparent 60%
          ),
          var(--bg);
        color: var(--ink);
      }
      a {
        color: var(--brand);
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      .topbar {
        position: sticky;
        top: 0;
        z-index: 50;
        background: rgba(255, 247, 230, 0.86);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(234, 220, 197, 0.85);
      }
      .topbar .inner {
        max-width: 1200px;
        margin: 0 auto;
        padding: 10px 14px;
        display: flex;
        gap: 10px;
        align-items: center;
        justify-content: space-between;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .logo {
        width: 38px;
        height: 38px;
        border-radius: 12px;
        background: conic-gradient(
          from 210deg,
          var(--brand2),
          var(--brand),
          #fbbf24,
          var(--brand2)
        );
        box-shadow: var(--shadow);
        border: 1px solid rgba(234, 220, 197, 0.9);
      }
      .brand h1 {
        font-size: 16px;
        margin: 0;
      }
      .brand p {
        font-size: 12px;
        color: var(--muted);
        margin: 0;
      }
      .wrap {
        max-width: 1200px;
        margin: 18px auto;
        padding: 14px;
      }
      .hero {
        padding: 16px;
        border-radius: calc(var(--r) + 4px);
        background:
          radial-gradient(
            600px 220px at 15% 0%,
            rgba(245, 158, 11, 0.25),
            transparent 70%
          ),
          radial-gradient(
            600px 220px at 85% 0%,
            rgba(217, 119, 6, 0.16),
            transparent 70%
          ),
          #fff;
        border: 1px solid rgba(234, 220, 197, 0.9);
        box-shadow: var(--shadow);
      }
      .hero h2 {
        margin: 0 0 6px 0;
        font-size: 20px;
      }
      .hero p {
        margin: 0;
        color: var(--muted);
        line-height: 1.55;
      }
      .grid {
        display: grid;
        grid-template-columns: 0.8fr 1fr 1fr; /* file list | code preview | embedded editor */
        gap: 14px;
        margin-top: 14px;
        align-items: start;
      }
      @media (max-width: 1200px) {
        .grid {
          grid-template-columns: 1fr 1fr;
        }
        .editorCol {
          grid-column: 1 / -1;
        }
      }
      @media (max-width: 980px) {
        .grid {
          grid-template-columns: 1fr;
        }
        .editorCol {
          grid-column: auto;
        }
      }
      .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: var(--r);
        box-shadow: var(--shadow);
        padding: 14px;
      }
      h3 {
        margin: 0 0 10px 0;
        font-size: 16px;
      }
      .muted {
        color: var(--muted);
        font-size: 13px;
        line-height: 1.5;
      }
      .list {
        margin: 10px 0 0 0;
        padding-left: 18px;
      }
      .list li {
        margin: 6px 0;
      }
      .pill {
        display: inline-block;
        font-size: 12px;
        padding: 3px 8px;
        border: 1px solid rgba(234, 220, 197, 1);
        border-radius: 999px;
        background: rgba(255, 247, 230, 0.6);
        margin-left: 8px;
        color: var(--muted);
      }
      .steps {
        background: rgba(255, 247, 230, 0.65);
        border: 1px solid rgba(234, 220, 197, 1);
        border-radius: 16px;
        padding: 10px;
        color: var(--muted);
        font-size: 13px;
        line-height: 1.55;
        margin-top: 10px;
      }
      code.inline {
        font-family:
          ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        font-size: 12px;
        background: rgba(11, 18, 32, 0.06);
        border: 1px solid rgba(234, 220, 197, 1);
        padding: 2px 6px;
        border-radius: 10px;
        color: var(--ink);
      }
      .files {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-top: 10px;
      }
      .fileBtn {
        width: 100%;
        text-align: left;
        cursor: pointer;
        border: 1px solid rgba(234, 220, 197, 1);
        background: #fff;
        padding: 10px 12px;
        border-radius: 14px;
        box-shadow: 0 10px 20px rgba(31, 41, 55, 0.08);
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
      }
      .fileBtn:hover {
        transform: translateY(-1px);
      }
      .fileBtn b {
        font-size: 13px;
      }
      .fileBtn span {
        font-size: 12px;
        color: var(--muted);
      }
      .tag {
        font-size: 11px;
        padding: 3px 8px;
        border-radius: 999px;
        border: 1px solid rgba(234, 220, 197, 1);
        background: rgba(255, 247, 230, 0.6);
        color: var(--ink);
      }
      .out {
        background: rgba(11, 18, 32, 0.96);
        color: var(--codeink);
        padding: 12px;
        border-radius: 16px;
        border: 1px solid rgba(234, 220, 197, 0.35);
        overflow: auto;
        white-space: pre;
        line-height: 1.45;
        font-family:
          ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        font-size: 12px;
        min-height: 260px;
      }
      .toolbar {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        margin: 10px 0;
      }
      .toolbar .left {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
      }
      button {
        cursor: pointer;
        border: 1px solid rgba(234, 220, 197, 1);
        background: linear-gradient(
          180deg,
          rgba(245, 158, 11, 0.18),
          rgba(217, 119, 6, 0.1)
        );
        color: var(--ink);
        padding: 10px 12px;
        border-radius: 14px;
        font-weight: 700;
        box-shadow: 0 12px 22px rgba(31, 41, 55, 0.1);
      }
      button.secondary {
        background: #fff;
        font-weight: 600;
      }
      .status {
        font-size: 12px;
        color: var(--muted);
      }
      .ok {
        color: var(--ok);
        font-weight: 700;
      }
      .bad {
        color: var(--danger);
        font-weight: 700;
      }
      .footer {
        margin: 14px 0 0;
        color: var(--muted);
        font-size: 12px;
        text-align: center;
      }
      .warnBox {
        margin-top: 10px;
        border-radius: 16px;
        border: 1px solid rgba(234, 220, 197, 1);
        background: rgba(255, 247, 230, 0.65);
        padding: 10px;
        color: var(--muted);
        font-size: 13px;
        line-height: 1.55;
      }
      .iframeWrap {
        border: 1px solid rgba(234, 220, 197, 1);
        border-radius: 18px;
        overflow: hidden;
        box-shadow: var(--shadow);
        background: #fff;
      }
      iframe {
        width: 100%;
        height: 640px;
        border: 0;
      }
      .miniHelp {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
        margin-top: 10px;
        font-size: 12px;
        color: var(--muted);
      }
      .miniHelp code {
        font-size: 12px;
      }
    </style>
  </head>

  <body>
    <div class="topbar">
      <div class="inner">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div>
            <h1>NLP Lab — Python Master Guide</h1>
            <p>
              Explains each Python lesson file + previews code + embedded
              Pyodide editor
            </p>
          </div>
        </div>
        <div class="status" id="serverHint"></div>
      </div>
    </div>

    <div class="wrap">
      <div class="hero">
        <h2>
          How to use this page <span class="pill">For VS Code students</span>
        </h2>
        <p>
          Save this file inside <code class="inline">nlp-lab/python/</code> as
          <code class="inline">MASTER.html</code>. Students can read
          explanations, click a file, preview code, and also run Python in the
          embedded editor (internet required).
        </p>

        <div class="steps">
          <b>Best way (recommended):</b> open this page via a local server.<br />
          • VS Code extension: <b>Live Server</b> → right click
          <code class="inline">MASTER.html</code> → “Open with Live Server”<br />
          <b>OR</b> run:
          <code class="inline">py -m http.server 5501</code> (Windows) /
          <code class="inline">python3 -m http.server 5501</code>
          (Mac/Linux)<br />
          Then open:
          <code class="inline">http://localhost:5501/MASTER.html</code>
        </div>

        <div class="warnBox">
          <b>Note:</b> If you open this file by double-clicking (file://), the
          code preview may be blocked by the browser. Use Live Server /
          localhost for smooth preview.
        </div>
      </div>

      <div class="grid">
        <!-- LEFT: explanations + file list -->
        <div class="card">
          <h3>Python lessons (click to preview)</h3>
          <p class="muted">
            Click any file to see its <b>goal</b>, <b>what it teaches</b>,
            <b>run command</b>, and its full code.
          </p>

          <div class="files" id="fileList"></div>

          <h3 style="margin-top: 14px">Run instructions (students)</h3>
          <ul class="list">
            <li>
              Create venv:
              <code class="inline">py -m venv .venv</code> (Windows) /
              <code class="inline">python3 -m venv .venv</code>
            </li>
            <li>
              Activate:
              <code class="inline">.venv\Scripts\activate</code> (Windows) /
              <code class="inline">source .venv/bin/activate</code>
            </li>
            <li>
              Install:
              <code class="inline">pip install -r requirements.txt</code>
            </li>
            <li>
              Run: <code class="inline">python 06_cosine_similarity.py</code>
            </li>
          </ul>

          <div class="warnBox">
            <b>Class tip:</b> After selecting a file here, click
            <b>Copy Code</b> → paste into the Pyodide editor (right) to run
            instantly.
          </div>
        </div>

        <!-- MIDDLE: selected file details + preview -->
        <div class="card">
          <div class="toolbar">
            <div class="left">
              <button id="copyBtn">Copy Code</button>
              <button class="secondary" id="downloadBtn">Download .py</button>
            </div>
            <div class="status" id="activeMeta">Select a file on the left.</div>
          </div>

          <h3 id="activeTitle">No file selected</h3>
          <p class="muted" id="activeExplain">
            Click a file name on the left to load its explanation and code
            preview.
          </p>

          <div class="warnBox" id="runBox" style="display: none"></div>

          <pre class="out" id="codeOut">—</pre>
        </div>

        <!-- RIGHT: embedded editor -->
        <div class="card editorCol" id="editor">
          <h3>
            Embedded Pyodide Editor <span class="pill">Internet required</span>
          </h3>
          <p class="muted">
            This lets students run the same Python snippets in-browser. For
            serious work, they should still run scripts in VS Code terminal.
          </p>

          <div
            class="iframeWrap"
            title="Programmer’s Picnic Pyodide Editor (embedded)"
          >
            <iframe
              loading="lazy"
              referrerpolicy="no-referrer"
              src="https://www.learnwithchampak.live/2026/01/programmers-picnic-python-editor.html"
            ></iframe>
          </div>

          <div class="miniHelp">
            <span><b>Workflow:</b></span>
            <span>1) Select a file on left</span>
            <span>→ 2) Click <b>Copy Code</b></span>
            <span>→ 3) Paste in editor and Run</span>
            <span>→ 4) Then run the same file in VS Code terminal</span>
          </div>

          <div class="warnBox">
            <b>Note:</b> If the embedded editor refuses to load inside an iframe
            due to site headers, open it directly in a new tab:
            <code class="inline"
              >https://www.learnwithchampak.live/2026/01/programmers-picnic-python-editor.html</code
            >
          </div>
        </div>
      </div>

      <div class="footer">
        Light saffron theme • NLP Week • Python file guide + code preview +
        embedded editor
      </div>
    </div>

    <script>
      // Put this MASTER.html inside nlp-lab/python/
      // It expects the Python files to be in the SAME folder as this HTML.

      const FILES = [
        {
          name: "00_quick_test.py",
          tag: "Setup",
          goal: "Verify installation and imports (NLTK + scikit-learn).",
          teaches: [
            "How to test whether packages are installed correctly",
            "Common first step before starting NLP work",
          ],
          run: "python 00_quick_test.py",
          watch: "You should see versions printed and ✅ Setup OK.",
        },
        {
          name: "01_words_tokenize.py",
          tag: "Words",
          goal: "Tokenize words after cleaning (lowercase, remove punctuation, normalize spaces).",
          teaches: [
            "What tokens are (words as units)",
            "Why cleaning text makes NLP more consistent",
          ],
          run: "python 01_words_tokenize.py",
          watch: "Change the input sentence and see tokens update.",
        },
        {
          name: "02_sentences_split.py",
          tag: "Sentences",
          goal: "Split a paragraph into sentences using simple regex rules.",
          teaches: [
            "Sentence segmentation basics",
            "Limitations of rule-based splitting (Mr., Dr., etc.)",
          ],
          run: "python 02_sentences_split.py",
          watch: "Try abbreviations like 'Dr.' and observe splits.",
        },
        {
          name: "03_stopwords.py",
          tag: "Stopwords",
          goal: "Remove common words like 'the', 'is', 'to' that add little meaning in many tasks.",
          teaches: [
            "Stopword concept",
            "Why stopwords matter in similarity and keyword tasks",
          ],
          run: "python 03_stopwords.py",
          watch: "Add/remove stopwords and see how output changes.",
        },
        {
          name: "04_syn_ant_demo.py",
          tag: "Meaning",
          goal: "Synonyms and antonyms using a small offline thesaurus (demo).",
          teaches: [
            "Basic meaning relationships: synonym/antonym",
            "Why real NLP uses WordNet/embeddings/LLMs for broader coverage",
          ],
          run: "python 04_syn_ant_demo.py",
          watch: "Add new words into THESAURUS and re-run.",
        },
        {
          name: "05_translation_demo.py",
          tag: "Translate",
          goal: "English → Hindi and reverse translation (tiny dictionary demo).",
          teaches: [
            "Pipeline idea: tokenize → map words → output",
            "Why real translation needs models/APIs (Hindi word forms & grammar)",
          ],
          run: "python 05_translation_demo.py",
          watch: "Expand EN_HI dictionary and see better demo translations.",
        },
        {
          name: "06_cosine_similarity.py",
          tag: "Similarity",
          goal: "Cosine similarity between two sentences using bag-of-words vectors.",
          teaches: [
            "How text becomes vectors",
            "Cosine similarity range (0 different → 1 similar)",
            "Stopwords impact on similarity",
          ],
          run: "python 06_cosine_similarity.py",
          watch: "Make sentences identical → score near 1.0.",
        },
      ];

      const fileList = document.getElementById("fileList");
      const activeTitle = document.getElementById("activeTitle");
      const activeExplain = document.getElementById("activeExplain");
      const activeMeta = document.getElementById("activeMeta");
      const codeOut = document.getElementById("codeOut");
      const runBox = document.getElementById("runBox");
      const copyBtn = document.getElementById("copyBtn");
      const downloadBtn = document.getElementById("downloadBtn");
      const serverHint = document.getElementById("serverHint");

      let activeFile = null;
      let activeCode = "";

      function esc(s) {
        return (s || "").replace(
          /[&<>]/g,
          (c) => ({ "&": "&amp;", "<": "&lt;", ">": "&gt;" })[c],
        );
      }

      function renderFileButtons() {
        fileList.innerHTML = "";
        FILES.forEach((f, idx) => {
          const btn = document.createElement("button");
          btn.className = "fileBtn";
          btn.type = "button";
          btn.innerHTML = `
          <div>
            <b>${esc(f.name)}</b><br/>
            <span>${esc(f.goal)}</span>
          </div>
          <span class="tag">${esc(f.tag)}</span>
        `;
          btn.addEventListener("click", () => selectFile(idx));
          fileList.appendChild(btn);
        });
      }

      async function selectFile(index) {
        const f = FILES[index];
        activeFile = f;
        activeTitle.textContent = f.name;

        const teaches = (f.teaches || []).map((x) => "• " + x).join("\n");
        activeExplain.textContent = `${f.goal}\n\nWhat it teaches:\n${teaches}`;

        runBox.style.display = "block";
        runBox.innerHTML = `
        <b>Run:</b> <code class="inline">${esc(f.run)}</code><br/>
        <b>What to observe:</b> ${esc(f.watch)}
      `;

        activeMeta.innerHTML = `Selected: <span class="ok">${esc(f.tag)}</span>`;

        codeOut.textContent = "Loading code…";

        try {
          const res = await fetch("./" + encodeURIComponent(f.name), {
            cache: "no-store",
          });
          if (!res.ok) throw new Error("HTTP " + res.status);
          activeCode = await res.text();
          codeOut.textContent = activeCode;
        } catch (err) {
          activeCode = "";
          codeOut.textContent =
            "❌ Could not load file source via fetch.\n\n" +
            "Most common reason: you opened MASTER.html directly (file://).\n\n" +
            "✅ Fix: Use Live Server or run a local server:\n" +
            "Windows: py -m http.server 5501\n" +
            "Mac/Linux: python3 -m http.server 5501\n\n" +
            "Then open: http://localhost:5501/MASTER.html\n\n" +
            "Error: " +
            String(err);
          activeMeta.innerHTML = `Status: <span class="bad">Preview blocked</span>`;
        }
      }

      async function copyCode() {
        if (!activeCode) {
          alert(
            "No code loaded yet. Select a file first (and run via Live Server).",
          );
          return;
        }
        try {
          await navigator.clipboard.writeText(activeCode);
          const old = copyBtn.textContent;
          copyBtn.textContent = "Copied!";
          setTimeout(() => (copyBtn.textContent = old), 900);
        } catch {
          alert(
            "Copy failed (clipboard blocked). Try in a secure context (localhost).",
          );
        }
      }

      function downloadPy() {
        if (!activeFile) {
          alert("Select a file first.");
          return;
        }
        const filename = activeFile.name;
        const blob = new Blob([activeCode || ""], {
          type: "text/x-python;charset=utf-8",
        });
        const url = URL.createObjectURL(blob);

        const a = document.createElement("a");
        a.href = activeCode ? url : filename;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        a.remove();

        if (activeCode) URL.revokeObjectURL(url);
      }

      function setServerHint() {
        const isFile = location.protocol === "file:";
        if (isFile) {
          serverHint.innerHTML = `<span class="bad">Open via Live Server / localhost for code preview</span>`;
        } else {
          serverHint.innerHTML = `<span class="ok">Running on server (${location.protocol}//${location.host})</span>`;
        }
      }

      copyBtn.addEventListener("click", copyCode);
      downloadBtn.addEventListener("click", downloadPy);

      renderFileButtons();
      setServerHint();

      // Auto-select first file
      selectFile(0);
    </script>
  </body>
</html>
