<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Python while Loop ‚Äî Comprehensive Lesson + Pyodide</title>
    <meta
      name="description"
      content="A comprehensive lesson on Python while loops with common patterns, pitfalls, and a Pyodide editor to run code in the browser."
    />
    <style>
      :root {
        /* Light saffron theme */
        --bg: #fff7e6;
        --card: #ffffff;
        --ink: #1f2937;
        --muted: #6b7280;
        --brand: #d97706;
        --brand2: #f59e0b;
        --border: #eadcc5;
        --shadow: 0 16px 34px rgba(0, 0, 0, 0.08);

        --codebg: #eefbf1;
        --okbg: #d4edda;
        --okink: #155724;
        --badbg: #f8d7da;
        --badink: #721c24;

        --chip: #fff1d6;
        --chipInk: #7c2d12;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Segoe UI", system-ui, -apple-system, Roboto, Arial,
          sans-serif;
        background: var(--bg);
        color: var(--ink);
        padding: 24px;
        line-height: 1.65;
      }

      .container {
        max-width: 1100px;
        margin: 0 auto;
      }

      header.hero {
        background: linear-gradient(180deg, #ffffff, #fff3d1);
        border: 1px solid var(--border);
        border-radius: 18px;
        padding: 18px 18px 14px;
        box-shadow: var(--shadow);
        margin-bottom: 18px;
      }

      h1 {
        margin: 0 0 6px;
        color: #7c2d12;
        font-size: 1.85rem;
        line-height: 1.2;
      }

      h2 {
        margin-top: 22px;
        margin-bottom: 10px;
        color: #92400e;
        font-size: 1.32rem;
      }

      h3 {
        margin: 14px 0 8px;
        color: #7c2d12;
        font-size: 1.08rem;
      }

      p,
      li {
        color: var(--ink);
      }

      .muted {
        color: var(--muted);
      }

      .grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 14px;
      }
      @media (min-width: 980px) {
        .grid.two {
          grid-template-columns: 1.1fr 0.9fr;
        }
      }

      hr {
        border: none;
        border-top: 1px solid var(--border);
        margin: 18px 0;
      }

      ul,
      ol {
        padding-left: 22px;
      }

      .chip {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 4px 10px;
        border-radius: 999px;
        background: var(--chip);
        border: 1px solid var(--border);
        color: var(--chipInk);
        font-weight: 700;
        font-size: 0.88rem;
      }

      code {
        background: var(--codebg);
        padding: 2px 6px;
        border-radius: 6px;
        border: 1px solid #d6f2dc;
        font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
        font-size: 0.98em;
      }

      /* Code block wrapper */
      .codeblock {
        border: 1px solid var(--border);
        background: var(--card);
        border-radius: 14px;
        overflow: hidden;
        box-shadow: var(--shadow);
        margin: 12px 0 14px;
      }
      .codeblock .bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 12px;
        border-bottom: 1px solid var(--border);
        background: #fff1d6;
        gap: 10px;
      }
      .codeblock .bar .label {
        font-weight: 700;
        color: #7c2d12;
        font-size: 0.95rem;
      }

      button {
        appearance: none;
        border: 1px solid rgba(0, 0, 0, 0.08);
        background: linear-gradient(180deg, var(--brand2), var(--brand));
        color: #fff;
        padding: 8px 12px;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 700;
        transition: transform 0.05s ease, filter 0.15s ease;
        white-space: nowrap;
      }
      button:hover {
        filter: brightness(1.03);
      }
      button:active {
        transform: translateY(1px);
      }
      button:disabled {
        opacity: 0.7;
        cursor: not-allowed;
      }

      .btn-ghost {
        background: #fff;
        color: #7c2d12;
        border: 1px solid var(--border);
      }

      pre {
        margin: 0;
        padding: 12px;
        background: var(--codebg);
        overflow: auto;
      }
      pre code {
        border: none;
        background: transparent;
        padding: 0;
        display: block;
        white-space: pre;
      }

      .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 16px;
        box-shadow: var(--shadow);
        padding: 14px;
      }

      .callout {
        background: #fffbe7;
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 16px;
        box-shadow: var(--shadow);
        margin: 14px 0;
      }

      .warn {
        background: #fff1f2;
        border: 1px solid #fecdd3;
      }

      /* Pyodide editor */
      .editor {
        display: grid;
        grid-template-columns: 1fr;
        gap: 10px;
      }
      @media (min-width: 980px) {
        .editor {
          grid-template-columns: 1fr 1fr;
        }
      }

      textarea {
        width: 100%;
        min-height: 300px;
        resize: vertical;
        border-radius: 14px;
        border: 1px solid var(--border);
        padding: 12px;
        font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
        font-size: 14px;
        background: #fff;
        color: var(--ink);
        outline: none;
      }

      .output {
        border-radius: 14px;
        border: 1px solid var(--border);
        padding: 12px;
        background: #0b1220;
        color: #e5e7eb;
        font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
        min-height: 300px;
        white-space: pre-wrap;
        overflow: auto;
      }

      .row {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        align-items: center;
      }

      .status {
        font-weight: 700;
        color: var(--muted);
      }

      details summary {
        cursor: pointer;
        font-weight: 800;
        color: #7c2d12;
        margin: 8px 0;
      }

      footer {
        margin-top: 22px;
        color: var(--muted);
        font-size: 0.95rem;
        text-align: center;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <header class="hero">
        <h1>üîÅ Python <code>while</code> Loop ‚Äî Comprehensive Lesson + Practice Editor</h1>
        <p class="muted">
          Learn how <code>while</code> loops work (conditions, counters, sentinels, break/continue, nested loops),
          avoid infinite loops, and run code instantly using Pyodide.
        </p>
      </header>

      <h2>1) What is a <code>while</code> loop?</h2>
      <div class="card">
        <p>
          A <code>while</code> loop repeats a block of code <strong>as long as a condition is True</strong>.
          The condition is checked <strong>before</strong> each iteration.
        </p>
        <ul>
          <li>If the condition is True ‚Üí the loop runs.</li>
          <li>If the condition becomes False ‚Üí the loop stops.</li>
          <li>If the condition never becomes False ‚Üí you get an <strong>infinite loop</strong>.</li>
        </ul>
      </div>

      <div class="codeblock">
        <div class="bar">
          <span class="label">Basic pattern</span>
          <button class="copy-btn" type="button">Copy</button>
        </div>
        <pre><code>count = 1
while count <= 5:
    print(count)
    count += 1</code></pre>
      </div>

      <h2>2) Anatomy of a while loop (must-have parts)</h2>
      <div class="grid two">
        <div class="card">
          <h3><span class="chip">A</span> Initialization</h3>
          <p>Set a starting value (like a counter).</p>

          <h3><span class="chip">B</span> Condition</h3>
          <p>The loop runs while this stays True.</p>

          <h3><span class="chip">C</span> Update</h3>
          <p>Change variables so the loop can eventually stop.</p>

          <div class="codeblock">
            <div class="bar">
              <span class="label">Initialization ‚Üí Condition ‚Üí Update</span>
              <button class="copy-btn" type="button">Copy</button>
            </div>
            <pre><code>i = 0                 # A) initialization
while i < 3:          # B) condition
    print("i =", i)
    i += 1            # C) update</code></pre>
          </div>
        </div>

        <div class="callout warn">
          <h3>Common mistake: forgetting the update</h3>
          <p class="muted">
            If you forget to change the loop variable, the condition may never become False.
            That causes an infinite loop.
          </p>
          <div class="codeblock" style="box-shadow:none; margin-top:10px">
            <div class="bar">
              <span class="label">Infinite loop example (DON'T RUN in real terminal)</span>
              <button class="copy-btn" type="button">Copy</button>
            </div>
            <pre><code>i = 0
while i < 5:
    print(i)
    # i += 1  ‚ùå missing update -> infinite loop</code></pre>
          </div>
        </div>
      </div>

      <h2>3) Classic patterns you should master</h2>

      <details open>
        <summary>‚úÖ Pattern 1: Counting loop (counter-controlled)</summary>
        <div class="codeblock">
          <div class="bar">
            <span class="label">Count from 1 to 10</span>
            <button class="copy-btn" type="button">Copy</button>
          </div>
          <pre><code>i = 1
while i <= 10:
    print(i, end=" ")
    i += 1</code></pre>
        </div>
      </details>

      <details>
        <summary>‚úÖ Pattern 2: Countdown loop</summary>
        <div class="codeblock">
          <div class="bar">
            <span class="label">Countdown 10 to 1</span>
            <button class="copy-btn" type="button">Copy</button>
          </div>
          <pre><code>i = 10
while i >= 1:
    print(i, end=" ")
    i -= 1</code></pre>
        </div>
      </details>

      <details>
        <summary>‚úÖ Pattern 3: Sentinel-controlled loop (stop on a special value)</summary>
        <div class="codeblock">
          <div class="bar">
            <span class="label">Stop when user enters 'q'</span>
            <button class="copy-btn" type="button">Copy</button>
          </div>
          <pre><code>while True:
    s = input("Type something (q to quit): ")
    if s.lower() == "q":
        break
    print("You typed:", s)</code></pre>
        </div>
      </details>

      <details>
        <summary>‚úÖ Pattern 4: Input validation loop</summary>
        <div class="codeblock">
          <div class="bar">
            <span class="label">Keep asking until a positive number</span>
            <button class="copy-btn" type="button">Copy</button>
          </div>
          <pre><code>n = int(input("Enter a positive number: "))
while n <= 0:
    print("Invalid. Try again.")
    n = int(input("Enter a positive number: "))
print("Accepted:", n)</code></pre>
        </div>
      </details>

      <details>
        <summary>‚úÖ Pattern 5: Accumulator loop (sum/average)</summary>
        <div class="codeblock">
          <div class="bar">
            <span class="label">Sum 1..n using while</span>
            <button class="copy-btn" type="button">Copy</button>
          </div>
          <pre><code>n = 10
total = 0
i = 1
while i <= n:
    total += i
    i += 1
print("Sum =", total)</code></pre>
        </div>
      </details>

      <h2>4) <code>break</code> and <code>continue</code></h2>
      <div class="grid two">
        <div class="card">
          <h3><code>break</code> (exit the loop immediately)</h3>
          <div class="codeblock">
            <div class="bar">
              <span class="label">Stop early when found</span>
              <button class="copy-btn" type="button">Copy</button>
            </div>
            <pre><code>i = 1
while i <= 10:
    if i == 6:
        break
    print(i, end=" ")
    i += 1
# Output: 1 2 3 4 5</code></pre>
          </div>
        </div>

        <div class="card">
          <h3><code>continue</code> (skip to next iteration)</h3>
          <div class="codeblock">
            <div class="bar">
              <span class="label">Skip odd numbers</span>
              <button class="copy-btn" type="button">Copy</button>
            </div>
            <pre><code>i = 0
while i < 10:
    i += 1
    if i % 2 == 1:
        continue
    print(i, end=" ")
# Output: 2 4 6 8 10</code></pre>
          </div>
        </div>
      </div>

      <h2>5) Nested while loops</h2>
      <div class="card">
        <p>
          A nested loop means a loop inside another loop. Common uses: tables, grids, patterns.
        </p>
      </div>
      <div class="codeblock">
        <div class="bar">
          <span class="label">Multiplication table (1..5) using while</span>
          <button class="copy-btn" type="button">Copy</button>
        </div>
        <pre><code>i = 1
while i <= 5:
    j = 1
    while j <= 5:
        print(i * j, end="\t")
        j += 1
    print()
    i += 1</code></pre>
      </div>

      <h2>6) <code>while ... else</code> (rare but useful)</h2>
      <div class="callout">
        <p>
          Python supports <code>while ... else</code>. The <code>else</code> block runs only if the loop
          ends normally (condition becomes False). If you exit using <code>break</code>, the <code>else</code> does not run.
        </p>
        <div class="codeblock" style="box-shadow:none; margin-top:10px">
          <div class="bar">
            <span class="label">Search example with while-else</span>
            <button class="copy-btn" type="button">Copy</button>
          </div>
          <pre><code>nums = [3, 7, 11, 20]
target = 9
i = 0

while i < len(nums):
    if nums[i] == target:
        print("Found at index", i)
        break
    i += 1
else:
    print("Not found")</code></pre>
        </div>
      </div>

      <h2>7) Try it yourself ‚Äî Pyodide Python Editor</h2>
      <div class="card">
        <p>
          Run Python directly in your browser using <strong>Pyodide</strong> (Python compiled to WebAssembly).
        </p>

        <div class="editor">
          <div>
            <div class="row" style="justify-content: space-between; margin-bottom: 8px;">
              <span class="chip">Python code</span>
              <div class="row">
                <button id="runBtn" type="button">Run ‚ñ∂</button>
                <button id="resetBtn" type="button" class="btn-ghost">Reset</button>
              </div>
            </div>

            <textarea id="codeArea" spellcheck="false"></textarea>

            <div class="row" style="margin-top: 10px;">
              <span class="status" id="pyStatus">Loading Pyodide‚Ä¶</span>
              <button id="clearOutBtn" type="button" class="btn-ghost">Clear Output</button>
              <button id="copyOutBtn" type="button" class="btn-ghost">Copy Output</button>
            </div>

            <p class="muted" style="margin-top: 8px;">
              Tip: Use <code>print()</code>. In this page, <code>input()</code> is redirected to a simple browser prompt.
            </p>
          </div>

          <div>
            <div class="row" style="justify-content: space-between; margin-bottom: 8px;">
              <span class="chip">Output</span>
              <span class="muted">stdout / errors</span>
            </div>
            <div id="output" class="output"></div>

            <div class="callout warn" style="margin-top: 10px;">
              <h3 style="margin-top:0;">About <code>input()</code> in browser</h3>
              <p class="muted" style="margin-bottom: 0;">
                When you call <code>input()</code>, you will see a popup prompt. Cancel returns an empty string.
              </p>
            </div>
          </div>
        </div>
      </div>

      <h2>8) Practice assignments (while loop)</h2>
      <ol>
        <li>Print numbers from 1 to 100 using <code>while</code>.</li>
        <li>Print all even numbers from 1 to 50 using <code>while</code>.</li>
        <li>Find the factorial of a number using <code>while</code>.</li>
        <li>Print the Fibonacci sequence up to <code>n</code> terms using <code>while</code>.</li>
        <li>Reverse a number (e.g., 1234 ‚Üí 4321) using <code>while</code>.</li>
        <li>Keep taking input until the user enters <code>0</code>, then print the sum of all inputs.</li>
      </ol>

      <footer>
        Built for learning ‚Ä¢ while loop patterns ‚Ä¢ Runs Python in-browser (Pyodide) ‚Ä¢ Light saffron theme
      </footer>
    </div>

    <script>
      // ---- Copy buttons for code blocks (robust) ----
      async function copyText(text) {
        if (navigator.clipboard && window.isSecureContext) {
          await navigator.clipboard.writeText(text);
          return;
        }
        const ta = document.createElement("textarea");
        ta.value = text;
        ta.style.position = "fixed";
        ta.style.left = "-9999px";
        ta.style.top = "-9999px";
        document.body.appendChild(ta);
        ta.focus();
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
      }

      document.querySelectorAll(".codeblock .copy-btn").forEach((btn) => {
        btn.addEventListener("click", async () => {
          const code =
            btn.closest(".codeblock")?.querySelector("pre code")?.innerText || "";
          const old = btn.textContent;
          btn.disabled = true;
          btn.textContent = "Copying...";
          try {
            await copyText(code);
            btn.textContent = "Copied!";
          } catch (e) {
            btn.textContent = "Copy failed";
          }
          setTimeout(() => {
            btn.textContent = old;
            btn.disabled = false;
          }, 1200);
        });
      });

      // ---- Pyodide Editor ----
      const outputEl = document.getElementById("output");
      const statusEl = document.getElementById("pyStatus");
      const runBtn = document.getElementById("runBtn");
      const resetBtn = document.getElementById("resetBtn");
      const clearOutBtn = document.getElementById("clearOutBtn");
      const copyOutBtn = document.getElementById("copyOutBtn");
      const codeArea = document.getElementById("codeArea");

      const DEFAULT_CODE = `# while loop playground

# 1) Count 1..5
i = 1
while i <= 5:
    print(i)
    i += 1

print("---")

# 2) Sum 1..n
n = 10
total = 0
i = 1
while i <= n:
    total += i
    i += 1
print("Sum 1..", n, "=", total)

print("---")

# 3) Sentinel loop (stop at q)
# Uncomment to try:
# while True:
#     s = input("Type something (q to quit): ")
#     if s.lower() == "q":
#         break
#     print("You typed:", s)

print("---")

# 4) while-else example: searching
nums = [3, 7, 11, 20]
target = 9
idx = 0

while idx < len(nums):
    if nums[idx] == target:
        print("Found at index", idx)
        break
    idx += 1
else:
    print("Not found")
`;

      codeArea.value = DEFAULT_CODE;

      function appendOut(text) {
        outputEl.textContent += text;
        outputEl.scrollTop = outputEl.scrollHeight;
      }

      function setStatus(text) {
        statusEl.textContent = text;
      }

      // Provide a basic input() prompt for Pyodide
      function installInputShim(pyodide) {
        pyodide.globals.set("js_input", (promptText) => {
          const v = window.prompt(promptText || "Input:");
          return v === null ? "" : v;
        });

        const shim = `
import builtins
def _browser_input(prompt=""):
    return js_input(str(prompt))
builtins.input = _browser_input
`;
        return pyodide.runPythonAsync(shim);
      }

      let pyodideReady = null;

      async function loadPyodideAndPackages() {
        setStatus("Loading Pyodide‚Ä¶ (first load can take a bit)");
        appendOut("Loading Pyodide...\n");

        const script = document.createElement("script");
        script.src = "https://cdn.jsdelivr.net/pyodide/v0.26.2/full/pyodide.js";
        script.onload = async () => {
          try {
            const pyodide = await loadPyodide({
              indexURL: "https://cdn.jsdelivr.net/pyodide/v0.26.2/full/",
            });

            pyodide.setStdout({ batched: (s) => appendOut(s) });
            pyodide.setStderr({ batched: (s) => appendOut(s) });

            await installInputShim(pyodide);

            setStatus("Pyodide loaded ‚úÖ");
            appendOut("Pyodide loaded ‚úÖ\n\n");
            pyodideReadyResolve(pyodide);
          } catch (err) {
            setStatus("Pyodide failed to load ‚ùå");
            appendOut("Error loading Pyodide:\n" + err + "\n");
          }
        };
        script.onerror = () => {
          setStatus("Failed to load pyodide.js ‚ùå");
          appendOut("Network error: could not load pyodide.js\n");
        };
        document.head.appendChild(script);
      }

      let pyodideReadyResolve;
      pyodideReady = new Promise((resolve) => {
        pyodideReadyResolve = resolve;
      });

      loadPyodideAndPackages();

      runBtn.addEventListener("click", async () => {
        runBtn.disabled = true;
        setStatus("Running‚Ä¶");
        appendOut("\n‚ñ∂ Running...\n");

        const pyodide = await pyodideReady;
        try {
          await pyodide.runPythonAsync(codeArea.value);
          appendOut("\n‚úì Done.\n");
          setStatus("Ready ‚úÖ");
        } catch (err) {
          appendOut("\n‚úó Error:\n" + err + "\n");
          setStatus("Error ‚ùå");
        } finally {
          runBtn.disabled = false;
        }
      });

      resetBtn.addEventListener("click", () => {
        codeArea.value = DEFAULT_CODE;
        setStatus("Ready ‚úÖ");
      });

      clearOutBtn.addEventListener("click", () => {
        outputEl.textContent = "";
        setStatus("Ready ‚úÖ");
      });

      copyOutBtn.addEventListener("click", async () => {
        const old = copyOutBtn.textContent;
        copyOutBtn.disabled = true;
        copyOutBtn.textContent = "Copying...";
        try {
          await copyText(outputEl.textContent || "");
          copyOutBtn.textContent = "Copied!";
        } catch (e) {
          copyOutBtn.textContent = "Copy failed";
        }
        setTimeout(() => {
          copyOutBtn.textContent = old;
          copyOutBtn.disabled = false;
        }, 1200);
      });
    </script>
  </body>
</html>
