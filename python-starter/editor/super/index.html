<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Programmer‚Äôs Picnic ‚Äî Pyodide Judge v2</title>
    <meta
      name="description"
      content="Programmer‚Äôs Picnic ‚Äî Python Judge with Teacher/Student mode, problems, tests, XP and packages."
    />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="pp-app" id="ppApp">
      <div class="pp-wrap">
        <header class="pp-topbar">
          <div class="pp-brand">
            <div class="pp-logo" aria-hidden="true"></div>
            <div>
              <h1 class="pp-title">Programmer‚Äôs Picnic ‚Äî Pyodide Judge</h1>
              <div class="pp-sub">
                <span class="pp-badge" id="ppModeBadge">Mode</span>
                <span class="pp-small"
                  >Teacher: <span class="pp-mono">?tmode=1</span> ‚Ä¢ Student:
                  <span class="pp-mono">?tmode=0</span></span
                >
              </div>
            </div>
          </div>
          <div class="pp-actions">
            <button class="pp-btn" id="ppSave">üíæ Save</button>
            <button class="pp-btn" id="ppLoad">üìÇ Load</button>
            <button class="pp-btn" id="ppShare">üîó Share</button>
            <a class="pp-btn" href="./builder.html" title="Problem Test Builder"
              >üß™ Builder</a
            >
            <button class="pp-btn pp-btn-danger" id="ppClear">üßπ Clear</button>
          </div>
        </header>

        <div
          class="pp-card"
          id="ppStudentBox"
          style="display: none; margin-bottom: 12px"
        >
          <div class="pp-cardhead">
            <h2>Student Info</h2>
            <div class="pp-small">Saved locally in your browser</div>
          </div>
          <div class="pp-pad pp-grid2">
            <div>
              <div class="pp-small">Name</div>
              <input
                class="pp-input"
                id="ppStudentName"
                placeholder="Your name"
              />
            </div>
            <div>
              <div class="pp-small">Roll / ID</div>
              <input
                class="pp-input"
                id="ppStudentRoll"
                placeholder="Your roll number"
              />
            </div>
          </div>
        </div>

        <div class="pp-grid">
          <!-- LEFT: Editor -->
          <section class="pp-card">
            <div class="pp-cardhead">
              <div>
                <h2>Editor</h2>
                <div class="pp-small">
                  Write Python, run safely inside a worker
                </div>
              </div>
              <div class="pp-toolbar">
                <button class="pp-btn pp-btn-primary" id="ppRun">‚ñ∂ Run</button>
                <button class="pp-btn" id="ppStop">‚èπ Stop</button>
                <span class="pp-pill"
                  ><span class="pp-dot" id="ppDot"></span>
                  <span id="ppStatusTxt">Idle</span></span
                >
              </div>
            </div>

            <div class="pp-editorwrap">
              <div class="pp-tabs" id="ppTabs"></div>

              <div class="pp-editorarea">
                <div class="pp-editor">
                  <pre class="pp-gutter" id="ppGutter">1</pre>
                  <textarea
                    class="pp-code"
                    id="ppCode"
                    spellcheck="false"
                  ></textarea>
                </div>
              </div>

              <div class="pp-footerbar">
                <div class="pp-status">
                  <div class="pp-progress">
                    <div class="pp-bar" id="ppBar"></div>
                  </div>
                  <span class="pp-badge">XP: <b id="ppXp">0</b></span>
                  <span class="pp-badge">Streak: <b id="ppStreak">0</b></span>
                </div>
                <div class="pp-footerRight">
                  <span class="pp-kbd">Ctrl</span
                  ><span class="pp-kbd">Enter</span>
                </div>
              </div>
            </div>
          </section>

          <!-- RIGHT: Problems + IO + Teacher -->
          <aside class="pp-split">
            <section class="pp-card">
              <div class="pp-cardhead">
                <div>
                  <h2>Problems</h2>
                  <div class="pp-small">Pick a problem and practice</div>
                </div>
                <div class="pp-toolbar">
                  <select class="pp-select" id="ppProblemSel"></select>
                  <span class="pp-badge" id="ppAttemptBadge"
                    >Attempts today: 0</span
                  >
                </div>
              </div>
              <div class="pp-pad" id="ppProblemCard">
                <div class="pp-judge">
                  <h3 id="ppProbTitle">‚Äî</h3>
                  <p class="pp-mono" id="ppProbStatement"></p>
                  <div class="pp-grid2">
                    <div>
                      <div class="pp-small">Hints</div>
                      <ul id="ppProbHints" class="pp-small"></ul>
                    </div>
                    <div>
                      <div class="pp-small">Examples</div>
                      <div id="ppProbExamples"></div>
                    </div>
                  </div>

                  <div class="pp-row" style="margin-top: 10px">
                    <button class="pp-btn" id="ppRunSamples">
                      üß™ Run Samples
                    </button>
                    <button class="pp-btn pp-btn-primary" id="ppRunAll">
                      ‚úÖ Run All Tests
                    </button>
                  </div>
                </div>
              </div>
            </section>

            <section class="pp-card">
              <div class="pp-cardhead">
                <div>
                  <h2>Input / Output</h2>
                  <div class="pp-small">stdin, stdout, stderr</div>
                </div>
              </div>
              <div class="pp-pad">
                <div class="pp-small">stdin</div>
                <textarea
                  class="pp-textarea pp-io"
                  id="ppStdin"
                  placeholder="Input lines..."
                ></textarea>

                <div class="pp-small" style="margin-top: 10px">stdout</div>
                <pre class="pp-out" id="ppOut"></pre>

                <div class="pp-small" style="margin-top: 10px">stderr</div>
                <pre class="pp-out pp-out-stderr" id="ppErr"></pre>
              </div>
            </section>

            <section class="pp-card" id="ppTeacherPanel" style="display: none">
              <div class="pp-cardhead">
                <div>
                  <h2>Teacher Panel</h2>
                  <div class="pp-small">Classroom policy + packages</div>
                </div>
              </div>

              <div class="pp-pad">
                <div class="pp-grid2">
                  <label class="pp-toggle pp-toggle-wide"
                    ><input type="checkbox" id="ppToggleClassroom" /> Classroom
                    Mode</label
                  >
                  <label class="pp-toggle pp-toggle-wide"
                    ><input type="checkbox" id="ppToggleImports" /> Block
                    imports (except allow-list)</label
                  >
                  <label class="pp-toggle pp-toggle-wide"
                    ><input type="checkbox" id="ppToggleOpen" /> Disable
                    open()</label
                  >
                  <label class="pp-toggle pp-toggle-wide"
                    ><input type="checkbox" id="ppToggleEvalExec" /> Disable
                    eval/exec</label
                  >
                  <label class="pp-toggle pp-toggle-wide"
                    ><input type="checkbox" id="ppAllowPkgs" /> Allow Packages
                    (micropip)</label
                  >
                </div>

                <div class="pp-small" style="margin-top: 10px">
                  Packages (comma-separated)
                </div>
                <input
                  id="ppPkgs"
                  class="pp-input"
                  style="width: 100%"
                  placeholder="numpy, pandas, matplotlib"
                />
                <div class="pp-small" style="margin-top: 8px">Installed:</div>
                <div
                  class="pp-pill"
                  style="
                    width: 100%;
                    justify-content: flex-start;
                    flex-wrap: wrap;
                    gap: 6px;
                  "
                  id="ppInstalledPkgs"
                ></div>

                <div class="pp-row" style="margin-top: 10px">
                  <button class="pp-btn" id="ppInstall">‚¨á Install</button>
                  <button class="pp-btn" id="ppListPkgs">
                    üì¶ List available
                  </button>
                </div>

                <div class="pp-small" style="margin-top: 10px">Policy JSON</div>
                <pre
                  class="pp-out"
                  id="ppPolicyBlock"
                  style="background: #fff; color: #111827"
                ></pre>
              </div>
            </section>
          </aside>
        </div>

        <div class="pp-toast" id="ppToast"></div>
      </div>
    </div>

    <script src="./app.js"></script>
  </body>
</html>
