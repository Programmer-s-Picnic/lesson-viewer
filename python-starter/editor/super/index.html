<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Programmer's Picnic ‚Äî Pyodide Editor (Judge v2)</title>
    <meta
      name="description"
      content="Pyodide editor with Worker-based judge, problems, XP, Classroom & Teacher Mode (tmode)."
    />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="pp-app">
      <div class="pp-wrap">
        <header class="pp-topbar">
          <div class="pp-brand">
            <div class="pp-logo" aria-hidden="true">
              <img
                class="pp-logo"
                src="https://blogger.googleusercontent.com/img/a/AVvXsEhlfwIqq3YYxj6LMFr4E7IKN2bYIor-bFpbUXBT3Jthp8PKmRdWozV3hEk2xcj3kPrJ9WBIkXCr4lw5MTAz0AE5b0lPhQ2ReNbCmMOumP4zLTEOb7GY6s4YWcgcCfzltJVmQcgCObeQNRvn_SWPa_2c6cROZUOBHhRJB20PaV-peuA3GTSafM8JxgaYu5M=s257"
              />
            </div>
            <div>
              <h1 class="pp-title">Programmer's Picnic Python Editor</h1>
              <div class="pp-sub">Programmer's Picnic --- Python Editor</div>
            </div>
          </div>
          <div class="pp-actions">
            <button
              style="visibility: hidden"
              class="pp-btn"
              id="ppTeacherBtn"
              title="Teacher Panel (tmode=1)"
            >
              üéì Teacher
            </button>
            <button class="pp-btn" id="ppFormat">‚éò Format</button>
            <button class="pp-btn" id="ppSave">üíæ Save</button>
            <button class="pp-btn" id="ppShare">üîó Share</button>
            <!-- <a class="pp-btn" href="./builder.html" title="Problem Test Builder"
              >üß™ Builder</a
            > -->
          </div>
        </header>

        <main class="pp-grid">
          <section class="pp-card pp-editorwrap">
            <div class="pp-cardhead">
              <div>
                <h2>Editor</h2>
                <div class="pp-small">
                  Ctrl+Enter to run. Use Problem Mode for tests.
                </div>
              </div>
              <div class="pp-toolbar">
                <button class="pp-btn pp-btn-primary" id="ppRun">
                  ‚ñ∂ Run <span class="pp-kbd">Ctrl</span
                  ><span class="pp-kbd">Enter</span>
                </button>
                <button class="pp-btn pp-btn-danger" id="ppStop">
                  ‚õî Stop
                </button>
                <select id="ppExample" class="pp-select" title="Load example">
                  <option value="">Examples‚Ä¶</option>
                </select>
                <span class="pp-pill"
                  ><b>Pyodide:</b> <span id="ppPyText">worker</span></span
                >
                <label class="pp-toggle"
                  ><input type="checkbox" id="ppTimer" checked /> Timer</label
                >
              </div>
            </div>

            <div class="pp-tabs" id="ppTabs"></div>

            <div class="pp-editorarea">
              <div class="pp-editor">
                <pre class="pp-gutter" id="ppGutter">1</pre>
                <textarea
                  class="pp-code"
                  id="ppCode"
                  spellcheck="false"
                ></textarea>
              </div>
            </div>

            <div class="pp-footerbar">
              <div class="pp-status">
                <span class="pp-dot" id="ppDot"></span>
                <span class="pp-small" id="ppStatus">Ready.</span>
                <div class="pp-progress">
                  <div class="pp-bar" id="ppBar"></div>
                </div>
              </div>

              <div class="pp-footerRight">
                <span class="pp-small">Indent:</span>
                <select
                  id="ppIndent"
                  class="pp-select"
                  style="max-width: 140px"
                >
                  <option value="2">2 spaces</option>
                  <option value="4" selected>4 spaces</option>
                  <option value="tab">Tab</option>
                </select>
                <button class="pp-btn pp-btn-ghost" id="ppNewTab">
                  ‚ûï Tab
                </button>
                <button class="pp-btn pp-btn-ghost" id="ppDelTab">üóëÔ∏è</button>
              </div>
            </div>
          </section>

          <aside class="pp-split">
            <section class="pp-card" id="ppStudentCard">
              <div class="pp-cardhead">
                <div>
                  <h2>Your Details</h2>
                  <div class="pp-small">Used in submissions export.</div>
                </div>
                <div class="pp-toolbar">
                  <span class="pp-pill">Mode: <b id="ppModeText">‚Äî</b></span>
                </div>
              </div>
              <div class="pp-pad">
                <div class="pp-row">
                  <input
                    id="ppStuName"
                    class="pp-input"
                    placeholder="Name (e.g., Ravi Kumar)"
                    style="flex: 1; min-width: 200px"
                  />
                  <input
                    id="ppStuRoll"
                    class="pp-input"
                    placeholder="Roll / ID (e.g., CS21)"
                    style="flex: 1; min-width: 160px"
                  />
                </div>
                <div class="pp-small" style="margin-top: 8px">
                  Tip: fill once; saved in this browser.
                </div>
              </div>
            </section>

            <section class="pp-card">
              <div class="pp-cardhead">
                <div>
                  <h2>Output</h2>
                  <div class="pp-small">
                    stdout shown. stderr shown separately.
                  </div>
                </div>
                <div class="pp-toolbar">
                  <button class="pp-btn pp-btn-ghost" id="ppCopyOut">
                    üìã Copy
                  </button>
                  <button class="pp-btn pp-btn-ghost" id="ppClearOut">
                    üßπ Clear
                  </button>
                </div>
              </div>
              <div class="pp-pad">
                <div class="pp-out" id="ppOut"></div>
                <div
                  class="pp-out pp-out-stderr"
                  id="ppErr"
                  style="margin-top: 10px"
                ></div>
              </div>
            </section>

            <section class="pp-card">
              <div class="pp-cardhead">
                <div>
                  <h2>stdin (input)</h2>
                  <div class="pp-small">One value per line.</div>
                </div>
                <div class="pp-toolbar">
                  <button class="pp-btn pp-btn-ghost" id="ppStdinSample">
                    üéØ Sample
                  </button>
                  <button class="pp-btn pp-btn-ghost" id="ppStdinClear">
                    üßΩ Clear
                  </button>
                </div>
              </div>
              <div class="pp-pad">
                <textarea
                  class="pp-textarea pp-io"
                  id="ppStdin"
                  spellcheck="false"
                  placeholder="5&#10;10&#10;hello"
                ></textarea>
              </div>
            </section>

            <section class="pp-card" id="ppPackagesCard">
              <div class="pp-cardhead">
                <div>
                  <h2>Packages</h2>
                  <div class="pp-small">Disabled in Classroom Mode.</div>
                </div>
                <div class="pp-toolbar">
                  <button class="pp-btn" id="ppInstall">üì¶ Install</button>
                  <button class="pp-btn pp-btn-ghost" id="ppList">
                    üßæ List
                  </button>
                </div>
              </div>
              <div class="pp-pad">
                <input
                  id="ppPkgs"
                  class="pp-input"
                  style="width: 100%"
                  placeholder="numpy, pandas, matplotlib"
                />
                <div class="pp-small" style="margin-top: 8px">Installed:</div>
                <div
                  class="pp-pill"
                  style="
                    width: 100%;
                    justify-content: flex-start;
                    flex-wrap: wrap;
                    gap: 6px;
                  "
                  id="ppInstalledPkgs"
                ></div>
              </div>
            </section>

            <section class="pp-card">
              <div class="pp-cardhead">
                <div>
                  <h2>Problem Mode</h2>
                  <div class="pp-small">
                    Starter ‚Ä¢ Samples ‚Ä¢ Hidden tests ‚Ä¢ Score
                  </div>
                </div>
                <div class="pp-toolbar">
                  <span class="pp-badge"
                    >ü™ô XP: <b id="ppXP">0</b> &nbsp; üî• Streak:
                    <b id="ppStreak">0</b></span
                  >
                </div>
              </div>

              <div class="pp-pad">
                <div class="pp-row">
                  <select
                    id="ppProblem"
                    class="pp-select"
                    style="flex: 1; min-width: 260px"
                  ></select>
                  <button class="pp-btn" id="ppToday">üìÖ Today</button>
                </div>

                <div class="pp-judge" style="margin-top: 10px">
                  <h3 id="ppPTitle">‚Äî</h3>
                  <p id="ppPDesc">Pick a problem.</p>
                  <pre id="ppPExamples" style="display: none"></pre>
                  <div class="pp-row" style="margin-top: 10px">
                    <button class="pp-btn pp-btn-primary" id="ppLoadStarter">
                      ‚ö° Load Starter
                    </button>
                    <button class="pp-btn" id="ppResetStarter">‚Ü© Reset</button>
                    <button class="pp-btn" id="ppHint">üí° Hint</button>
                  </div>
                </div>

                <div class="pp-row" style="margin-top: 10px">
                  <button class="pp-btn" id="ppRunSamples">
                    üß™ Run Samples
                  </button>
                  <button class="pp-btn pp-btn-primary" id="ppRunAll">
                    üèÅ Run All Tests
                  </button>
                  <span class="pp-pill"
                    >‚è± Timeout: <b><span id="ppTimeout">2.5</span>s</b></span
                  >
                </div>

                <div
                  id="ppJudgeSummary"
                  class="pp-small"
                  style="margin-top: 10px"
                ></div>
                <div id="ppJudgeTableWrap"></div>
              </div>
            </section>

            <section class="pp-card" id="ppTeacherPanel" style="display: none">
              <div class="pp-cardhead">
                <div>
                  <h2>Teacher Panel</h2>
                  <div class="pp-small">Visible only when <b>?tmode=1</b></div>
                </div>
                <div class="pp-toolbar">
                  <span class="pp-pill"
                    >Submissions: <b id="ppSubCount">0</b></span
                  >
                </div>
              </div>
              <div class="pp-pad">
                <div class="pp-grid2">
                  <label class="pp-toggle pp-toggle-wide"
                    ><input type="checkbox" id="ppForceClass" /> Force
                    Classroom</label
                  >
                  <label class="pp-toggle pp-toggle-wide"
                    ><input type="checkbox" id="ppExamMode" /> Exam Mode</label
                  >
                  <label class="pp-toggle pp-toggle-wide"
                    ><input type="checkbox" id="ppLockProblem" /> Lock
                    Problem</label
                  >
                  <label class="pp-toggle pp-toggle-wide"
                    ><input type="checkbox" id="ppLimitAttemptsOn" /> Attempt
                    Limit</label
                  >
                  <label class="pp-toggle pp-toggle-wide"
                    ><input type="checkbox" id="ppAllowPkgs" /> Allow
                    Packages</label
                  >
                </div>

                <div class="pp-row" style="margin-top: 10px">
                  <input
                    class="pp-input"
                    id="ppAttemptLimit"
                    type="number"
                    min="1"
                    max="50"
                    value="5"
                    style="width: 140px"
                  />
                  <span class="pp-small">Attempts allowed</span>
                </div>

                <div class="pp-row" style="margin-top: 12px">
                  <button class="pp-btn" id="ppExportSubs">
                    üì§ Export Submissions
                  </button>
                  <button class="pp-btn pp-btn-danger" id="ppClearSubs">
                    üßπ Clear
                  </button>
                </div>

                <div class="pp-small" style="margin-top: 10px">
                  Share student link:
                  <span class="pp-mono" id="ppStudentLink"></span>
                </div>
              </div>
            </section>
          </aside>
        </main>
      </div>

      <div class="pp-toast" id="ppToast"></div>
    </div>

    <script type="module" src="./app.js"></script>
    <script src="https://programmer-s-picnic.github.io/json-images/find-on-page.js"></script>
    <script src="https://programmer-s-picnic.github.io/json-images/imgshow.js"></script>
    <script src="https://programmer-s-picnic.github.io/json-images/hometag.js"></script>
  </body>
</html>
