<!doctype html>
<html lang="en">
<<<<<<< HEAD
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Learn JavaScript — Full Roadmap + Editor</title>
    <meta
      name="description"
      content="A comprehensive Learn JavaScript index page with deep explanations, importance, examples, mistakes, checklists, prompts, and an embedded JS editor."
    />
    <style>
      :root {
        --bg: #fff7e6;
        --card: #ffffff;
        --ink: #1f2937;
        --muted: #6b7280;
        --brand: #d97706;
        --brand2: #f59e0b;
        --border: #eadcc5;
        --shadow: 0 18px 40px rgba(31, 41, 55, 0.14);
        --ring: 0 0 0 4px rgba(245, 158, 11, 0.22);
        --radius: 18px;
        --codebg: #0b1220;
        --codeink: #e5e7eb;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        color: var(--ink);
        font-family:
          ui-sans-serif,
          system-ui,
          -apple-system,
          Segoe UI,
          Roboto,
          Arial,
          "Noto Sans",
          "Helvetica Neue",
          sans-serif;
        background:
          radial-gradient(
            900px 420px at 15% -10%,
            rgba(245, 158, 11, 0.28),
            transparent 60%
          ),
          radial-gradient(
            900px 420px at 85% -10%,
            rgba(217, 119, 6, 0.18),
            transparent 60%
          ),
          var(--bg);
      }
      a {
        color: inherit;
        text-decoration: none;
      }
      .wrap {
        max-width: 1200px;
        margin: 0 auto;
        padding: 18px;
      }
      .topbar {
        position: sticky;
        top: 0;
        z-index: 30;
        backdrop-filter: blur(10px);
        background: rgba(255, 247, 230, 0.72);
        border-bottom: 1px solid rgba(234, 220, 197, 0.9);
      }
      .topbar .row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 14px;
        padding: 12px 18px;
        max-width: 1200px;
        margin: 0 auto;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 800;
      }
      .logo {
        width: 38px;
        height: 38px;
        border-radius: 12px;
        background: linear-gradient(135deg, var(--brand), var(--brand2));
        box-shadow: 0 10px 22px rgba(217, 119, 6, 0.25);
        display: grid;
        place-items: center;
        color: #fff;
        font-weight: 900;
      }
      .badge {
        font-size: 12px;
        padding: 6px 10px;
        border: 1px solid var(--border);
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.75);
        color: var(--muted);
        white-space: nowrap;
      }
      .actions {
        display: flex;
        align-items: center;
        gap: 10px;
        flex-wrap: wrap;
      }
      .btn {
        appearance: none;
        border: 1px solid var(--border);
        background: #fff;
        color: var(--ink);
        padding: 9px 12px;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 800;
        box-shadow: 0 10px 20px rgba(31, 41, 55, 0.06);
        transition:
          transform 0.12s ease,
          box-shadow 0.12s ease,
          border-color 0.12s ease;
      }
      .btn:hover {
        transform: translateY(-1px);
        border-color: rgba(217, 119, 6, 0.35);
        box-shadow: 0 14px 26px rgba(31, 41, 55, 0.1);
      }
      .btn:focus {
        outline: none;
        box-shadow: var(--ring);
      }
      .btn.primary {
        border-color: rgba(217, 119, 6, 0.25);
        background: linear-gradient(
          180deg,
          rgba(245, 158, 11, 0.22),
          rgba(217, 119, 6, 0.1)
        );
      }
      .hero {
        display: grid;
        grid-template-columns: 1.1fr 0.9fr;
        gap: 16px;
        margin-top: 18px;
      }
      .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        overflow: hidden;
      }
      .pad {
        padding: 18px;
      }
      h1 {
        margin: 0 0 8px;
        font-size: 30px;
        line-height: 1.15;
      }
      .sub {
        color: var(--muted);
        margin: 0 0 14px;
        line-height: 1.55;
      }
      .pillrow {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 10px;
      }
      .pill {
        border: 1px solid var(--border);
        background: rgba(255, 247, 230, 0.55);
        padding: 7px 10px;
        border-radius: 999px;
        font-size: 12.5px;
        color: #4b5563;
      }
      .grid {
        display: grid;
        grid-template-columns: 380px 1fr;
        gap: 16px;
        margin-top: 16px;
        align-items: start;
      }
      .side h2 {
        margin: 0 0 10px;
        font-size: 16px;
      }
      .search {
        display: flex;
        gap: 10px;
        margin: 10px 0 14px;
      }
      .search input {
        width: 100%;
        padding: 10px 12px;
        border: 1px solid var(--border);
        border-radius: 12px;
        background: #fff;
        outline: none;
        box-shadow: 0 10px 20px rgba(31, 41, 55, 0.05);
      }
      .search input:focus {
        box-shadow: var(--ring);
        border-color: rgba(217, 119, 6, 0.35);
      }
      .list {
        display: grid;
        gap: 10px;
      }
      .item {
        border: 1px solid var(--border);
        border-radius: 14px;
        padding: 12px;
        background: rgba(255, 255, 255, 0.85);
        cursor: pointer;
        transition:
          transform 0.12s ease,
          border-color 0.12s ease;
      }
      .item:hover {
        transform: translateY(-1px);
        border-color: rgba(217, 119, 6, 0.35);
      }
      .item .t {
        font-weight: 900;
        margin-bottom: 4px;
      }
      .item .d {
        color: var(--muted);
        font-size: 13px;
        line-height: 1.35;
      }
      .editorTop {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        padding: 12px 14px;
        border-bottom: 1px solid var(--border);
        background: linear-gradient(
          180deg,
          rgba(255, 247, 230, 0.75),
          rgba(255, 255, 255, 0.75)
        );
      }
      .editorTop .left {
        display: flex;
        align-items: baseline;
        gap: 10px;
        flex-wrap: wrap;
      }
      .title {
        font-weight: 900;
      }
      .hint {
        color: var(--muted);
        font-size: 13px;
      }
      .panel {
        display: grid;
        gap: 12px;
      }
      .sectionCard {
        border: 1px solid var(--border);
        border-radius: 16px;
        background: rgba(255, 255, 255, 0.92);
        padding: 14px;
        box-shadow: 0 10px 20px rgba(31, 41, 55, 0.06);
      }
      .secHead {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
      }
      .secHead .k {
        font-weight: 900;
      }
      .chip {
        font-size: 12px;
        padding: 5px 9px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: rgba(255, 247, 230, 0.6);
        color: #4b5563;
        white-space: nowrap;
      }
      .muted {
        color: var(--muted);
      }
      .code {
        background: var(--codebg);
        color: var(--codeink);
        border-radius: 14px;
        padding: 12px;
        overflow: auto;
        border: 1px solid rgba(255, 255, 255, 0.1);
        font-family:
          ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        font-size: 13px;
        line-height: 1.55;
      }
      .twoCol {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }
      .kbd {
        font-family: ui-monospace, monospace;
        background: rgba(245, 158, 11, 0.12);
        border: 1px solid rgba(217, 119, 6, 0.25);
        padding: 2px 6px;
        border-radius: 8px;
      }
      .iframeWrap {
        height: 72vh;
        min-height: 540px;
      }
      iframe {
        width: 100%;
        height: 100%;
        border: 0;
        background: #0b1220;
      }
      footer {
        margin: 18px 0 6px;
        color: var(--muted);
        text-align: center;
        font-size: 12.5px;
      }
      @media (max-width: 980px) {
        .hero {
          grid-template-columns: 1fr;
        }
        .grid {
          grid-template-columns: 1fr;
        }
        .twoCol {
          grid-template-columns: 1fr;
        }
        .iframeWrap {
          height: 70vh;
          min-height: 520px;
        }
        .actions {
          justify-content: flex-start;
        }
      }
    </style>
  </head>
  <body>
    <div class="topbar">
      <div class="row">
        <div class="brand">
          <div class="logo">JS</div>
          <div>
            <div style="font-size: 14px">Learn JavaScript — Upgraded Notes</div>
            <div class="badge">
              Importance • Explanations • Examples • Mistakes • Checklist •
              Prompts
            </div>
          </div>
        </div>
        <div class="actions">
          <button class="btn" id="btnScrollEditor">Open Editor</button>
          <button class="btn primary" id="btnOpenNew">Editor in New Tab</button>
          <button class="btn" id="btnFullscreen">Fullscreen</button>
=======
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Learn JavaScript — Comprehensive Roadmap</title>
  <meta name="description" content="Learn JavaScript with a comprehensive roadmap and an embedded in-browser JS editor." />
  <style>
    :root{
      --bg:#fff7e6; --card:#ffffff; --ink:#1f2937; --muted:#6b7280;
      --brand:#d97706; --brand2:#f59e0b; --border:#eadcc5;
      --shadow:0 18px 40px rgba(31,41,55,.14); --ring:0 0 0 4px rgba(245,158,11,.22);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--ink);
      font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Noto Sans","Helvetica Neue",sans-serif;
      background:
        radial-gradient(900px 420px at 15% -10%, rgba(245,158,11,.28), transparent 60%),
        radial-gradient(900px 420px at 85% -10%, rgba(217,119,6,.18), transparent 60%),
        var(--bg);
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1180px;margin:0 auto;padding:18px}
    .topbar{position:sticky;top:0;z-index:20;backdrop-filter:blur(10px);background:rgba(255,247,230,.72);border-bottom:1px solid rgba(234,220,197,.9)}
    .topbar .row{display:flex;align-items:center;justify-content:space-between;gap:14px;padding:12px 18px;max-width:1180px;margin:0 auto}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800}
    .logo{width:38px;height:38px;border-radius:12px;background:linear-gradient(135deg,var(--brand),var(--brand2));box-shadow:0 10px 22px rgba(217,119,6,.25);display:grid;place-items:center;color:#fff;font-weight:900}
    .badge{font-size:12px;padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:rgba(255,255,255,.75);color:var(--muted);white-space:nowrap}
    .actions{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .btn{appearance:none;border:1px solid var(--border);background:#fff;color:var(--ink);padding:9px 12px;border-radius:12px;cursor:pointer;font-weight:700;box-shadow:0 10px 20px rgba(31,41,55,.06);transition:transform .12s ease,box-shadow .12s ease,border-color .12s ease}
    .btn:hover{transform:translateY(-1px);border-color:rgba(217,119,6,.35);box-shadow:0 14px 26px rgba(31,41,55,.10)}
    .btn:focus{outline:none;box-shadow:var(--ring)}
    .btn.primary{border-color:rgba(217,119,6,.25);background:linear-gradient(180deg,rgba(245,158,11,.22),rgba(217,119,6,.10))}
    .hero{display:grid;grid-template-columns:1.05fr .95fr;gap:16px;margin-top:18px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
    .pad{padding:18px}
    h1{margin:0 0 8px;font-size:30px;line-height:1.15}
    .sub{color:var(--muted);margin:0 0 14px}
    .pillrow{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
    .pill{border:1px solid var(--border);background:rgba(255,247,230,.55);padding:7px 10px;border-radius:999px;font-size:12.5px;color:#4b5563}
    .grid{display:grid;grid-template-columns:360px 1fr;gap:16px;margin-top:16px;align-items:start}
    .side h2{margin:0 0 10px;font-size:16px}
    .list{display:grid;gap:10px}
    .item{border:1px solid var(--border);border-radius:14px;padding:12px;background:rgba(255,255,255,.85);cursor:pointer;transition:transform .12s ease,border-color .12s ease}
    .item:hover{transform:translateY(-1px);border-color:rgba(217,119,6,.35)}
    .item .t{font-weight:900;margin-bottom:4px}
    .item .d{color:var(--muted);font-size:13px;line-height:1.35}
    .search{display:flex;gap:10px;margin:10px 0 14px}
    .search input{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:#fff;outline:none;box-shadow:0 10px 20px rgba(31,41,55,.05)}
    .search input:focus{box-shadow:var(--ring);border-color:rgba(217,119,6,.35)}
    .editorTop{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 14px;border-bottom:1px solid var(--border);background:linear-gradient(180deg,rgba(255,247,230,.75),rgba(255,255,255,.75))}
    .editorTop .left{display:flex;align-items:baseline;gap:10px;flex-wrap:wrap}
    .title{font-weight:900}
    .hint{color:var(--muted);font-size:13px}
    .iframeWrap{height:72vh;min-height:520px}
    iframe{width:100%;height:100%;border:0;background:#0b1220}
    .k{font-weight:900}
    .muted{color:var(--muted)}
    footer{margin:18px 0 6px;color:var(--muted);text-align:center;font-size:12.5px}
    @media (max-width:980px){.hero{grid-template-columns:1fr}.grid{grid-template-columns:1fr}.iframeWrap{height:70vh;min-height:520px}}
  </style>
</head>
<body>
  <div class="topbar">
    <div class="row">
      <div class="brand">
        <div class="logo">JS</div>
        <div>
          <div style="font-size:14px;">Learn JavaScript — Comprehensive</div>
          <div class="badge">Programmer’s Picnic • Editor Embedded</div>
>>>>>>> 968e403a11ccd6b7436d35cc2696f3407d5fafae
        </div>
      </div>
      <div class="actions">
        <button class="btn" id="btnScrollEditor">Open Editor</button>
        <button class="btn primary" id="btnOpenNew">Editor in New Tab</button>
        <button class="btn" id="btnFullscreen">Fullscreen</button>
      </div>
    </div>
  </div>

<<<<<<< HEAD
    <div class="wrap">
      <section class="hero">
        <div class="card pad">
          <h1>A complete JavaScript learning hub.</h1>
          <p class="sub">
            This page is designed for your students: every topic gives
            <b>why it matters</b>, <b>clear explanation</b>,
            <b>multiple examples</b>, <b>common mistakes</b>, a
            <b>mini-checklist</b>, and <b>practice prompts</b>. Then they
            practice instantly in your embedded editor.
          </p>
          <div class="pillrow">
            <div class="pill">Basics</div>
            <div class="pill">Functions</div>
            <div class="pill">Closures</div>
            <div class="pill">Promises</div>
            <div class="pill">Async/Await</div>
            <div class="pill">fetch()</div>
            <div class="pill">DOM & Events</div>
            <div class="pill">Window APIs</div>
            <div class="pill">Storage</div>
            <div class="pill">Modules</div>
            <div class="pill">Classes</div>
            <div class="pill">Errors</div>
          </div>
        </div>

        <div class="card pad">
          <h2 style="margin: 0 0 10px; font-size: 16px">
            Recommended learning flow
          </h2>
          <ol
            style="
              margin: 0;
              padding-left: 18px;
              color: var(--muted);
              line-height: 1.65;
            "
          >
            <li><b>Basics → Control → Loops → Functions</b></li>
            <li><b>Arrays/Objects → DOM → Events</b></li>
            <li><b>Promises → async/await → fetch</b></li>
            <li><b>Window APIs → Storage → Modules/Classes</b></li>
          </ol>
          <div
            style="
              margin-top: 14px;
              border-top: 1px solid var(--border);
              padding-top: 14px;
            "
          >
            <div class="k" style="font-weight: 900">Embedded editor</div>
            <div class="muted" style="margin-top: 6px; word-break: break-word">
              https://www.learnwithchampak.live/2026/01/programmers-picnic-javascript-editor.html
            </div>
            <div class="muted" style="margin-top: 8px">
              Tip: If iframe is blocked (security headers), students should use
              <span class="kbd">Editor in New Tab</span>.
            </div>
=======
  <div class="wrap">
    <section class="hero">
      <div class="card pad">
        <h1>Learn JavaScript by doing — with depth.</h1>
        <p class="sub">Roadmap → Notes → Prompts → Practice in the embedded editor.</p>
        <div class="pillrow">
          <div class="pill">Basics</div><div class="pill">Functions</div><div class="pill">Promises</div>
          <div class="pill">Async/Await</div><div class="pill">fetch & APIs</div><div class="pill">DOM</div>
          <div class="pill">Events</div><div class="pill">Window APIs</div><div class="pill">Storage</div>
          <div class="pill">Classes</div><div class="pill">Modules</div><div class="pill">Errors</div>
          <div class="pill">Dates & Intl</div><div class="pill">Canvas (intro)</div><div class="pill">Workers (intro)</div>
        </div>
      </div>
      <div class="card pad">
        <h2 style="margin:0 0 10px;font-size:16px;">How to use</h2>
        <ol style="margin:0;padding-left:18px;color:var(--muted);line-height:1.6">
          <li>Pick a topic from the left → read Notes & Prompts.</li>
          <li>Scroll down to the embedded editor and try the prompts.</li>
          <li>Open the editor in a new tab for full space.</li>
        </ol>
        <div style="margin-top:14px;border-top:1px solid var(--border);padding-top:14px;">
          <div class="k">Embedded editor</div>
          <div class="muted" style="margin-top:6px;word-break:break-word">https://www.learnwithchampak.live/2026/01/programmers-picnic-javascript-editor.html</div>
        </div>
      </div>
    </section>

    <section class="grid">
      <aside class="card pad side">
        <h2>Topics</h2>
        <div class="search"><input id="q" type="text" placeholder="Search topics… (e.g., fetch, promise, window)" /></div>
        <div class="list" id="topicList"></div>
      </aside>

      <main class="card">
        <div class="editorTop" id="editorTop">
          <div class="left">
            <div class="title" id="topicTitle">Pick a topic from the left</div>
            <div class="hint" id="topicHint">Notes + practice prompts will appear here.</div>
          </div>
          <div class="actions" style="gap:8px;">
            <button class="btn" id="btnCopyPrompts">Copy Prompts</button>
            <button class="btn" id="btnScrollTop">Top</button>
          </div>
        </div>

        <div class="pad" style="padding:16px 16px 0">
          <div class="card pad" style="box-shadow:none;border-radius:16px;background:rgba(255,247,230,.55)">
            <div class="k" style="margin-bottom:6px;">Quick Notes</div>
            <div id="topicNotes" class="muted" style="line-height:1.65">Select a topic to load notes.</div>
          </div>

          <div style="height:12px"></div>

          <div class="card pad" style="box-shadow:none;border-radius:16px;">
            <div class="k" style="margin-bottom:6px;">Practice Prompts</div>
            <ul id="topicPrompts" class="muted" style="line-height:1.75;margin:0;padding-left:18px">
              <li>Select a topic to load prompts.</li>
            </ul>
>>>>>>> 968e403a11ccd6b7436d35cc2696f3407d5fafae
          </div>
        </div>

<<<<<<< HEAD
      <section class="grid">
        <aside class="card pad side">
          <h2>Topics (Comprehensive)</h2>
          <div class="search">
            <input
              id="q"
              type="text"
              placeholder="Search… (promise, fetch, window, closure, DOM)"
            />
          </div>
          <div class="list" id="topicList"></div>
        </aside>

        <main class="card">
          <div class="editorTop" id="editorTop">
            <div class="left">
              <div class="title" id="topicTitle">
                Pick a topic from the left
              </div>
              <div class="hint" id="topicHint">
                Deep notes + examples + prompts appear here.
              </div>
            </div>
            <div class="actions" style="gap: 8px">
              <button class="btn" id="btnCopyPrompts">Copy Prompts</button>
              <button class="btn" id="btnCopyExamples">Copy Examples</button>
              <button class="btn" id="btnScrollTop">Top</button>
            </div>
          </div>

          <div class="pad">
            <div class="panel" id="topicPanel">
              <!-- Injected sections -->
              <div class="sectionCard">
                <div class="secHead">
                  <div class="k">Welcome</div>
                  <div class="chip">Start here</div>
                </div>
                <p class="muted" style="margin: 10px 0 0; line-height: 1.7">
                  Choose a topic from the left. Each topic includes:
                  <b>Importance</b>, <b>Explanation</b>, <b>Examples</b>,
                  <b>Common Mistakes</b>, <b>Checklist</b> and
                  <b>Practice Prompts</b>. Then scroll down and try it in the
                  embedded editor.
                </p>
              </div>
            </div>

            <div style="height: 14px"></div>

            <div class="k" style="margin: 0 0 8px">
              Embedded JavaScript Editor
            </div>
            <div
              class="iframeWrap card"
              style="border-radius: 16px; overflow: hidden"
            >
              <iframe
                id="jsEditor"
                title="Programmer’s Picnic JavaScript Editor"
                src="https://www.learnwithchampak.live/2026/01/programmers-picnic-javascript-editor.html"
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                allow="clipboard-read; clipboard-write; fullscreen"
              ></iframe>
            </div>
            <div class="muted" style="margin-top: 10px">
              Students: keep this page open on the left, editor on the right
              (split screen) or open editor in a new tab.
            </div>
          </div>
        </main>
      </section>
=======
        <div style="height:14px"></div>

        <div class="pad" style="padding:0 16px 16px">
          <div class="k" style="margin:0 0 8px;">Embedded JavaScript Editor</div>
          <div class="iframeWrap card" style="border-radius:16px;overflow:hidden">
            <iframe
              id="jsEditor"
              title="Programmer’s Picnic JavaScript Editor"
              src="https://www.learnwithchampak.live/2026/01/programmers-picnic-javascript-editor.html"
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              allow="clipboard-read; clipboard-write; fullscreen"
            ></iframe>
          </div>
          <div class="muted" style="margin-top:10px">If the iframe is blocked by security headers, use “Editor in New Tab”.</div>
        </div>
      </main>
    </section>

    <footer>© Programmer’s Picnic • Learn JavaScript • Built by Champak Roy</footer>
  </div>

  <script>
    const EDITOR_URL = "https://www.learnwithchampak.live/2026/01/programmers-picnic-javascript-editor.html";

    // ---------- MASTER TOPICS ----------
    const topics = [
      // 1) BASICS
      t("basics","1) JS Basics: variables, types, operators",
        "let/const, primitive vs reference types, strict equality, template literals.",
        [
          "Use <b>const</b> for values not reassigned; <b>let</b> otherwise. Avoid <b>var</b> (function-scoped).",
          "Primitives: string, number, boolean, null, undefined, symbol, bigint.",
          "Reference types: object, array, function, Date, etc. Copied by reference.",
          "Strict equality <b>===</b> avoids coercion pitfalls from <b>==</b>.",
          "Template strings: <code>`Hello ${name}`</code>."
        ],
        [
          "Create variables for name, age, isStudent; print a sentence via template strings.",
          "Given two numbers, print sum, diff, product, quotient, remainder.",
          "Show the difference between === and == with examples."
        ]),

      // 2) CONTROL FLOW
      t("control","2) Control Flow: if/else, switch, try/catch",
        "Write branching logic and handle errors gracefully.",
        [
          "Use if/else for ranges; switch for single-value matching.",
          "Guard clauses: early returns to avoid deep nesting.",
          "Use try/catch for expected failures; rethrow or handle."
        ],
        [
          "Map marks (0–100) to grades.",
          "Switch on weekday number (1–7) to name.",
          "Wrap JSON.parse in try/catch; show custom error message."
        ]),

      // 3) LOOPS
      t("loops","3) Loops: for/while/do-while & patterns",
        "Repeat tasks, iterate arrays/objects, and print patterns.",
        [
          "Use <b>for</b> when count known; <b>while</b> for unknown.",
          "for...of for values; for...in for keys (use carefully).",
          "Break stops; continue skips."
        ],
        [
          "Print 1..50 but skip multiples of 3.",
          "Compute factorial( n ).",
          "Draw a right triangle of * with nested loops."
        ]),

      // 4) FUNCTIONS CORE
      t("functions","4) Functions: declarations, arrows, params",
        "Function forms, default/rest params, returning values.",
        [
          "Declaration vs expression vs arrow; hoisting differences.",
          "Default params: <code>function f(a=1){}</code>; Rest: <code>...args</code>.",
          "Pure functions: same input → same output, no side-effects."
        ],
        [
          "Write sum(...nums) returning total.",
          "Use default param to greet('Guest') if no name.",
          "Convert a declaration to arrow and explain differences."
        ]),

      // 5) DEEP FUNCTIONS: this/bind/call/apply + closures + HOF
      t("deepfx","5) Deep Functions: this, bind/call/apply, closures, HOF",
        "Master ‘this’, capture variables with closures, and write higher-order utilities.",
        [
          "<b>this</b> depends on call-site; arrow functions capture the lexical this.",
          "<b>bind</b> returns a new function with fixed this; <b>call/apply</b> invoke with this.",
          "Closures: inner functions remember outer variables after outer returns.",
          "Higher-order functions take/return functions."
        ],
        [
          "Use bind to fix a method’s this and pass it as a callback.",
          "Create a counter() that returns increment() with hidden state.",
          "Write once(fn) that ensures fn runs only once."
        ]),

      // 6) OBJECTS + GETters/SETters + property descriptors
      t("objects","6) Objects: keys/values, getters/setters, descriptors",
        "Model entities, compute properties, and control enumerability/writability.",
        [
          "Access: obj.x / obj['x']; iterate via Object.keys/values/entries.",
          "Getters/Setters compute/validate: <code>get full(){}</code> / <code>set name(v){}</code>.",
          "Define props: <code>Object.defineProperty</code> with descriptor flags."
        ],
        [
          "Add getter fullName to combine first/last.",
          "Use a setter that validates age (0–120).",
          "Create a non-enumerable id property."
        ]),
>>>>>>> 968e403a11ccd6b7436d35cc2696f3407d5fafae

      // 7) ARRAYS
      t("arrays","7) Arrays: map/filter/reduce & friends",
        "Transform/select/aggregate collections.",
        [
          "Core methods: push/pop/shift/unshift/slice/splice.",
          "map transforms; filter selects; reduce aggregates; find/findIndex locate.",
          "some/ every for predicates; flat/flatMap for nested arrays."
        ],
        [
          "Squares via map; evens via filter; sum via reduce.",
          "Find the first product > ₹1000.",
          "Flatten [[1],[2,3],[4]] to [1,2,3,4]."
        ]),

      // 8) DOM “GET” FUNCTIONS + selectors
      t("getdom","8) DOM ‘get’ functions: selectors & traversal",
        "Select elements and read attributes/values safely.",
        [
          "<code>document.getElementById</code>, <code>getElementsByClassName</code>, <code>getElementsByTagName</code>.",
          "<code>querySelector</code>/<code>querySelectorAll</code> with CSS selectors.",
          "dataset, classList, value/textContent/innerHTML (sanitize when needed)."
        ],
        [
          "Get input value and mirror it into a preview <div>.",
          "Toggle classes on click using classList.",
          "Collect all links on page and print their hrefs."
        ]),

<<<<<<< HEAD
      // ---------------- TOPIC DATA MODEL ----------------
      // Each topic contains richer "matter": importance, explanation, examples, mistakes, checklist, prompts.
      const topics = [
        topic({
          id: "basics",
          title: "1) JS Basics: variables, types, operators",
          desc: "The foundation: how JS stores values and how expressions work.",
          importance: [
            "Every bug starts with basics: type mismatch, undefined, unexpected coercion.",
            "Interview must-know: === vs ==, null vs undefined, const/let scope.",
            "Real projects: APIs return strings/numbers; you must handle conversions safely.",
          ],
          explanation: [
            "JavaScript has <b>primitive types</b> (string, number, boolean, null, undefined, symbol, bigint) and <b>reference types</b> (objects, arrays, functions).",
            "<b>const</b> prevents reassignment, not mutation. An array declared with const can still be pushed into.",
            "Prefer <b>===</b> to avoid implicit type conversions of <b>==</b>.",
            "Use template literals for clean string building: <code>`Hello ${name}`</code>.",
          ],
          examples: [
            `// variables + template literal
const name = "Asha";
let age = 18;
const isStudent = true;
console.log(\`Name: \${name}, Age: \${age}, Student: \${isStudent}\`);`,
            `// strict equality vs loose equality
console.log(5 == "5");   // true (coercion)
console.log(5 === "5");  // false (type differs)`,
            `// const is not 'immutable'
const arr = [1,2];
arr.push(3);             // OK
// arr = [9];            // NOT OK (reassignment)`,
          ],
          mistakes: [
            "Using var and getting surprising scope/hoisting behavior.",
            "Assuming const means value cannot change (objects can mutate).",
            "Using == and getting unexpected true/false results.",
          ],
          checklist: [
            "I use let/const (avoid var).",
            "I know primitive vs reference differences.",
            "I use === unless I have a strong reason not to.",
            "I can safely convert types (Number(), String()).",
          ],
          prompts: [
            "Create 3 variables and print using template literals.",
            "Show 3 examples where == surprises you.",
            "Write a function to safely convert input string to number (handle NaN).",
          ],
        }),

        topic({
          id: "control",
          title: "2) Control Flow: if/else, switch, try/catch",
          desc: "Decisions + error handling (the ‘safety’ layer of code).",
          importance: [
            "Real apps handle wrong input, missing data, and API errors.",
            "try/catch becomes critical for JSON parsing and async/await error handling.",
            "switch is common in menu systems and UI state machines.",
          ],
          explanation: [
            "Use <b>if/else</b> for ranges and multiple conditions.",
            "Use <b>switch</b> when matching one variable against many exact cases.",
            "<b>try/catch</b> protects code that can throw (JSON.parse, manual throw, async/await).",
            "Make errors user-friendly: log detail to console, show simple message in UI.",
          ],
          examples: [
            `// grading
const marks = 72;
let grade = "F";
if (marks >= 90) grade = "A";
else if (marks >= 75) grade = "B";
else if (marks >= 60) grade = "C";
else if (marks >= 40) grade = "D";
console.log("Grade:", grade);`,
            `// switch example
const day = 3;
switch(day){
  case 1: console.log("Mon"); break;
  case 2: console.log("Tue"); break;
  case 3: console.log("Wed"); break;
  default: console.log("Invalid");
}`,
            `// try/catch with JSON.parse
const raw = '{"name":"Ravi"}';
try{
  const obj = JSON.parse(raw);
  console.log(obj.name);
}catch(err){
  console.log("Invalid JSON");
  console.error(err);
}`,
          ],
          mistakes: [
            "Forgetting break in switch and falling through accidentally.",
            "Catching errors but not handling them (silent failures).",
            "Too many nested ifs instead of guard clauses.",
          ],
          checklist: [
            "I can write readable conditions.",
            "I know when switch is cleaner than if/else.",
            "I handle parse and runtime errors with try/catch.",
          ],
          prompts: [
            "Leap-year checker (divisible by 4, 100, 400).",
            "Switch-based menu: 'add', 'remove', 'exit'.",
            "Wrap JSON.parse with custom error message.",
          ],
        }),

        topic({
          id: "loops",
          title: "3) Loops: for/while/do-while + iteration styles",
          desc: "Repeating tasks and walking through data safely.",
          importance: [
            "Most programming is processing collections (arrays, strings, lists of objects).",
            "You’ll use loops in algorithms, patterns, validations, and data cleaning.",
            "Understanding iteration helps you avoid off-by-one bugs.",
          ],
          explanation: [
            "<b>for</b> is best when you know the number of iterations.",
            "<b>while</b> is best when you loop until a condition changes.",
            "<b>for...of</b> iterates values (great for arrays).",
            "<b>for...in</b> iterates keys (use carefully for objects).",
          ],
          examples: [
            `// for loop
for(let i=1;i<=5;i++){
  console.log(i);
}`,
            `// for...of values
for(const ch of "JS"){
  console.log(ch);
}`,
            `// while loop (repeat until)
let n = 5;
let fact = 1;
while(n>0){
  fact *= n;
  n--;
}
console.log("fact:", fact);`,
          ],
          mistakes: [
            "Off-by-one (i < arr.length vs i <= arr.length).",
            "Infinite loops (condition never changes).",
            "Using for...in on arrays and getting unexpected ordering.",
          ],
          checklist: [
            "I can choose correct loop type.",
            "I can break/continue intentionally.",
            "I avoid infinite loops and off-by-one errors.",
          ],
          prompts: [
            "Print all even numbers from 1..100.",
            "Reverse a string using a loop.",
            "Nested loop: multiplication table 1..10.",
          ],
        }),

        topic({
          id: "functions",
          title: "4) Functions: parameters, return, default/rest",
          desc: "Reusable logic blocks — the real power of JS code.",
          importance: [
            "Functions are the building blocks of apps, UI handlers, and APIs.",
            "Interview must: pure vs impure functions, return values, scope.",
            "Clean functions reduce bugs and improve readability.",
          ],
          explanation: [
            "Function declaration is hoisted; function expression is not fully hoisted.",
            "Default params avoid undefined checks: <code>function f(x=1){}</code>.",
            "Rest params collect arguments into an array: <code>function sum(...nums){}</code>.",
            "Return values matter: a function without return returns undefined.",
          ],
          examples: [
            `// sum with rest
function sum(...nums){
  return nums.reduce((a,b)=>a+b,0);
}
console.log(sum(1,2,3));`,
            `// default param
function greet(name="Guest"){
  return "Hello " + name;
}
console.log(greet());`,
            `// function expression
const square = function(n){ return n*n; };
console.log(square(6));`,
          ],
          mistakes: [
            "Forgetting return and getting undefined.",
            "Mutating inputs unintentionally (side effects).",
            "Confusing parameters vs arguments.",
          ],
          checklist: [
            "I know declaration vs expression.",
            "I can use default + rest parameters.",
            "I return values intentionally.",
          ],
          prompts: [
            "Write isPrime(n).",
            "Write maxOf3(a,b,c).",
            "Write reverseString(s).",
          ],
        }),

        topic({
          id: "deepfx",
          title: "5) Deep Functions: this, bind/call/apply, closures, HOF",
          desc: "Advanced function skills: crucial for real-world JS and interviews.",
          importance: [
            "Closures power modules, private state, React hooks patterns, event handlers.",
            "this/bind/call/apply appears in OOP, DOM handlers, and libraries.",
            "Higher-order functions are used in functional programming and async flows.",
          ],
          explanation: [
            "<b>this</b> depends on how a function is called. Methods called as obj.m() get this=obj.",
            "<b>bind</b> returns a new function with fixed this; <b>call/apply</b> invoke immediately.",
            "A <b>closure</b> happens when an inner function remembers outer variables even after outer ends.",
            "Higher-order function: takes function as input or returns function.",
          ],
          examples: [
            `// this + bind
const user = {
  name: "Neha",
  say(){
    console.log("Hi, I am", this.name);
  }
};
const loose = user.say;
loose(); // 'this' is not user (often undefined in strict mode)
const fixed = user.say.bind(user);
fixed(); // works`,
            `// closure: private counter
function makeCounter(){
  let count = 0;
  return function(){
    count++;
    return count;
  }
}
const c = makeCounter();
console.log(c(), c(), c()); // 1 2 3`,
            `// higher-order function: once()
function once(fn){
  let done = false, val;
  return (...args)=>{
    if(!done){ val = fn(...args); done=true; }
    return val;
  };
}
const init = once(()=> "Initialized!");
console.log(init(), init());`,
          ],
          mistakes: [
            "Losing this when passing methods as callbacks.",
            "Creating closures in loops incorrectly (old var issue).",
            "Overusing closures leading to memory leaks in long-lived pages.",
          ],
          checklist: [
            "I can explain what this points to.",
            "I know bind/call/apply difference.",
            "I can create a closure for private state.",
          ],
          prompts: [
            "Create a closure-based wallet: addMoney, spendMoney, getBalance.",
            "Write debounce(fn, delay).",
            "Fix a broken method callback by using bind.",
          ],
        }),

        topic({
          id: "promises",
          title: "6) Promises: states, chaining, all/race/any/allSettled",
          desc: "Async foundation — before async/await, fetch, timers, etc.",
          importance: [
            "Most real apps are async: API calls, timers, file reads, permissions.",
            "Promise combinators help you run tasks in parallel safely.",
            "Interview favorite: Promise.all vs allSettled vs race vs any.",
          ],
          explanation: [
            "A Promise represents a future value: <b>pending → fulfilled/rejected</b>.",
            "<b>then()</b> chains success; <b>catch()</b> handles errors; <b>finally()</b> runs always.",
            "<b>Promise.all</b> fails fast if any fails. <b>allSettled</b> gives status for each.",
            "<b>race</b> returns first to settle. <b>any</b> returns first to fulfill (ignores rejects until all reject).",
          ],
          examples: [
            `// create a promise
const p = new Promise((resolve,reject)=>{
  setTimeout(()=> resolve("Done in 1s"), 1000);
});
p.then(console.log).catch(console.error);`,
            `// Promise.all vs allSettled
const a = Promise.resolve(1);
const b = Promise.reject("fail");
Promise.all([a,b]).then(console.log).catch(e=>console.log("all error:", e));
Promise.allSettled([a,b]).then(console.log);`,
            `// race a fetch with timeout
function timeout(ms){
  return new Promise((_,reject)=> setTimeout(()=>reject(new Error("Timeout")), ms));
}
// Promise.race([fetch(url), timeout(2000)])`,
          ],
          mistakes: [
            "Not returning a promise in then() and breaking chains.",
            "Forgetting catch() and getting unhandled rejection.",
            "Using all() when you actually want to continue even if some fail (use allSettled).",
          ],
          checklist: [
            "I can chain promises safely (return inside then).",
            "I know 4 combinators and when to use them.",
            "I handle failures with catch/finally.",
          ],
          prompts: [
            "Make a promise-based delay(ms) and await it later.",
            "Run 3 simulated tasks in parallel using Promise.all.",
            "Use Promise.allSettled and summarize results.",
          ],
        }),

        topic({
          id: "asyncawait",
          title: "7) async/await: clean async code + parallel patterns",
          desc: "Readable async code with structured error handling.",
          importance: [
            "Modern JS code uses async/await everywhere (fetch, db, file access, permissions).",
            "Knowing parallel vs sequential awaits improves performance dramatically.",
            "Cleaner try/catch in async functions than nested then() chains.",
          ],
          explanation: [
            "Mark function with <code>async</code> to use <code>await</code> inside.",
            "Sequential awaits run one-by-one; use Promise.all for parallel when independent.",
            "Wrap awaits in try/catch for error paths and finally for cleanup.",
          ],
          examples: [
            `// sequential
async function sequential(){
  const a = await Promise.resolve(1);
  const b = await Promise.resolve(2);
  return a+b;
}`,
            `// parallel
async function parallel(){
  const [a,b] = await Promise.all([
    Promise.resolve(1),
    Promise.resolve(2)
  ]);
  return a+b;
}`,
            `// try/catch
async function safe(){
  try{
    const res = await Promise.resolve("ok");
    return res;
  }catch(err){
    return "failed";
  }finally{
    // cleanup
  }
}`,
          ],
          mistakes: [
            "Using await at top-level without module context.",
            "Awaiting independent tasks sequentially (slow).",
            "Not handling errors (missing try/catch).",
          ],
          checklist: [
            "I can refactor then/catch to async/await.",
            "I know when to use Promise.all for speed.",
            "I use try/catch for user-friendly failures.",
          ],
          prompts: [
            "Refactor a promise chain into async/await.",
            "Write retry(fn, times) for a failing async function.",
            "Fetch two endpoints in parallel and combine results.",
          ],
        }),

        topic({
          id: "fetch",
          title: "8) fetch(): GET/POST, headers, JSON, errors, CORS",
          desc: "API communication — the heart of modern web apps.",
          importance: [
            "Every web app talks to servers: login, data, payments, content, analytics.",
            "Knowing status codes + res.ok prevents silent UI failures.",
            "CORS understanding avoids confusion when browser blocks requests.",
          ],
          explanation: [
            "fetch returns a Promise that resolves to a Response (even for 404 — so check <code>res.ok</code>).",
            "Parse body using <code>res.json()</code> or <code>res.text()</code>.",
            "POST JSON requires Content-Type header and JSON.stringify body.",
            "CORS errors happen when browser blocks cross-origin responses for security.",
          ],
          examples: [
            `// GET JSON safely
async function getJson(url){
  const res = await fetch(url);
  if(!res.ok) throw new Error("HTTP " + res.status);
  return res.json();
}
// getJson("https://example.com/api").then(console.log).catch(console.error);`,
            `// POST JSON
async function postJson(url, data){
  const res = await fetch(url, {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify(data)
  });
  if(!res.ok) throw new Error("HTTP " + res.status);
  return res.json();
}`,
            `// timeout wrapper
function withTimeout(promise, ms){
  const t = new Promise((_,rej)=>setTimeout(()=>rej(new Error("Timeout")), ms));
  return Promise.race([promise, t]);
}
// withTimeout(fetch(url), 2000)`,
          ],
          mistakes: [
            "Assuming fetch rejects on 404/500 (it doesn’t).",
            "Forgetting JSON.stringify in POST body.",
            "Thinking CORS is a JS error you can ‘fix’ purely in client (often server must allow).",
          ],
          checklist: [
            "I always check res.ok.",
            "I can do GET and POST JSON correctly.",
            "I understand what CORS means and typical fix (server headers/proxy).",
          ],
          prompts: [
            "Write fetch wrapper: getJson(url) with proper errors.",
            "Build mock login POST and show success/fail message (simulate).",
            "Race fetch with timeout and show user message.",
          ],
        }),

        topic({
          id: "domget",
          title: "9) DOM ‘get’ functions + querySelector: selecting elements",
          desc: "Selecting elements is step-1 to building interactive UIs.",
          importance: [
            "DOM selection powers every web interaction: buttons, forms, lists, cards.",
            "Interview: difference between getElementById, querySelector, querySelectorAll.",
            "Correct selection reduces bugs and improves performance.",
          ],
          explanation: [
            "Use <code>getElementById</code> for unique element id (fast, simple).",
            "<code>querySelector</code> selects first match by CSS selector.",
            "<code>querySelectorAll</code> returns a static NodeList (can loop).",
            "Read/write: textContent, value, innerHTML (danger if untrusted input).",
          ],
          examples: [
            `// selecting
const title = document.getElementById("title");
const firstBtn = document.querySelector("button");
const allItems = document.querySelectorAll(".item");

// reading/writing
title.textContent = "Hello";
console.log(firstBtn?.textContent);
allItems.forEach(el => el.classList.add("active"));`,
            `// dataset + attributes
const el = document.querySelector("[data-id]");
console.log(el?.dataset?.id);
el?.setAttribute("aria-label","close");`,
          ],
          mistakes: [
            "Using innerHTML with user input (XSS risk).",
            "Forgetting that querySelectorAll returns a list (not one element).",
            "Selecting too broadly and affecting unintended elements.",
          ],
          checklist: [
            "I can select by id/class/tag/CSS selector.",
            "I prefer textContent for text injection.",
            "I understand NodeList vs Element.",
          ],
          prompts: [
            "Mirror input text into a preview div as user types.",
            "Select all cards and add 'selected' class to every second one.",
            "Print href of all <a> links on page.",
          ],
        }),

        topic({
          id: "events",
          title: "10) Events: click/input/submit + delegation",
          desc: "Events make pages come alive.",
          importance: [
            "Without events, pages are static. With events, you build apps.",
            "Delegation is crucial for dynamic lists (todo items, tables).",
            "Interview: preventDefault, bubbling/capturing, target vs currentTarget.",
          ],
          explanation: [
            "Listen with <code>addEventListener</code> and keep handlers small.",
            "<b>Bubbling</b>: events travel up parents; delegation uses this feature.",
            "Forms: preventDefault to stop reload; then do validations and actions.",
          ],
          examples: [
            `// click handler
document.querySelector("#btn")?.addEventListener("click", () => {
  console.log("clicked");
});`,
            `// delegation on list
const list = document.querySelector("#list");
list?.addEventListener("click", (e) => {
  const li = e.target.closest("li");
  if(!li) return;
  li.classList.toggle("done");
});`,
            `// form submit
document.querySelector("form")?.addEventListener("submit", (e)=>{
  e.preventDefault();
  const fd = new FormData(e.target);
  console.log(Object.fromEntries(fd.entries()));
});`,
          ],
          mistakes: [
            "Attaching listeners to each dynamic item (slow) instead of delegation.",
            "Not using preventDefault for forms.",
            "Using e.target when you needed e.currentTarget.",
          ],
          checklist: [
            "I can use click/input/submit events.",
            "I can delegate events using event bubbling.",
            "I can prevent default behavior when needed.",
          ],
          prompts: [
            "Build a counter with + and - buttons.",
            "Todo list with delegation: click item toggles done.",
            "Live character counter for textarea.",
          ],
        }),

        topic({
          id: "window",
          title:
            "11) Window functions/APIs: timers, location, history, storage, URL",
          desc: "Your everyday browser toolbox.",
          importance: [
            "Timers power animations, polling, debouncing, reminders.",
            "location/history enables routing and navigation flows.",
            "Storage enables offline drafts, theme persistence, user settings.",
            "URL params allow shareable links and state restoration.",
          ],
          explanation: [
            "Timers: setTimeout (once), setInterval (repeating). Always clear them when done.",
            "location controls URL navigation; history helps back/forward behaviors.",
            "URLSearchParams makes reading/writing query params easy.",
            "localStorage/sessionStorage store strings; use JSON stringify/parse.",
          ],
          examples: [
            `// timer + clear
let id = setInterval(()=>console.log("tick"), 1000);
setTimeout(()=>clearInterval(id), 3500);`,
            `// URL params
const url = new URL(location.href);
const name = url.searchParams.get("name") || "Guest";
console.log("Hello", name);`,
            `// localStorage wrapper
function setObj(key, value){
  localStorage.setItem(key, JSON.stringify(value));
}
function getObj(key, fallback=null){
  const raw = localStorage.getItem(key);
  return raw ? JSON.parse(raw) : fallback;
}`,
          ],
          mistakes: [
            "Forgetting clearInterval leading to repeated calls forever.",
            "Saving objects without JSON.stringify (becomes [object Object]).",
            "Assuming storage is secure for secrets (it isn’t).",
          ],
          checklist: [
            "I can use setTimeout/setInterval and clear them.",
            "I can read query params and update URL state.",
            "I can store/retrieve JSON in localStorage safely.",
          ],
          prompts: [
            "Build a 10-second countdown with cancel button.",
            "Read ?topic= from URL and auto-select a lesson.",
            "Save user's name in localStorage and greet on load.",
          ],
        }),

        topic({
          id: "arraysObjects",
          title: "12) Arrays + Objects: real-world data handling",
          desc: "Most app data is arrays of objects — master this to build anything.",
          importance: [
            "APIs return arrays of objects (posts, products, users).",
            "map/filter/reduce is used in every UI rendering pipeline.",
            "Interview: transform data, group by, frequency counts.",
          ],
          explanation: [
            "Use array methods to transform without mutating original (prefer immutability).",
            "Objects store keyed information; use Object.entries for iteration.",
            "Destructuring makes code shorter and clearer.",
          ],
          examples: [
            `// transform posts into titles
const posts = [{id:1,title:"A"},{id:2,title:"B"}];
const titles = posts.map(p=>p.title);
console.log(titles);`,
            `// group by
const items = ["a","b","a","c","b"];
const freq = items.reduce((acc,x)=>{
  acc[x] = (acc[x]||0)+1;
  return acc;
},{});
console.log(freq);`,
            `// destructuring
const user = {name:"Ravi", age:20};
const {name, age} = user;
console.log(name, age);`,
          ],
          mistakes: [
            "Mutating arrays unintentionally with splice/sort without copying.",
            "Forgetting return inside reduce callback.",
            "Using map when you needed forEach (side-effects) or filter.",
          ],
          checklist: [
            "I can map/filter/reduce confidently.",
            "I can build frequency counts and grouping.",
            "I avoid mutation when it can cause bugs.",
          ],
          prompts: [
            "Given products, filter price > 1000 and map names.",
            "Group students by grade.",
            "Sort by score without mutating original array.",
          ],
        }),

        topic({
          id: "modules",
          title:
            "13) Modules: import/export (how real projects are structured)",
          desc: "Split code into files and reuse cleanly.",
          importance: [
            "Professional codebases are modular: utils, services, components, constants.",
            "Modules reduce file size and improve maintainability.",
            "Interview: default export vs named export.",
          ],
          explanation: [
            "Named exports: <code>export const x=1</code>, import with <code>{x}</code>.",
            "Default export: <code>export default function(){}</code>, import with any name.",
            "In browser, use <code>&lt;script type='module'&gt;</code>.",
          ],
          examples: [
            `// math.js
export const PI = 3.14159;
export function area(r){ return PI*r*r; }

// app.js
import { PI, area } from "./math.js";
console.log(PI, area(2));`,
            `// default export
// greet.js
export default function greet(n){ return "Hi " + n; }
// app.js
import greet from "./greet.js";
console.log(greet("Asha"));`,
          ],
          mistakes: [
            "Wrong relative path (./) in imports.",
            "Mixing default and named imports incorrectly.",
            "Trying to use modules without type='module' in browser.",
          ],
          checklist: [
            "I can create a module and import it.",
            "I know named vs default exports.",
            "I understand why bundlers exist (for bare imports).",
          ],
          prompts: [
            "Create utils.js with clamp(x,min,max) and import it.",
            "Export a default function and a named constant from one file.",
            "Refactor a single-file script into 3 modules.",
          ],
        }),

        topic({
          id: "classes",
          title: "14) Prototypes & Classes: OOP in JS",
          desc: "Reusable blueprints and shared methods.",
          importance: [
            "OOP is used in libraries, component models, and many large codebases.",
            "Understanding prototypes explains ‘why methods exist’ on objects.",
            "Interview: constructor, inheritance, super, static methods.",
          ],
          explanation: [
            "JS objects inherit through a prototype chain.",
            "class syntax is sugar over prototype methods.",
            "Use static for utility methods, not instance-specific data.",
          ],
          examples: [
            `class User{
  constructor(name){ this.name = name; }
  greet(){ return "Hello " + this.name; }
  static from(obj){ return new User(obj.name); }
}
const u = new User("Ravi");
console.log(u.greet());
console.log(User.from({name:"Asha"}).greet());`,
            `class Admin extends User{
  constructor(name, role){ super(name); this.role = role; }
  greet(){ return super.greet() + " ("+this.role+")"; }
}
console.log(new Admin("Neha","Admin").greet());`,
          ],
          mistakes: [
            "Forgetting super() in subclass constructor.",
            "Putting data on prototype incorrectly.",
            "Overusing classes when simple objects/functions are enough.",
          ],
          checklist: [
            "I can define class, instance method, static method.",
            "I can extend and use super.",
            "I know prototype chain conceptually.",
          ],
          prompts: [
            "Create Shape -> Circle area() hierarchy.",
            "Add toJSON method returning plain object.",
            "Build a simple BankAccount class with deposit/withdraw.",
          ],
        }),

        topic({
          id: "errors",
          title: "15) Errors & Debugging: console, throw, try/catch",
          desc: "How professionals make code reliable and fixable.",
          importance: [
            "Great apps fail gracefully; bad apps crash silently.",
            "Debugging skills save hours every week.",
            "Interview: throwing custom errors and handling them.",
          ],
          explanation: [
            "Throw errors when a function cannot proceed safely.",
            "Use console.table for arrays of objects; console.time for benchmarking.",
            "In async/await, errors are caught with try/catch around await.",
          ],
          examples: [
            `function parseUser(raw){
  try{
    const u = JSON.parse(raw);
    if(!u.name) throw new Error("Missing 'name'");
    return u;
  }catch(e){
    console.error("parseUser failed:", e.message);
    throw e;
  }
}`,
            `console.time("loop");
let s = 0;
for(let i=0;i<1e6;i++) s+=i;
console.timeEnd("loop");`,
          ],
          mistakes: [
            "Catching errors but not logging them (hard to debug).",
            "Throwing strings instead of Error objects.",
            "Not validating external data (API/JSON).",
          ],
          checklist: [
            "I throw Error with meaningful messages.",
            "I can use console tools to inspect data.",
            "I can handle errors in async/await.",
          ],
          prompts: [
            "Build validateEmail(email) that throws on invalid.",
            "Use console.table to show list of students.",
            "Wrap fetch() in try/catch and show friendly UI message.",
          ],
        }),
      ];

      function topic(o) {
        return o;
      }

      // ---------------- UI WIRING ----------------
      const elList = document.getElementById("topicList");
      const elTitle = document.getElementById("topicTitle");
      const elHint = document.getElementById("topicHint");
      const elPanel = document.getElementById("topicPanel");
      const elQ = document.getElementById("q");

      let lastExamplesText = "";
      let lastPromptsText = "";

      function renderList(filterText = "") {
        const f = filterText.trim().toLowerCase();
        elList.innerHTML = "";
        topics
          .filter(
            (t) => !f || (t.title + " " + t.desc).toLowerCase().includes(f),
          )
          .forEach((t) => {
            const div = document.createElement("div");
            div.className = "item";
            div.dataset.id = t.id;
            div.innerHTML = `<div class="t">${t.title}</div><div class="d">${t.desc}</div>`;
            div.addEventListener("click", () => loadTopic(t.id));
            elList.appendChild(div);
          });
=======
      // 9) DOM CREATE/UPDATE
      t("dom","9) DOM: create/update/remove",
        "Build and update UI nodes.",
        [
          "Create: <code>document.createElement</code>, set attributes, append/remove.",
          "Use DocumentFragment for batching; template tags to clone markup.",
          "Avoid layout thrash: batch reads/writes."
        ],
        [
          "Build a TODO list (add/remove items).",
          "Render an array of objects into a UL efficiently.",
          "Replace <p> with <blockquote> for selected text."
        ]),

      // 10) EVENTS
      t("events","10) Events: click, input, submit, key, custom",
        "React to user actions and dispatch your own.",
        [
          "Add listener: <code>el.addEventListener('type', handler)</code>.",
          "Prevent form reload via <code>event.preventDefault()</code>.",
          "Event delegation: attach once on a parent; use <code>event.target</code>.",
          "CustomEvent + dispatchEvent for your own events."
        ],
        [
          "Live char counter while typing.",
          "Form submit adds item without reload.",
          "Implement event delegation on a list."
        ]),

      // 11) WINDOW APIS (timers, dialogs, location/history, URL, storage)
      t("window","11) Window APIs: timers, dialogs, navigation, URL, storage",
        "Common ‘window’ tools you’ll use daily.",
        [
          "Timers: setTimeout / setInterval; clear with ids.",
          "Dialogs: alert / prompt / confirm (blocking).",
          "Navigation: location.href, reload(), history.back/forward/go.",
          "URL & URLSearchParams to read/write query params.",
          "Storage: localStorage/sessionStorage; JSON.stringify/parse."
        ],
        [
          "Implement a 5-sec countdown with cancel button.",
          "Read ?name=… from URL and greet user.",
          "Save theme selection in localStorage and restore on reload."
        ]),
 
      // 12) FETCH CORE
      t("fetch","12) fetch(): JSON, headers, errors",
        "Get data from APIs with proper error handling.",
        [
          "Default: GET; parse JSON via <code>res.json()</code>.",
          "Check <code>res.ok</code> / <code>res.status</code>; throw on non-200.",
          "Set headers: <code>{ headers: { 'Accept':'application/json' } }</code>."
        ],
        [
          "GET a sample JSON (use any test API) and render titles.",
          "Gracefully handle 404/500 with a user message.",
          "Measure and log fetch duration."
        ]),
>>>>>>> 968e403a11ccd6b7436d35cc2696f3407d5fafae

      // 13) FETCH ADVANCED (POST, FormData, file upload, CORS)
      t("fetchx","13) fetch Advanced: POST, FormData, files, CORS",
        "Send data and handle cross-origin caveats.",
        [
          "POST JSON: <code>fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)})</code>.",
          "FormData for multi-part and file uploads.",
          "CORS errors happen before your code sees a response (browser blocks)."
        ],
        [
          "Build a form that POSTs JSON and logs server echo.",
          "Upload a file with FormData (to a mock or local endpoint).",
          "Show CORS error handling path (try/catch + message)."
        ]),

<<<<<<< HEAD
      function section(title, chip, bodyHtml) {
        return `
        <div class="sectionCard">
          <div class="secHead">
            <div class="k">${title}</div>
            <div class="chip">${chip}</div>
          </div>
          <div style="margin-top:10px; line-height:1.75" class="muted">${bodyHtml}</div>
        </div>
      `;
      }

      function renderBullets(arr) {
        return `<ul style="margin:0; padding-left:18px;">${arr.map((x) => `<li>${x}</li>`).join("")}</ul>`;
      }

      function renderCodeBlocks(codeArr) {
        return codeArr
          .map((c) => `<pre class="code">${escapeHtml(c)}</pre>`)
          .join("");
      }

      function loadTopic(id) {
        const t = topics.find((x) => x.id === id);
        if (!t) return;
=======
      // 14) PROMISES
      t("prom","14) Promises: states & combinators",
        "Compose async tasks with clarity.",
        [
          "States: pending → fulfilled/rejected; settled = done.",
          "<b>Promise.all</b> (fail-fast), <b>allSettled</b> (never throws), <b>race</b> (first to settle), <b>any</b> (first to fulfill).",
          "Wrap callbacks into promises."
        ],
        [
          "Run 3 fetches with Promise.all and render when all succeed.",
          "Use allSettled to show which ones failed but continue.",
          "Race a fetch against a timeout promise."
        ]),
>>>>>>> 968e403a11ccd6b7436d35cc2696f3407d5fafae

      // 15) ASYNC/AWAIT
      t("async","15) async/await: sequential vs parallel",
        "Write async code that reads like sync.",
        [
          "Mark function <code>async</code>; use <code>await</code> inside.",
          "Run independent tasks in parallel with Promise.all for speed.",
          "Use try/catch around awaits; add finally for cleanup."
        ],
        [
          "Refactor a .then chain to async/await.",
          "Run two independent fetches in parallel and combine.",
          "Retry an await up to 3 times with backoff."
        ]),

<<<<<<< HEAD
        const importanceHtml = renderBullets(t.importance || []);
        const explanationHtml = renderBullets(t.explanation || []);
        const mistakesHtml = renderBullets(t.mistakes || []);
        const checklistHtml = renderBullets(t.checklist || []);
        const promptsHtml = renderBullets(t.prompts || []);

        const examplesHtml = renderCodeBlocks(t.examples || []);

        elPanel.innerHTML = [
          section("Importance", "Why this matters", importanceHtml),
          section("Explanation", "Concepts", explanationHtml),
          `<div class="sectionCard">
          <div class="secHead">
            <div class="k">Examples</div>
            <div class="chip">Copy & run in editor</div>
          </div>
          <div style="margin-top:10px">${examplesHtml || `<div class="muted">No examples available.</div>`}</div>
        </div>`,
          section("Common Mistakes", "Avoid these", mistakesHtml),
          section("Mini Checklist", "You’re done if…", checklistHtml),
          section("Practice Prompts", "Try yourself", promptsHtml),
        ].join("");

        // prepare clipboard texts
        lastExamplesText = (t.examples || []).join("\n\n");
        lastPromptsText = (t.prompts || []).map((p) => "- " + p).join("\n");

        // highlight selected
        [...document.querySelectorAll(".item")].forEach((it) => {
          it.style.boxShadow = "none";
          it.style.borderColor = "var(--border)";
          if (it.dataset.id === id) {
            it.style.borderColor = "rgba(217,119,6,.45)";
            it.style.boxShadow = "0 12px 26px rgba(31,41,55,.10)";
          }
=======
      // 16) CLASSES + PROTOTYPES
      t("classes","16) Prototypes & Classes",
        "Understand how objects inherit behavior.",
        [
          "Prototype chain provides shared methods.",
          "class syntax sugar over prototype functions.",
          "super to call parent constructor/methods."
        ],
        [
          "Create a Shape → Rectangle hierarchy.",
          "Add a static fromArray factory method.",
          "Override toString for readable output."
        ]),

      // 17) MODULES
      t("modules","17) ES Modules: import/export",
        "Split code into files and reuse.",
        [
          "Default vs named exports; <code>import thing from</code> vs <code>import {a,b}</code>.",
          "Use type=module in script tag; modules are deferred automatically.",
          "Bare imports need bundlers; relative paths work in browser."
        ],
        [
          "Create two modules: math.js and app.js, import and use.",
          "Export a default function and a named constant, import both.",
          "Demonstrate circular import gotcha (read-only live bindings)."
        ]),

      // 18) ERROR HANDLING
      t("errors","18) Errors & Debugging",
        "Design for failure and better DX.",
        [
          "throw new Error('message'); create error types for domains.",
          "try/catch/finally; always add context to messages.",
          "Use console.*: log/info/warn/error/table/time/timeEnd/trace."
        ],
        [
          "Wrap parseUser(json) to throw descriptive errors.",
          "Use console.table to debug arrays of objects.",
          "Add a global window.onerror to capture errors."
        ]),

      // 19) DATE, TIME, INTL, MATH, JSON
      t("dtmj","19) Date/Time, Intl, Math, JSON",
        "Format numbers/dates; crunch numbers; serialize data.",
        [
          "Date: now(), toISOString(), get/set* methods.",
          "Intl.NumberFormat / Intl.DateTimeFormat for locale-safe formatting.",
          "Math: random, floor/ceil/round, max/min; clamp helper.",
          "JSON.stringify/parse; replacer & reviver."
        ],
        [
          "Format currency ₹ with Intl.NumberFormat.",
          "Convert ISO date to '22 Jan 2026, 7:10 PM'.",
          "Serialize an object and revive Date on parse."
        ]),

      // 20) FORMS + VALIDATION
      t("forms","20) Forms & Validation",
        "Handle inputs cleanly and validate.",
        [
          "preventDefault on submit; read FormData; HTML5 validation APIs.",
          "Custom validity via <code>setCustomValidity</code>.",
          "Sanitize/escape strings before injecting into HTML."
        ],
        [
          "Build a signup form with client-side checks.",
          "Show inline error below an invalid field.",
          "Serialize form to JSON using FormData."
        ]),

      // 21) STORAGE + COOKIES
      t("storage","21) Storage: localStorage, sessionStorage, cookies",
        "Persist small bits of state.",
        [
          "localStorage persists; sessionStorage per tab; both string-only.",
          "Use JSON.stringify/parse wrappers; namespacing keys.",
          "Cookies: document.cookie; attributes (path, max-age, samesite)."
        ],
        [
          "Remember dark/light theme across reloads.",
          "Save/restore a draft text area.",
          "Write a helper to get/set cookies."
        ]),

      // 22) URL, QUERY PARAMS, CLIPBOARD
      t("url","22) URL, Query Params, Clipboard",
        "Work with links and copy/paste.",
        [
          "new URL(location.href); URLSearchParams for ?a=1&b=2.",
          "navigator.clipboard.readText/writeText (requires https/user gesture).",
          "Create shareable links with current state encoded."
        ],
        [
          "Read ?q and highlight matching items.",
          "Copy current page URL with selected filters.",
          "Build a share link that restores UI state."
        ]),

      // 23) CANVAS (INTRO)
      t("canvas","23) Canvas (intro): draw shapes/text",
        "Start drawing pixels and shapes.",
        [
          "Get context: <code>const ctx = canvas.getContext('2d')</code>.",
          "Rect, line, arc, fillText/strokeText; save/restore state.",
          "RequestAnimationFrame for smooth loops."
        ],
        [
          "Draw a grid and animate a bouncing ball.",
          "Make a simple progress ring.",
          "Export canvas to dataURL and download."
        ]),

      // 24) WEB WORKERS (INTRO)
      t("workers","24) Web Workers (intro)",
        "Run heavy work off the main thread.",
        [
          "new Worker('worker.js'); postMessage / onmessage to talk.",
          "No DOM access in workers; importScripts for libs.",
          "Transferable objects for performance (ArrayBuffer)."
        ],
        [
          "Compute primes in a worker while UI stays responsive.",
          "Progress updates from worker to render a bar.",
          "Transfer a large typed array to avoid copying."
        ]),

      // 25) PERFORMANCE
      t("perf","25) Performance & the Event Loop",
        "Avoid jank and measure what matters.",
        [
          "Microtasks (Promises) vs macrotasks (setTimeout).",
          "Throttle/debounce input handlers.",
          "Use Performance.now(), performance.mark/measure."
        ],
        [
          "Show order of logs for Promise vs setTimeout.",
          "Debounce a search input (300ms).",
          "Measure render time of a large list."
        ])
    ];

    // helper to define topics
    function t(id,title,desc,notes,prompts){ return { id, title, desc, notes, prompts }; }

    // ---------- UI WIRING ----------
    const elList = document.getElementById("topicList");
    const elTitle = document.getElementById("topicTitle");
    const elHint  = document.getElementById("topicHint");
    const elNotes = document.getElementById("topicNotes");
    const elPrompts = document.getElementById("topicPrompts");
    const elQ = document.getElementById("q");

    function renderList(filterText=""){
      const f = filterText.trim().toLowerCase();
      elList.innerHTML = "";
      topics
        .filter(t => !f || (t.title + " " + t.desc).toLowerCase().includes(f))
        .forEach(t => {
          const div = document.createElement("div");
          div.className = "item";
          div.dataset.id = t.id;
          div.innerHTML = `<div class="t">${t.title}</div><div class="d">${t.desc}</div>`;
          div.addEventListener("click", () => loadTopic(t.id));
          elList.appendChild(div);
>>>>>>> 968e403a11ccd6b7436d35cc2696f3407d5fafae
        });
      if(!elList.children.length){
        const empty = document.createElement("div");
        empty.className = "muted";
        empty.style.padding = "6px 2px";
        empty.textContent = "No topics found. Try another keyword.";
        elList.appendChild(empty);
      }
    }

    function loadTopic(id){
      const t = topics.find(x => x.id === id);
      if(!t) return;
      elTitle.textContent = t.title;
      elHint.textContent = t.desc;
      elNotes.innerHTML = "<ul style='margin:0;padding-left:18px;line-height:1.75;color:var(--muted)'>" +
        t.notes.map(n => `<li>${n}</li>`).join("") + "</ul>";
      elPrompts.innerHTML = t.prompts.map(p => `<li>${escapeHtml(p)}</li>`).join("");
      [...document.querySelectorAll(".item")].forEach(it=>{
        it.style.boxShadow="none"; it.style.borderColor="var(--border)";
        if(it.dataset.id===id){ it.style.borderColor="rgba(217,119,6,.45)"; it.style.boxShadow="0 12px 26px rgba(31,41,55,.10)"; }
      });
      document.getElementById("editorTop").scrollIntoView({behavior:"smooth",block:"start"});
    }

    function escapeHtml(s){
      return String(s)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    // Buttons
    document.getElementById("btnOpenNew").addEventListener("click", () => {
      window.open(EDITOR_URL, "_blank", "noopener,noreferrer");
    });
    document.getElementById("btnScrollEditor").addEventListener("click", () => {
      document.getElementById("jsEditor").scrollIntoView({behavior:"smooth",block:"start"});
    });
    document.getElementById("btnScrollTop").addEventListener("click", () => {
      window.scrollTo({top:0,behavior:"smooth"});
    });
    document.getElementById("btnFullscreen").addEventListener("click", async () => {
      const iframe = document.getElementById("jsEditor");
      try{
        if(iframe.requestFullscreen) await iframe.requestFullscreen();
        else alert("Fullscreen not supported in this browser.");
      }catch(e){ alert("Fullscreen blocked by browser settings."); }
    });

    document.getElementById("btnCopyPrompts").addEventListener("click", async () => {
      const title = elTitle.textContent.trim();
      const prompts = [...elPrompts.querySelectorAll("li")].map(li => "- " + li.textContent.trim()).join("\n");
      const text = `${title}\n\nPractice Prompts:\n${prompts}\n`;
      try{ await navigator.clipboard.writeText(text); alert("Prompts copied!"); }
      catch(e){ alert("Clipboard blocked. Select and copy manually."); }
    });

<<<<<<< HEAD
      document
        .getElementById("btnCopyPrompts")
        .addEventListener("click", async () => {
          const title = elTitle.textContent.trim();
          const text = `${title}\n\nPractice Prompts:\n${lastPromptsText || "(select a topic first)"}\n`;
          try {
            await navigator.clipboard.writeText(text);
            alert("Prompts copied!");
          } catch (e) {
            alert("Clipboard blocked. Copy manually.");
          }
        });

      document
        .getElementById("btnCopyExamples")
        .addEventListener("click", async () => {
          const title = elTitle.textContent.trim();
          const text = `${title}\n\nExamples:\n\n${lastExamplesText || "(select a topic first)"}\n`;
          try {
            await navigator.clipboard.writeText(text);
            alert("Examples copied!");
          } catch (e) {
            alert("Clipboard blocked. Copy manually.");
          }
        });

      elQ.addEventListener("input", () => renderList(elQ.value));

      // Init
      renderList();
    </script>
  </body>
</html>
=======
    // Search
    elQ.addEventListener("input", () => renderList(elQ.value));

    // Init
    renderList();
  </script>
</body>
</html>
>>>>>>> 968e403a11ccd6b7436d35cc2696f3407d5fafae
