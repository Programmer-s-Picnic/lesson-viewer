<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Learn JavaScript — Comprehensive Roadmap</title>
  <meta name="description" content="Learn JavaScript with a comprehensive roadmap and an embedded in-browser JS editor." />
  <style>
    :root{
      --bg:#fff7e6; --card:#ffffff; --ink:#1f2937; --muted:#6b7280;
      --brand:#d97706; --brand2:#f59e0b; --border:#eadcc5;
      --shadow:0 18px 40px rgba(31,41,55,.14); --ring:0 0 0 4px rgba(245,158,11,.22);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--ink);
      font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Noto Sans","Helvetica Neue",sans-serif;
      background:
        radial-gradient(900px 420px at 15% -10%, rgba(245,158,11,.28), transparent 60%),
        radial-gradient(900px 420px at 85% -10%, rgba(217,119,6,.18), transparent 60%),
        var(--bg);
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1180px;margin:0 auto;padding:18px}
    .topbar{position:sticky;top:0;z-index:20;backdrop-filter:blur(10px);background:rgba(255,247,230,.72);border-bottom:1px solid rgba(234,220,197,.9)}
    .topbar .row{display:flex;align-items:center;justify-content:space-between;gap:14px;padding:12px 18px;max-width:1180px;margin:0 auto}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800}
    .logo{width:38px;height:38px;border-radius:12px;background:linear-gradient(135deg,var(--brand),var(--brand2));box-shadow:0 10px 22px rgba(217,119,6,.25);display:grid;place-items:center;color:#fff;font-weight:900}
    .badge{font-size:12px;padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:rgba(255,255,255,.75);color:var(--muted);white-space:nowrap}
    .actions{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .btn{appearance:none;border:1px solid var(--border);background:#fff;color:var(--ink);padding:9px 12px;border-radius:12px;cursor:pointer;font-weight:700;box-shadow:0 10px 20px rgba(31,41,55,.06);transition:transform .12s ease,box-shadow .12s ease,border-color .12s ease}
    .btn:hover{transform:translateY(-1px);border-color:rgba(217,119,6,.35);box-shadow:0 14px 26px rgba(31,41,55,.10)}
    .btn:focus{outline:none;box-shadow:var(--ring)}
    .btn.primary{border-color:rgba(217,119,6,.25);background:linear-gradient(180deg,rgba(245,158,11,.22),rgba(217,119,6,.10))}
    .hero{display:grid;grid-template-columns:1.05fr .95fr;gap:16px;margin-top:18px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
    .pad{padding:18px}
    h1{margin:0 0 8px;font-size:30px;line-height:1.15}
    .sub{color:var(--muted);margin:0 0 14px}
    .pillrow{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
    .pill{border:1px solid var(--border);background:rgba(255,247,230,.55);padding:7px 10px;border-radius:999px;font-size:12.5px;color:#4b5563}
    .grid{display:grid;grid-template-columns:360px 1fr;gap:16px;margin-top:16px;align-items:start}
    .side h2{margin:0 0 10px;font-size:16px}
    .list{display:grid;gap:10px}
    .item{border:1px solid var(--border);border-radius:14px;padding:12px;background:rgba(255,255,255,.85);cursor:pointer;transition:transform .12s ease,border-color .12s ease}
    .item:hover{transform:translateY(-1px);border-color:rgba(217,119,6,.35)}
    .item .t{font-weight:900;margin-bottom:4px}
    .item .d{color:var(--muted);font-size:13px;line-height:1.35}
    .search{display:flex;gap:10px;margin:10px 0 14px}
    .search input{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:#fff;outline:none;box-shadow:0 10px 20px rgba(31,41,55,.05)}
    .search input:focus{box-shadow:var(--ring);border-color:rgba(217,119,6,.35)}
    .editorTop{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 14px;border-bottom:1px solid var(--border);background:linear-gradient(180deg,rgba(255,247,230,.75),rgba(255,255,255,.75))}
    .editorTop .left{display:flex;align-items:baseline;gap:10px;flex-wrap:wrap}
    .title{font-weight:900}
    .hint{color:var(--muted);font-size:13px}
    .iframeWrap{height:72vh;min-height:520px}
    iframe{width:100%;height:100%;border:0;background:#0b1220}
    .k{font-weight:900}
    .muted{color:var(--muted)}
    footer{margin:18px 0 6px;color:var(--muted);text-align:center;font-size:12.5px}
    @media (max-width:980px){.hero{grid-template-columns:1fr}.grid{grid-template-columns:1fr}.iframeWrap{height:70vh;min-height:520px}}
  </style>
</head>
<body>
  <div class="topbar">
    <div class="row">
      <div class="brand">
        <div class="logo">JS</div>
        <div>
          <div style="font-size:14px;">Learn JavaScript — Comprehensive</div>
          <div class="badge">Programmer’s Picnic • Editor Embedded</div>
        </div>
      </div>
      <div class="actions">
        <button class="btn" id="btnScrollEditor">Open Editor</button>
        <button class="btn primary" id="btnOpenNew">Editor in New Tab</button>
        <button class="btn" id="btnFullscreen">Fullscreen</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <section class="hero">
      <div class="card pad">
        <h1>Learn JavaScript by doing — with depth.</h1>
        <p class="sub">Roadmap → Notes → Prompts → Practice in the embedded editor.</p>
        <div class="pillrow">
          <div class="pill">Basics</div><div class="pill">Functions</div><div class="pill">Promises</div>
          <div class="pill">Async/Await</div><div class="pill">fetch & APIs</div><div class="pill">DOM</div>
          <div class="pill">Events</div><div class="pill">Window APIs</div><div class="pill">Storage</div>
          <div class="pill">Classes</div><div class="pill">Modules</div><div class="pill">Errors</div>
          <div class="pill">Dates & Intl</div><div class="pill">Canvas (intro)</div><div class="pill">Workers (intro)</div>
        </div>
      </div>
      <div class="card pad">
        <h2 style="margin:0 0 10px;font-size:16px;">How to use</h2>
        <ol style="margin:0;padding-left:18px;color:var(--muted);line-height:1.6">
          <li>Pick a topic from the left → read Notes & Prompts.</li>
          <li>Scroll down to the embedded editor and try the prompts.</li>
          <li>Open the editor in a new tab for full space.</li>
        </ol>
        <div style="margin-top:14px;border-top:1px solid var(--border);padding-top:14px;">
          <div class="k">Embedded editor</div>
          <div class="muted" style="margin-top:6px;word-break:break-word">https://www.learnwithchampak.live/2026/01/programmers-picnic-javascript-editor.html</div>
        </div>
      </div>
    </section>

    <section class="grid">
      <aside class="card pad side">
        <h2>Topics</h2>
        <div class="search"><input id="q" type="text" placeholder="Search topics… (e.g., fetch, promise, window)" /></div>
        <div class="list" id="topicList"></div>
      </aside>

      <main class="card">
        <div class="editorTop" id="editorTop">
          <div class="left">
            <div class="title" id="topicTitle">Pick a topic from the left</div>
            <div class="hint" id="topicHint">Notes + practice prompts will appear here.</div>
          </div>
          <div class="actions" style="gap:8px;">
            <button class="btn" id="btnCopyPrompts">Copy Prompts</button>
            <button class="btn" id="btnScrollTop">Top</button>
          </div>
        </div>

        <div class="pad" style="padding:16px 16px 0">
          <div class="card pad" style="box-shadow:none;border-radius:16px;background:rgba(255,247,230,.55)">
            <div class="k" style="margin-bottom:6px;">Quick Notes</div>
            <div id="topicNotes" class="muted" style="line-height:1.65">Select a topic to load notes.</div>
          </div>

          <div style="height:12px"></div>

          <div class="card pad" style="box-shadow:none;border-radius:16px;">
            <div class="k" style="margin-bottom:6px;">Practice Prompts</div>
            <ul id="topicPrompts" class="muted" style="line-height:1.75;margin:0;padding-left:18px">
              <li>Select a topic to load prompts.</li>
            </ul>
          </div>
        </div>

        <div style="height:14px"></div>

        <div class="pad" style="padding:0 16px 16px">
          <div class="k" style="margin:0 0 8px;">Embedded JavaScript Editor</div>
          <div class="iframeWrap card" style="border-radius:16px;overflow:hidden">
            <iframe
              id="jsEditor"
              title="Programmer’s Picnic JavaScript Editor"
              src="https://www.learnwithchampak.live/2026/01/programmers-picnic-javascript-editor.html"
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              allow="clipboard-read; clipboard-write; fullscreen"
            ></iframe>
          </div>
          <div class="muted" style="margin-top:10px">If the iframe is blocked by security headers, use “Editor in New Tab”.</div>
        </div>
      </main>
    </section>

    <footer>© Programmer’s Picnic • Learn JavaScript • Built by Champak Roy</footer>
  </div>

  <script>
    const EDITOR_URL = "https://www.learnwithchampak.live/2026/01/programmers-picnic-javascript-editor.html";

    // ---------- MASTER TOPICS ----------
    const topics = [
      // 1) BASICS
      t("basics","1) JS Basics: variables, types, operators",
        "let/const, primitive vs reference types, strict equality, template literals.",
        [
          "Use <b>const</b> for values not reassigned; <b>let</b> otherwise. Avoid <b>var</b> (function-scoped).",
          "Primitives: string, number, boolean, null, undefined, symbol, bigint.",
          "Reference types: object, array, function, Date, etc. Copied by reference.",
          "Strict equality <b>===</b> avoids coercion pitfalls from <b>==</b>.",
          "Template strings: <code>`Hello ${name}`</code>."
        ],
        [
          "Create variables for name, age, isStudent; print a sentence via template strings.",
          "Given two numbers, print sum, diff, product, quotient, remainder.",
          "Show the difference between === and == with examples."
        ]),

      // 2) CONTROL FLOW
      t("control","2) Control Flow: if/else, switch, try/catch",
        "Write branching logic and handle errors gracefully.",
        [
          "Use if/else for ranges; switch for single-value matching.",
          "Guard clauses: early returns to avoid deep nesting.",
          "Use try/catch for expected failures; rethrow or handle."
        ],
        [
          "Map marks (0–100) to grades.",
          "Switch on weekday number (1–7) to name.",
          "Wrap JSON.parse in try/catch; show custom error message."
        ]),

      // 3) LOOPS
      t("loops","3) Loops: for/while/do-while & patterns",
        "Repeat tasks, iterate arrays/objects, and print patterns.",
        [
          "Use <b>for</b> when count known; <b>while</b> for unknown.",
          "for...of for values; for...in for keys (use carefully).",
          "Break stops; continue skips."
        ],
        [
          "Print 1..50 but skip multiples of 3.",
          "Compute factorial( n ).",
          "Draw a right triangle of * with nested loops."
        ]),

      // 4) FUNCTIONS CORE
      t("functions","4) Functions: declarations, arrows, params",
        "Function forms, default/rest params, returning values.",
        [
          "Declaration vs expression vs arrow; hoisting differences.",
          "Default params: <code>function f(a=1){}</code>; Rest: <code>...args</code>.",
          "Pure functions: same input → same output, no side-effects."
        ],
        [
          "Write sum(...nums) returning total.",
          "Use default param to greet('Guest') if no name.",
          "Convert a declaration to arrow and explain differences."
        ]),

      // 5) DEEP FUNCTIONS: this/bind/call/apply + closures + HOF
      t("deepfx","5) Deep Functions: this, bind/call/apply, closures, HOF",
        "Master ‘this’, capture variables with closures, and write higher-order utilities.",
        [
          "<b>this</b> depends on call-site; arrow functions capture the lexical this.",
          "<b>bind</b> returns a new function with fixed this; <b>call/apply</b> invoke with this.",
          "Closures: inner functions remember outer variables after outer returns.",
          "Higher-order functions take/return functions."
        ],
        [
          "Use bind to fix a method’s this and pass it as a callback.",
          "Create a counter() that returns increment() with hidden state.",
          "Write once(fn) that ensures fn runs only once."
        ]),

      // 6) OBJECTS + GETters/SETters + property descriptors
      t("objects","6) Objects: keys/values, getters/setters, descriptors",
        "Model entities, compute properties, and control enumerability/writability.",
        [
          "Access: obj.x / obj['x']; iterate via Object.keys/values/entries.",
          "Getters/Setters compute/validate: <code>get full(){}</code> / <code>set name(v){}</code>.",
          "Define props: <code>Object.defineProperty</code> with descriptor flags."
        ],
        [
          "Add getter fullName to combine first/last.",
          "Use a setter that validates age (0–120).",
          "Create a non-enumerable id property."
        ]),

      // 7) ARRAYS
      t("arrays","7) Arrays: map/filter/reduce & friends",
        "Transform/select/aggregate collections.",
        [
          "Core methods: push/pop/shift/unshift/slice/splice.",
          "map transforms; filter selects; reduce aggregates; find/findIndex locate.",
          "some/ every for predicates; flat/flatMap for nested arrays."
        ],
        [
          "Squares via map; evens via filter; sum via reduce.",
          "Find the first product > ₹1000.",
          "Flatten [[1],[2,3],[4]] to [1,2,3,4]."
        ]),

      // 8) DOM “GET” FUNCTIONS + selectors
      t("getdom","8) DOM ‘get’ functions: selectors & traversal",
        "Select elements and read attributes/values safely.",
        [
          "<code>document.getElementById</code>, <code>getElementsByClassName</code>, <code>getElementsByTagName</code>.",
          "<code>querySelector</code>/<code>querySelectorAll</code> with CSS selectors.",
          "dataset, classList, value/textContent/innerHTML (sanitize when needed)."
        ],
        [
          "Get input value and mirror it into a preview <div>.",
          "Toggle classes on click using classList.",
          "Collect all links on page and print their hrefs."
        ]),

      // 9) DOM CREATE/UPDATE
      t("dom","9) DOM: create/update/remove",
        "Build and update UI nodes.",
        [
          "Create: <code>document.createElement</code>, set attributes, append/remove.",
          "Use DocumentFragment for batching; template tags to clone markup.",
          "Avoid layout thrash: batch reads/writes."
        ],
        [
          "Build a TODO list (add/remove items).",
          "Render an array of objects into a UL efficiently.",
          "Replace <p> with <blockquote> for selected text."
        ]),

      // 10) EVENTS
      t("events","10) Events: click, input, submit, key, custom",
        "React to user actions and dispatch your own.",
        [
          "Add listener: <code>el.addEventListener('type', handler)</code>.",
          "Prevent form reload via <code>event.preventDefault()</code>.",
          "Event delegation: attach once on a parent; use <code>event.target</code>.",
          "CustomEvent + dispatchEvent for your own events."
        ],
        [
          "Live char counter while typing.",
          "Form submit adds item without reload.",
          "Implement event delegation on a list."
        ]),

      // 11) WINDOW APIS (timers, dialogs, location/history, URL, storage)
      t("window","11) Window APIs: timers, dialogs, navigation, URL, storage",
        "Common ‘window’ tools you’ll use daily.",
        [
          "Timers: setTimeout / setInterval; clear with ids.",
          "Dialogs: alert / prompt / confirm (blocking).",
          "Navigation: location.href, reload(), history.back/forward/go.",
          "URL & URLSearchParams to read/write query params.",
          "Storage: localStorage/sessionStorage; JSON.stringify/parse."
        ],
        [
          "Implement a 5-sec countdown with cancel button.",
          "Read ?name=… from URL and greet user.",
          "Save theme selection in localStorage and restore on reload."
        ]),
 
      // 12) FETCH CORE
      t("fetch","12) fetch(): JSON, headers, errors",
        "Get data from APIs with proper error handling.",
        [
          "Default: GET; parse JSON via <code>res.json()</code>.",
          "Check <code>res.ok</code> / <code>res.status</code>; throw on non-200.",
          "Set headers: <code>{ headers: { 'Accept':'application/json' } }</code>."
        ],
        [
          "GET a sample JSON (use any test API) and render titles.",
          "Gracefully handle 404/500 with a user message.",
          "Measure and log fetch duration."
        ]),

      // 13) FETCH ADVANCED (POST, FormData, file upload, CORS)
      t("fetchx","13) fetch Advanced: POST, FormData, files, CORS",
        "Send data and handle cross-origin caveats.",
        [
          "POST JSON: <code>fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)})</code>.",
          "FormData for multi-part and file uploads.",
          "CORS errors happen before your code sees a response (browser blocks)."
        ],
        [
          "Build a form that POSTs JSON and logs server echo.",
          "Upload a file with FormData (to a mock or local endpoint).",
          "Show CORS error handling path (try/catch + message)."
        ]),

      // 14) PROMISES
      t("prom","14) Promises: states & combinators",
        "Compose async tasks with clarity.",
        [
          "States: pending → fulfilled/rejected; settled = done.",
          "<b>Promise.all</b> (fail-fast), <b>allSettled</b> (never throws), <b>race</b> (first to settle), <b>any</b> (first to fulfill).",
          "Wrap callbacks into promises."
        ],
        [
          "Run 3 fetches with Promise.all and render when all succeed.",
          "Use allSettled to show which ones failed but continue.",
          "Race a fetch against a timeout promise."
        ]),

      // 15) ASYNC/AWAIT
      t("async","15) async/await: sequential vs parallel",
        "Write async code that reads like sync.",
        [
          "Mark function <code>async</code>; use <code>await</code> inside.",
          "Run independent tasks in parallel with Promise.all for speed.",
          "Use try/catch around awaits; add finally for cleanup."
        ],
        [
          "Refactor a .then chain to async/await.",
          "Run two independent fetches in parallel and combine.",
          "Retry an await up to 3 times with backoff."
        ]),

      // 16) CLASSES + PROTOTYPES
      t("classes","16) Prototypes & Classes",
        "Understand how objects inherit behavior.",
        [
          "Prototype chain provides shared methods.",
          "class syntax sugar over prototype functions.",
          "super to call parent constructor/methods."
        ],
        [
          "Create a Shape → Rectangle hierarchy.",
          "Add a static fromArray factory method.",
          "Override toString for readable output."
        ]),

      // 17) MODULES
      t("modules","17) ES Modules: import/export",
        "Split code into files and reuse.",
        [
          "Default vs named exports; <code>import thing from</code> vs <code>import {a,b}</code>.",
          "Use type=module in script tag; modules are deferred automatically.",
          "Bare imports need bundlers; relative paths work in browser."
        ],
        [
          "Create two modules: math.js and app.js, import and use.",
          "Export a default function and a named constant, import both.",
          "Demonstrate circular import gotcha (read-only live bindings)."
        ]),

      // 18) ERROR HANDLING
      t("errors","18) Errors & Debugging",
        "Design for failure and better DX.",
        [
          "throw new Error('message'); create error types for domains.",
          "try/catch/finally; always add context to messages.",
          "Use console.*: log/info/warn/error/table/time/timeEnd/trace."
        ],
        [
          "Wrap parseUser(json) to throw descriptive errors.",
          "Use console.table to debug arrays of objects.",
          "Add a global window.onerror to capture errors."
        ]),

      // 19) DATE, TIME, INTL, MATH, JSON
      t("dtmj","19) Date/Time, Intl, Math, JSON",
        "Format numbers/dates; crunch numbers; serialize data.",
        [
          "Date: now(), toISOString(), get/set* methods.",
          "Intl.NumberFormat / Intl.DateTimeFormat for locale-safe formatting.",
          "Math: random, floor/ceil/round, max/min; clamp helper.",
          "JSON.stringify/parse; replacer & reviver."
        ],
        [
          "Format currency ₹ with Intl.NumberFormat.",
          "Convert ISO date to '22 Jan 2026, 7:10 PM'.",
          "Serialize an object and revive Date on parse."
        ]),

      // 20) FORMS + VALIDATION
      t("forms","20) Forms & Validation",
        "Handle inputs cleanly and validate.",
        [
          "preventDefault on submit; read FormData; HTML5 validation APIs.",
          "Custom validity via <code>setCustomValidity</code>.",
          "Sanitize/escape strings before injecting into HTML."
        ],
        [
          "Build a signup form with client-side checks.",
          "Show inline error below an invalid field.",
          "Serialize form to JSON using FormData."
        ]),

      // 21) STORAGE + COOKIES
      t("storage","21) Storage: localStorage, sessionStorage, cookies",
        "Persist small bits of state.",
        [
          "localStorage persists; sessionStorage per tab; both string-only.",
          "Use JSON.stringify/parse wrappers; namespacing keys.",
          "Cookies: document.cookie; attributes (path, max-age, samesite)."
        ],
        [
          "Remember dark/light theme across reloads.",
          "Save/restore a draft text area.",
          "Write a helper to get/set cookies."
        ]),

      // 22) URL, QUERY PARAMS, CLIPBOARD
      t("url","22) URL, Query Params, Clipboard",
        "Work with links and copy/paste.",
        [
          "new URL(location.href); URLSearchParams for ?a=1&b=2.",
          "navigator.clipboard.readText/writeText (requires https/user gesture).",
          "Create shareable links with current state encoded."
        ],
        [
          "Read ?q and highlight matching items.",
          "Copy current page URL with selected filters.",
          "Build a share link that restores UI state."
        ]),

      // 23) CANVAS (INTRO)
      t("canvas","23) Canvas (intro): draw shapes/text",
        "Start drawing pixels and shapes.",
        [
          "Get context: <code>const ctx = canvas.getContext('2d')</code>.",
          "Rect, line, arc, fillText/strokeText; save/restore state.",
          "RequestAnimationFrame for smooth loops."
        ],
        [
          "Draw a grid and animate a bouncing ball.",
          "Make a simple progress ring.",
          "Export canvas to dataURL and download."
        ]),

      // 24) WEB WORKERS (INTRO)
      t("workers","24) Web Workers (intro)",
        "Run heavy work off the main thread.",
        [
          "new Worker('worker.js'); postMessage / onmessage to talk.",
          "No DOM access in workers; importScripts for libs.",
          "Transferable objects for performance (ArrayBuffer)."
        ],
        [
          "Compute primes in a worker while UI stays responsive.",
          "Progress updates from worker to render a bar.",
          "Transfer a large typed array to avoid copying."
        ]),

      // 25) PERFORMANCE
      t("perf","25) Performance & the Event Loop",
        "Avoid jank and measure what matters.",
        [
          "Microtasks (Promises) vs macrotasks (setTimeout).",
          "Throttle/debounce input handlers.",
          "Use Performance.now(), performance.mark/measure."
        ],
        [
          "Show order of logs for Promise vs setTimeout.",
          "Debounce a search input (300ms).",
          "Measure render time of a large list."
        ])
    ];

    // helper to define topics
    function t(id,title,desc,notes,prompts){ return { id, title, desc, notes, prompts }; }

    // ---------- UI WIRING ----------
    const elList = document.getElementById("topicList");
    const elTitle = document.getElementById("topicTitle");
    const elHint  = document.getElementById("topicHint");
    const elNotes = document.getElementById("topicNotes");
    const elPrompts = document.getElementById("topicPrompts");
    const elQ = document.getElementById("q");

    function renderList(filterText=""){
      const f = filterText.trim().toLowerCase();
      elList.innerHTML = "";
      topics
        .filter(t => !f || (t.title + " " + t.desc).toLowerCase().includes(f))
        .forEach(t => {
          const div = document.createElement("div");
          div.className = "item";
          div.dataset.id = t.id;
          div.innerHTML = `<div class="t">${t.title}</div><div class="d">${t.desc}</div>`;
          div.addEventListener("click", () => loadTopic(t.id));
          elList.appendChild(div);
        });
      if(!elList.children.length){
        const empty = document.createElement("div");
        empty.className = "muted";
        empty.style.padding = "6px 2px";
        empty.textContent = "No topics found. Try another keyword.";
        elList.appendChild(empty);
      }
    }

    function loadTopic(id){
      const t = topics.find(x => x.id === id);
      if(!t) return;
      elTitle.textContent = t.title;
      elHint.textContent = t.desc;
      elNotes.innerHTML = "<ul style='margin:0;padding-left:18px;line-height:1.75;color:var(--muted)'>" +
        t.notes.map(n => `<li>${n}</li>`).join("") + "</ul>";
      elPrompts.innerHTML = t.prompts.map(p => `<li>${escapeHtml(p)}</li>`).join("");
      [...document.querySelectorAll(".item")].forEach(it=>{
        it.style.boxShadow="none"; it.style.borderColor="var(--border)";
        if(it.dataset.id===id){ it.style.borderColor="rgba(217,119,6,.45)"; it.style.boxShadow="0 12px 26px rgba(31,41,55,.10)"; }
      });
      document.getElementById("editorTop").scrollIntoView({behavior:"smooth",block:"start"});
    }

    function escapeHtml(s){
      return String(s)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    // Buttons
    document.getElementById("btnOpenNew").addEventListener("click", () => {
      window.open(EDITOR_URL, "_blank", "noopener,noreferrer");
    });
    document.getElementById("btnScrollEditor").addEventListener("click", () => {
      document.getElementById("jsEditor").scrollIntoView({behavior:"smooth",block:"start"});
    });
    document.getElementById("btnScrollTop").addEventListener("click", () => {
      window.scrollTo({top:0,behavior:"smooth"});
    });
    document.getElementById("btnFullscreen").addEventListener("click", async () => {
      const iframe = document.getElementById("jsEditor");
      try{
        if(iframe.requestFullscreen) await iframe.requestFullscreen();
        else alert("Fullscreen not supported in this browser.");
      }catch(e){ alert("Fullscreen blocked by browser settings."); }
    });

    document.getElementById("btnCopyPrompts").addEventListener("click", async () => {
      const title = elTitle.textContent.trim();
      const prompts = [...elPrompts.querySelectorAll("li")].map(li => "- " + li.textContent.trim()).join("\n");
      const text = `${title}\n\nPractice Prompts:\n${prompts}\n`;
      try{ await navigator.clipboard.writeText(text); alert("Prompts copied!"); }
      catch(e){ alert("Clipboard blocked. Select and copy manually."); }
    });

    // Search
    elQ.addEventListener("input", () => renderList(elQ.value));

    // Init
    renderList();
  </script>
</body>
</html>