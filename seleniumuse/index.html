<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scraping Yahoo Finance Historical Stock Data using Selenium | Programmerâ€™s Picnic</title>

  <style>
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #fffaf2;
      color: #2b2b2b;
      line-height: 1.8;
    }

    .pp-container{
      max-width: 900px;
      margin: auto;
      padding: 20px;
    }

    .pp-header{
      background: linear-gradient(135deg,#fff4dc,#ffe8b5);
      border-radius: 14px;
      padding: 22px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      margin-bottom: 26px;
    }

    .pp-header h1{
      margin: 0;
      color: #92400e;
      font-size: 28px;
    }

    .pp-brand{
      margin-top: 6px;
      font-size: 14px;
      color: #7c2d12;
      font-style: italic;
    }

    section{
      background: #ffffff;
      border-radius: 14px;
      padding: 22px;
      margin-bottom: 22px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
      border-left: 6px solid #f59e0b;
    }

    h2{
      color: #b45309;
      margin-top: 0;
    }

    pre{
      background: #1f2937;
      color: #f9fafb;
      padding: 16px;
      border-radius: 10px;
      overflow-x: auto;
      font-size: 14px;
    }

    code{
      font-family: Consolas, monospace;
    }

    .note{
      background: #fffbeb;
      border-left: 5px solid #f59e0b;
      padding: 14px;
      border-radius: 10px;
      margin-top: 12px;
      font-size: 15px;
    }

    .footer{
      text-align: center;
      margin-top: 30px;
      color: #6b7280;
      font-size: 14px;
    }
  </style>
</head>

<body>

<div class="pp-container">

  <div class="pp-header">
    <h1>Scraping Yahoo Finance Historical Stock Data using Selenium</h1>
    <div class="pp-brand">
      Programmerâ€™s Picnic Â· Learn with Champak Roy
    </div>
  </div>

  <section>
    <h2>Why Requests Fails for Yahoo Finance</h2>
    <p>
      Yahoo Finance loads its historical price table using <b>JavaScript</b>.
      When we use the <code>requests</code> library, Python only downloads the
      initial HTML â€” it does <b>not execute JavaScript</b>.
    </p>

    <p>
      As a result, the historical data table is missing.
    </p>

    <div class="note">
      ðŸ“Œ <b>Rule of Thumb:</b><br>
      If data appears only after the page loads â†’ Selenium is required.
    </div>
  </section>

  <section>
    <h2>Why Selenium Works</h2>
    <p>
      Selenium opens a real browser (Chrome), executes JavaScript,
      and allows us to interact with dynamically loaded content.
    </p>

    <ul>
      <li>âœ” JavaScript execution</li>
      <li>âœ” Dynamic tables</li>
      <li>âœ” Real-world scraping</li>
    </ul>
  </section>

  <section>
    <h2>Working Python Code (Yahoo Finance History)</h2>
    <a href="https://github.com/Varanasi-Software-Junction/Web-Analyzer-using-Selenium" class="pp-brand"><h1 style="background-color:orange;">Code on GIT</h1></a>
    <pre><code>
from selenium import webdriver
from selenium.webdriver.chrome.service import Service
from selenium.webdriver.common.by import By
from webdriver_manager.chrome import ChromeDriverManager
from time import sleep


# ---------- INPUT ----------

stockurl = "https://finance.yahoo.com/quote/RELIANCE.NS/"

# ---------- DRIVER ----------
driver = webdriver.Chrome(
    service=Service(ChromeDriverManager().install())
)

driver.get(stockurl)

# Wait for JavaScript-loaded content
sleep(5)

# ---------- Download Data ----------
data = driver.page_source

driver.quit()
print(data)
driver.quit()
</code></pre>
  </section>

  <section>
    <h2>What This Program Does</h2>
    <ol>
      <li>Takes a stock name as input</li>
      <li>Opens Yahoo Finance historical page</li>
      <li>Waits for JavaScript to load data</li>
      <li>Extracts historical prices row by row</li>
      <li>Prints clean tabular output</li>
    </ol>

    <div class="note">
      ðŸŽ“ This is a <b>real industry scraping pattern</b> used in
      finance, analytics, and ML pipelines.
    </div>
  </section>

  <section>
    <h2>Next Upgrades</h2>
    <ul>
      <li>Export data to CSV</li>
      <li>Load into Pandas DataFrame</li>
      <li>Plot stock price graphs</li>
      <li>Headless browser mode</li>
      <li>GUI-based stock scraper</li>
    </ul>
  </section>

  <div class="footer">
    Â© Programmerâ€™s Picnic Â· Varanasi<br>
    Teaching Programming the Practical Way
  </div>

</div>
<script src='https://programmer-s-picnic.github.io/json-images/find-on-page.js'></script>
</body>
</html>