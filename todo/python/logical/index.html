<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Python MCQ ‚Äî Logical Operators (and/or/not) (25 + Pyodide)</title>
<meta name="author" content="Champak Roy" />
<style>
:root{
  --bg:#fffaf2;--card:#fff;--ink:#1f2937;--muted:#6b7280;
  --brand:#d97706;--brand2:#f59e0b;--border:#e5e7eb;
  --ok:#059669;--bad:#dc2626;--shadow:0 10px 28px rgba(0,0,0,.10)
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--ink)}
.container{max-width:1150px;margin:auto;padding:18px}
.hero{background:linear-gradient(135deg,#fff4dc,#ffe8b5);border:1px solid #fde68a;border-radius:18px;box-shadow:var(--shadow);padding:18px}
h1{margin:0;color:#92400e}
.sub{color:var(--muted);font-size:14px;margin-top:6px}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.06);padding:16px;margin-top:16px}
.q{border:1px solid var(--border);border-radius:14px;padding:14px;margin:16px 0}
.options{display:grid;gap:8px;margin-top:8px}
.opt{display:flex;gap:10px;align-items:flex-start;padding:10px 12px;border-radius:12px;border:1px solid var(--border);transition:.15s}
.opt:hover{border-color:#f59e0b}
.opt input{margin-top:4px}
.correct{background:#f0fdf4;border-color:#86efac}
.wrong{background:#fff1f2;border-color:#fecaca}
.dim{opacity:.9}
.badge{font-size:12px;font-weight:900;padding:3px 8px;border-radius:999px;border:1px solid var(--border);margin-left:6px;white-space:nowrap}
.badge.ok{color:var(--ok);background:#f0fdf4;border-color:#86efac}
.badge.bad{color:var(--bad);background:#fff1f2;border-color:#fecaca}
.badge.me{color:#92400e;background:#fffbeb;border-color:#fde68a}
pre{background:#0b1220;color:#f9fafb;padding:10px;border-radius:10px;overflow:auto;margin:6px 0 0;font-size:14px;line-height:1.35}
.answerBox{margin-top:12px;padding:12px;border-radius:12px;border:1px dashed var(--border);background:#fffbeb;font-size:14px;line-height:1.5}
.assignment{background:#fff7ed;border-left:6px solid var(--brand2);padding:14px;border-radius:12px;margin-top:12px}
.btnRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.btn{padding:12px 18px;border-radius:12px;border:none;font-weight:900;cursor:pointer;background:linear-gradient(145deg,var(--brand),var(--brand2));color:#fff}
.btn.secondary{background:#fff;color:#92400e;border:1px solid var(--border)}
.btn:disabled{opacity:.6;cursor:not-allowed}
.score{font-size:22px;font-weight:900;color:#92400e}
.note{font-size:13px;color:var(--muted);margin-top:6px}
hr{border:none;border-top:1px solid var(--border);margin:14px 0}

/* Pyodide editor */
.editorWrap{display:grid;gap:12px;margin-top:12px}
@media (min-width: 980px){ .editorWrap{grid-template-columns:1.1fr .9fr;align-items:start} }
.editorCard{background:#fff;border:1px solid var(--border);border-radius:14px;padding:12px;box-shadow:0 6px 18px rgba(0,0,0,.05)}
.editorTop{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between}
.selectRow{display:flex;gap:10px;flex-wrap:wrap;align-items:center;min-width:280px;flex:1}
select, textarea{width:100%;font:14px ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}
select{border:1px solid var(--border);border-radius:10px;padding:10px;background:#fff}
textarea{min-height:280px;border:1px solid var(--border);border-radius:12px;padding:12px;background:#fffbeb;outline:none;resize:vertical}
.outBox{min-height:280px;background:#0b1220;color:#f9fafb;border-radius:12px;padding:12px;overflow:auto;border:1px solid #111827;font:14px ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;white-space:pre-wrap}
.kbdHint{font-size:12px;color:var(--muted)}
.statusPill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:#fffbeb;color:#92400e;font-weight:800;font-size:12px}
.dot{width:8px;height:8px;border-radius:50%;background:#f59e0b;display:inline-block}
.dot.ok{background:var(--ok)} .dot.bad{background:var(--bad)}
</style>
</head>
<body>
<div class="container">
  <div class="hero">
    <h1>Python Logical Operators ‚Äî 25 MCQs</h1>
    <div class="sub">and / or / not ‚Ä¢ short-circuit ‚Ä¢ truthy/falsy ‚Ä¢ precedence ‚Ä¢ assignments + Pyodide</div>
    <div class="btnRow">
      <button class="btn secondary" onclick="buildQuiz()">üîÄ New Test</button>
      <button class="btn" id="submitBtn" onclick="submitQuiz()">‚úÖ Submit Test</button>
    </div>
    <div class="note">Note: In Python, <b>and</b>/<b>or</b> return one of the operands (not always True/False).</div>
  </div>

  <div class="card" id="quiz"></div>

  <div class="card">
    <div class="score" id="score">Not submitted</div>
    <div class="note" id="meta"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>
<script>
function shuffle(arr){ const a=arr.slice(); for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]];} return a; }
function esc(s){ return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"); }
function isCodeLike(t){
  const s=String(t);
  if(s.includes("\n")) return true;
  return /(\band\b|\bor\b|\bnot\b|\bTrue\b|\bFalse\b|==|!=|>=|<=|>|<|\bprint\(|\bif\b)/.test(s.trim());
}
function renderMaybePre(t){ const safe=esc(t); return isCodeLike(t) ? `<pre>${safe}</pre>` : safe; }

const BANK = [
/* Output (5) */
{ q:"What is the output?", code:`print(True and False)`, opts:["True","False","Error","None"], ans:1, exp:"True and False ‚Üí False."},
{ q:"What is the output?", code:`print(True or False)`, opts:["True","False","Error","None"], ans:0, exp:"True or False ‚Üí True."},
{ q:"What is the output?", code:`print(not True)`, opts:["True","False","Error","None"], ans:1, exp:"not True ‚Üí False."},
{ q:"What is the output?", code:`print(0 and 5)`, opts:["0","5","False","True"], ans:0, exp:"and returns first falsy operand. 0 is falsy, so result is 0."},
{ q:"What is the output?", code:`print(0 or 5)`, opts:["0","5","False","True"], ans:1, exp:"or returns first truthy operand. 0 is falsy, so it returns 5."},

/* Choose correct expression (5) */
{ q:"Which condition checks: x is between 1 and 10 (inclusive)?", opts:["x>=1 and x<=10","x>=1 or x<=10","x>1 and x<10 only","x==1 and x==10"], ans:0, exp:"Both bounds must be true ‚Üí use AND."},
{ q:"Which checks: user is 'admin' OR 'teacher'?", opts:["user=='admin' or user=='teacher'","user=='admin' and user=='teacher'","user!='admin' or 'teacher'","user=='admin' || user=='teacher'"], ans:0, exp:"In Python use or, and compare fully on both sides."},
{ q:"Which is the correct NOT condition for (x > 5)?", opts:["not (x > 5)","x not > 5","!(x>5)","x <= 5 and x >= 5"], ans:0, exp:"Python uses not (condition)."},
{ q:"Which is correct to avoid the common mistake?", opts:["if x==1 or x==2:","if x==1 or 2:","if x in (1,2):","Both A and C"], ans:3, exp:"A is correct, C is also correct and cleaner. 'x==1 or 2' is wrong."},
{ q:"Which checks: password is NOT empty?", opts:["not password","password == ''","password != ''","password is not None only"], ans:2, exp:"password!='' ensures it‚Äôs not the empty string. (Truthiness also works but this is explicit.)"},

/* Short-circuit behavior (5) */
{ q:"What is the output?", code:`def f():\n    print("F")\n    return True\n\ndef g():\n    print("G")\n    return False\n\nprint(f() and g())`, opts:["F\\nG\\nFalse","F\\nFalse","G\\nFalse","F\\nG\\nTrue"], ans:0, exp:"f() runs (prints F, returns True), so and must evaluate g() (prints G). Final is False."},
{ q:"What is the output?", code:`def f():\n    print("F")\n    return False\n\ndef g():\n    print("G")\n    return True\n\nprint(f() and g())`, opts:["F\\nG\\nTrue","F\\nFalse","F\\nG\\nFalse","G\\nTrue"], ans:1, exp:"and short-circuits on False. g() is NOT called. Prints F then False."},
{ q:"What is the output?", code:`def f():\n    print("F")\n    return True\n\ndef g():\n    print("G")\n    return True\n\nprint(f() or g())`, opts:["F\\nG\\nTrue","F\\nTrue","G\\nTrue","True only"], ans:1, exp:"or short-circuits on True. g() is NOT called. Prints F then True."},
{ q:"What is the output?", code:`print("" or "Hi")`, opts:["","Hi","False","True"], ans:1, exp:"Empty string is falsy, so or returns the next truthy value ‚Üí 'Hi'."},
{ q:"What is the output?", code:`print("Hi" and "Bye")`, opts:["Hi","Bye","True","False"], ans:1, exp:"and returns the last operand if all are truthy. Both non-empty strings are truthy ‚Üí 'Bye'."},

/* Precedence (5): not > and > or */
{ q:"What is the output?", code:`print(not False and False)`, opts:["True","False","Error","None"], ans:1, exp:"not False ‚Üí True. Then True and False ‚Üí False."},
{ q:"What is the output?", code:`print(True or False and False)`, opts:["True","False","Error","None"], ans:0, exp:"and runs before or: False and False ‚Üí False, then True or False ‚Üí True."},
{ q:"What is the output?", code:`print((True or False) and False)`, opts:["True","False","Error","None"], ans:1, exp:"(True or False)=True, then True and False ‚Üí False."},
{ q:"Which is equivalent to: not (a and b)?", opts:["(not a) and (not b)","(not a) or (not b)","a or b","a and b"], ans:1, exp:"De Morgan‚Äôs law: not(a and b) == (not a) or (not b)."},
{ q:"Which is equivalent to: not (a or b)?", opts:["(not a) and (not b)","(not a) or (not b)","a and b","a or b"], ans:0, exp:"De Morgan‚Äôs law: not(a or b) == (not a) and (not b)."},

/* Theory / truthy-falsy (5) */
{ q:"Which value is falsy in Python?", opts:["1","-1","'0'","0"], ans:3, exp:"0 is falsy. Non-zero numbers and non-empty strings are truthy."},
{ q:"What does 'and' return in Python?", opts:["Always True/False","Always integer","One of the operands","Always last operand"], ans:2, exp:"and returns the first falsy operand, otherwise the last operand."},
{ q:"What does 'or' return in Python?", opts:["Always True/False","One of the operands","Always first operand","Always 1 or 0"], ans:1, exp:"or returns the first truthy operand, otherwise the last operand."},
{ q:"What is bool('')?", opts:["True","False","Error","None"], ans:1, exp:"Empty string is falsy, so bool('') is False."},
{ q:"Which is the correct logical operator in Python (not symbols)?", opts:["&& and ||","and / or / not","! and ||","AND / OR / NOT only"], ans:1, exp:"Python uses keywords: and, or, not."}
];

const ASSIGNMENTS = [
  "Input age and citizen (yes/no). Print 'Can vote' if age>=18 AND citizen=='yes'.",
  "Input username. Allow login if username is 'admin' OR 'teacher'.",
  "Input a number n. Print True if n is NOT between 1 and 100.",
  "Input two booleans (as True/False strings). Compute and print: a and b, a or b, not a.",
  "Build a simple eligibility check: pass if marks>=40 AND attendance>=75."
];

let quiz=[], submitted=false;

function buildQuiz(){
  submitted=false;
  document.getElementById('score').textContent='Not submitted';
  document.getElementById('meta').textContent='';
  document.getElementById('submitBtn').disabled=false;

  quiz = shuffle(BANK).map(q=>{
    const c=q.opts[q.ans];
    const o=shuffle(q.opts);
    return {...q, opts:o, ans:o.indexOf(c)};
  });

  const box=document.getElementById('quiz');
  let out='';

  quiz.forEach((q,i)=>{
    out += `<div class="q"><b>Q${i+1}. ${esc(q.q)}</b>`;
    if(q.code) out += `<pre>${esc(q.code)}</pre>`;
    out += `<div class="options">`;
    q.opts.forEach((o,j)=>{
      const L=String.fromCharCode(65+j);
      out += `<label class="opt" id="o${i}_${j}">
        <input type="radio" name="q${i}" value="${j}">
        <div><b>${L}.</b> ${renderMaybePre(o)}</div>
      </label>`;
    });
    out += `</div><div class="answerBox" id="a${i}" style="display:none"></div></div>`;
  });

  out += `<hr>
  <div class="assignment">
    <b>üìù Programming Assignments (Not Graded)</b>
    <ol>${ASSIGNMENTS.map(a=>`<li>${esc(a)}</li>`).join('')}</ol>

    <div class="editorWrap">
      <div class="editorCard">
        <div class="editorTop">
          <div class="selectRow">
            <label style="font-weight:900;color:#92400e;">Choose assignment template:</label>
            <select id="asSelect" aria-label="Choose assignment template"></select>
          </div>
          <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center">
            <span class="statusPill" id="pyStatus"><span class="dot"></span> Pyodide loading‚Ä¶</span>
            <button class="btn secondary" id="clearBtn" type="button">üßπ Clear</button>
            <button class="btn" id="runBtn" type="button" disabled>‚ñ∂ Run Python</button>
          </div>
        </div>
        <div class="note">Shortcut: <b>Ctrl+Enter</b></div>
        <textarea id="codeEditor" spellcheck="false"></textarea>
        <div class="kbdHint">If your code uses <code>input()</code>, you‚Äôll be prompted for input lines.</div>
      </div>
      <div class="editorCard">
        <div style="font-weight:900;color:#92400e;margin-bottom:8px">Output</div>
        <div class="outBox" id="pyOut">(Output will appear here)</div>
      </div>
    </div>
  </div>`;

  box.innerHTML=out;
  document.querySelectorAll('input[type=radio]').forEach(r=>r.disabled=false);
  setupPyEditor();
  window.scrollTo({top:0, behavior:"smooth"});
}

function submitQuiz(){
  if(submitted) return;
  submitted=true;
  let score=0, attempted=0;

  quiz.forEach((q,i)=>{
    const sel=document.querySelector(`input[name="q${i}"]:checked`);
    const chosen=sel?Number(sel.value):null;
    if(chosen!==null) attempted++;

    q.opts.forEach((_,j)=>{
      const lab=document.getElementById(`o${i}_${j}`);
      lab.classList.add('dim');
      lab.querySelectorAll('.badge').forEach(b=>b.remove());

      if(j===q.ans){
        lab.classList.add('correct');
        lab.insertAdjacentHTML('beforeend',` <span class="badge ok">Correct</span>`);
      }
      if(chosen!==null && chosen===j){
        lab.insertAdjacentHTML('beforeend',` <span class="badge me">Your choice</span>`);
        if(chosen!==q.ans){
          lab.classList.add('wrong');
          lab.insertAdjacentHTML('beforeend',` <span class="badge bad">Wrong</span>`);
        }
      }
    });

    if(chosen!==null && chosen===q.ans) score++;

    const ab=document.getElementById(`a${i}`);
    ab.style.display='block';
    const your = chosen===null ? "Not attempted" : q.opts[chosen];
    const correct = q.opts[q.ans];
    ab.innerHTML = `<b>Your Answer:</b> ${renderMaybePre(your)}<br>
                    <b>Correct Answer:</b> ${renderMaybePre(correct)}<br>
                    <b>Explanation:</b> ${esc(q.exp)}`;
  });

  document.getElementById('score').textContent=`Score: ${score} / ${quiz.length}`;
  document.getElementById('meta').textContent=`Attempted: ${attempted} / ${quiz.length} ‚Ä¢ Unattempted: ${quiz.length-attempted}`;
  document.getElementById('submitBtn').disabled=true;
  document.querySelectorAll('input[type=radio]').forEach(r=>r.disabled=true);
  document.getElementById('score').scrollIntoView({behavior:"smooth", block:"start"});
}

/* ===== Pyodide Editor ===== */
let pyodideReady=null, _pyodide=null;
function setPyStatus(text, kind){
  const el=document.getElementById('pyStatus');
  if(!el) return;
  el.innerHTML=`<span class="dot ${kind||""}"></span> ${esc(text)}`;
}
function getAssignmentTemplates(){
  return [
    { title:"Assignment 1: Voting eligibility (AND)", code:
`age = int(input("Age: "))
citizen = input("Citizen (yes/no): ").strip().lower()

if age >= 18 and citizen == "yes":
    print("Can vote")
else:
    print("Cannot vote")
`},
    { title:"Assignment 2: Login role (OR)", code:
`user = input("Enter username: ").strip().lower()
if user == "admin" or user == "teacher":
    print("Login allowed")
else:
    print("Login denied")
`},
    { title:"Assignment 3: NOT between 1 and 100", code:
`n = int(input("Enter n: "))
if not (1 <= n <= 100):
    print(True)
else:
    print(False)
`},
    { title:"Assignment 4: Boolean ops demo", code:
`a = input("Enter a (True/False): ").strip()
b = input("Enter b (True/False): ").strip()
a = True if a.lower()=="true" else False
b = True if b.lower()=="true" else False

print("a and b =", a and b)
print("a or b  =", a or b)
print("not a   =", not a)
`},
    { title:"Assignment 5: Pass rule (AND)", code:
`marks = int(input("Marks: "))
att = int(input("Attendance %: "))
if marks >= 40 and att >= 75:
    print("Pass")
else:
    print("Fail")
`}
  ];
}
function setupPyEditor(){
  const select=document.getElementById('asSelect');
  const editor=document.getElementById('codeEditor');
  const runBtn=document.getElementById('runBtn');
  const clearBtn=document.getElementById('clearBtn');
  const outBox=document.getElementById('pyOut');
  if(!select||!editor||!runBtn||!outBox) return;

  const templates=getAssignmentTemplates();
  select.innerHTML=templates.map((t,i)=>`<option value="${i}">${esc(t.title)}</option>`).join('');
  editor.value=templates[0].code;

  select.onchange=()=>{ editor.value=templates[Number(select.value)].code; outBox.textContent="(Output will appear here)"; };
  clearBtn.onclick=()=>{ editor.value=""; outBox.textContent=""; };
  editor.addEventListener('keydown',(e)=>{ if((e.ctrlKey||e.metaKey)&&e.key==='Enter'){ e.preventDefault(); runBtn.click(); } });

  if(!pyodideReady){
    pyodideReady=(async ()=>{
      try{
        setPyStatus("Pyodide loading‚Ä¶","");
        _pyodide=await loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.25.1/full/"});
        await _pyodide.runPythonAsync(`
import sys, io, builtins, traceback
class _JSWriter(io.StringIO): pass
def _run_user(code, input_data=""):
    out=_JSWriter(); err=_JSWriter()
    old_out, old_err = sys.stdout, sys.stderr
    sys.stdout, sys.stderr = out, err

    old_input = builtins.input
    it = iter(input_data.splitlines())
    def _input(prompt=""):
        try: return next(it)
        except StopIteration: raise EOFError("No more input provided.")
    builtins.input = _input

    try: exec(code, {})
    except Exception: traceback.print_exc()
    finally:
        builtins.input = old_input
        sys.stdout, sys.stderr = old_out, old_err

    combined = out.getvalue()
    if err.getvalue():
        combined += ("\\n" if combined and not combined.endswith("\\n") else "") + err.getvalue()
    return combined
        `);
        setPyStatus("Pyodide ready","ok");
        runBtn.disabled=false;
      }catch(e){
        console.error(e);
        setPyStatus("Pyodide failed to load","bad");
        runBtn.disabled=true;
      }
    })();
  }

  runBtn.onclick=async ()=>{
    outBox.textContent="Running‚Ä¶";
    runBtn.disabled=true;
    try{
      await pyodideReady;
      const code=editor.value||"";
      const wantsInput=/input\s*\(/.test(code);
      let inputData="";
      if(wantsInput){
        inputData=(prompt("This code uses input().\\nEnter input lines (use \\\\n for new lines):","")||"").replace(/\\n/g,"\n");
      }
      _pyodide.globals.set("__USER_CODE__",code);
      _pyodide.globals.set("__USER_INPUT__",inputData);
      const res=await _pyodide.runPythonAsync(`_run_user(__USER_CODE__, __USER_INPUT__)`);
      outBox.textContent=res?String(res):"(No output)";
    }catch(err){
      outBox.textContent="Error: "+(err&&err.message?err.message:String(err));
    }finally{
      runBtn.disabled=false;
    }
  };
}

/* init */
buildQuiz();
</script>
</body>
</html>
