<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      Python MCQ ‚Äî Conditional (Comparison) Operators (25 + Pyodide)
    </title>
    <meta name="author" content="Champak Roy" />
    <style>
      :root {
        --bg: #fffaf2;
        --card: #fff;
        --ink: #1f2937;
        --muted: #6b7280;
        --brand: #d97706;
        --brand2: #f59e0b;
        --border: #e5e7eb;
        --ok: #059669;
        --bad: #dc2626;
        --shadow: 0 10px 28px rgba(0, 0, 0, 0.1);
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif;
        background: var(--bg);
        color: var(--ink);
      }
      .container {
        max-width: 1150px;
        margin: auto;
        padding: 18px;
      }
      .hero {
        background: linear-gradient(135deg, #fff4dc, #ffe8b5);
        border: 1px solid #fde68a;
        border-radius: 18px;
        box-shadow: var(--shadow);
        padding: 18px;
      }
      h1 {
        margin: 0;
        color: #92400e;
      }
      .sub {
        color: var(--muted);
        font-size: 14px;
        margin-top: 6px;
      }
      .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 16px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
        padding: 16px;
        margin-top: 16px;
      }
      .q {
        border: 1px solid var(--border);
        border-radius: 14px;
        padding: 14px;
        margin: 16px 0;
      }
      .options {
        display: grid;
        gap: 8px;
        margin-top: 8px;
      }
      .opt {
        display: flex;
        gap: 10px;
        align-items: flex-start;
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid var(--border);
        transition: 0.15s;
      }
      .opt:hover {
        border-color: #f59e0b;
      }
      .opt input {
        margin-top: 4px;
      }
      .correct {
        background: #f0fdf4;
        border-color: #86efac;
      }
      .wrong {
        background: #fff1f2;
        border-color: #fecaca;
      }
      .dim {
        opacity: 0.9;
      }
      .badge {
        font-size: 12px;
        font-weight: 900;
        padding: 3px 8px;
        border-radius: 999px;
        border: 1px solid var(--border);
        margin-left: 6px;
        white-space: nowrap;
      }
      .badge.ok {
        color: var(--ok);
        background: #f0fdf4;
        border-color: #86efac;
      }
      .badge.bad {
        color: var(--bad);
        background: #fff1f2;
        border-color: #fecaca;
      }
      .badge.me {
        color: #92400e;
        background: #fffbeb;
        border-color: #fde68a;
      }
      pre {
        background: #0b1220;
        color: #f9fafb;
        padding: 10px;
        border-radius: 10px;
        overflow: auto;
        margin: 6px 0 0;
        font-size: 14px;
        line-height: 1.35;
      }
      .answerBox {
        margin-top: 12px;
        padding: 12px;
        border-radius: 12px;
        border: 1px dashed var(--border);
        background: #fffbeb;
        font-size: 14px;
        line-height: 1.5;
      }
      .assignment {
        background: #fff7ed;
        border-left: 6px solid var(--brand2);
        padding: 14px;
        border-radius: 12px;
        margin-top: 12px;
      }
      .btnRow {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 12px;
      }
      .btn {
        padding: 12px 18px;
        border-radius: 12px;
        border: none;
        font-weight: 900;
        cursor: pointer;
        background: linear-gradient(145deg, var(--brand), var(--brand2));
        color: #fff;
      }
      .btn.secondary {
        background: #fff;
        color: #92400e;
        border: 1px solid var(--border);
      }
      .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }
      .score {
        font-size: 22px;
        font-weight: 900;
        color: #92400e;
      }
      .note {
        font-size: 13px;
        color: var(--muted);
        margin-top: 6px;
      }
      hr {
        border: none;
        border-top: 1px solid var(--border);
        margin: 14px 0;
      }

      /* Pyodide editor */
      .editorWrap {
        display: grid;
        gap: 12px;
        margin-top: 12px;
      }
      @media (min-width: 980px) {
        .editorWrap {
          grid-template-columns: 1.1fr 0.9fr;
          align-items: start;
        }
      }
      .editorCard {
        background: #fff;
        border: 1px solid var(--border);
        border-radius: 14px;
        padding: 12px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.05);
      }
      .editorTop {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
      }
      .selectRow {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
        min-width: 280px;
        flex: 1;
      }
      select,
      textarea {
        width: 100%;
        font: 14px ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
      }
      select {
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 10px;
        background: #fff;
      }
      textarea {
        min-height: 280px;
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 12px;
        background: #fffbeb;
        outline: none;
        resize: vertical;
      }
      .outBox {
        min-height: 280px;
        background: #0b1220;
        color: #f9fafb;
        border-radius: 12px;
        padding: 12px;
        overflow: auto;
        border: 1px solid #111827;
        font: 14px ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        white-space: pre-wrap;
      }
      .kbdHint {
        font-size: 12px;
        color: var(--muted);
      }
      .statusPill {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 10px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: #fffbeb;
        color: #92400e;
        font-weight: 800;
        font-size: 12px;
      }
      .dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #f59e0b;
        display: inline-block;
      }
      .dot.ok {
        background: var(--ok);
      }
      .dot.bad {
        background: var(--bad);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="hero">
        <h1>Python Conditional (Comparison) Operators ‚Äî 25 MCQs</h1>
        <div class="sub">
          ==, !=, &gt;, &lt;, &gt;=, &lt;= ‚Ä¢ chained comparisons ‚Ä¢ common
          mistakes ‚Ä¢ assignments + Pyodide
        </div>
        <div class="btnRow">
          <button class="btn secondary" onclick="buildQuiz()">
            üîÄ New Test
          </button>
          <button class="btn" id="submitBtn" onclick="submitQuiz()">
            ‚úÖ Submit Test
          </button>
        </div>
        <div class="note">
          All code-like options are shown inside &lt;pre&gt;.
        </div>
      </div>

      <div class="card" id="quiz"></div>

      <div class="card">
        <div class="score" id="score">Not submitted</div>
        <div class="note" id="meta"></div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>
    <script>
      /* ---------- utilities ---------- */
      function shuffle(arr){ const a=arr.slice(); for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]];} return a; }
      function esc(s){ return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"); }
      function isCodeLike(t){
        const s=String(t);
        if(s.includes("\n")) return true;
        return /(==|!=|>=|<=|>|<|\bprint\(|\bif\b|\band\b|\bor\b|\bnot\b|\bTrue\b|\bFalse\b)/.test(s.trim());
      }
      function renderMaybePre(t){ const safe=esc(t); return isCodeLike(t) ? `<pre>${safe}</pre>` : safe; }

      /* ---------- 25 questions: 5 output + 5 choose code + 5 tricky/strings + 5 chained/ranges + 5 theory ---------- */
      const BANK = [
      /* Output (5) */
      { q:"What is the output?", code:`print(5 > 3)`, opts:["True","False","Error","None"], ans:0, exp:"5 is greater than 3 ‚Üí True."},
      { q:"What is the output?", code:`print(10 == 5)`, opts:["True","False","10","Error"], ans:1, exp:"10 is not equal to 5 ‚Üí False."},
      { q:"What is the output?", code:`print(7 != 7)`, opts:["True","False","None","Error"], ans:1, exp:"7 is equal to 7, so 'not equal' is False."},
      { q:"What is the output?", code:`print(4 >= 4)`, opts:["True","False","Error","None"], ans:0, exp:"4 is equal to 4, and >= allows equality ‚Üí True."},
      { q:"What is the output?", code:`print(3 < 2)`, opts:["True","False","None","Error"], ans:1, exp:"3 is not less than 2 ‚Üí False."},

      /* Pick the correct code (5) */
      { q:"Which checks if x is equal to y?", opts:["print(x == y)","print(x = y)","print(x != y)","print(x >= y)"], ans:0, exp:"== compares values. = assigns."},
      { q:"Which checks if a is NOT equal to b?", opts:["a == b","a != b","a <= b","a >= b"], ans:1, exp:"!= means not equal."},
      { q:"Which checks if marks is at least 40?", opts:["marks > 40","marks >= 40","marks == 40","marks <= 40"], ans:1, exp:">= includes 40 itself."},
      { q:"Which checks if n is less than or equal to 0?", opts:["n < 0","n <= 0","n >= 0","n == 1"], ans:1, exp:"<= means less than OR equal to."},
      { q:"Which compares two strings for equality?", opts:["s1 == s2","s1 = s2","s1 >= s2 only","Strings cannot be compared"], ans:0, exp:"Strings can be compared; == checks exact match."},

      /* Tricky comparisons / types (5) */
      { q:"What is the output?", code:`print(5 == 5.0)`, opts:["True","False","Error","None"], ans:0, exp:"int 5 and float 5.0 have equal value ‚Üí True."},
      { q:"What is the output?", code:`print(True == 1)`, opts:["True","False","Error","None"], ans:0, exp:"In Python, True behaves like 1 in numeric comparison ‚Üí True."},
      { q:"What is the output?", code:`print(False == 0)`, opts:["True","False","Error","None"], ans:0, exp:"False behaves like 0 in numeric comparison ‚Üí True."},
      { q:"What is the output?", code:`print('10' == 10)`, opts:["True","False","Error","None"], ans:1, exp:"String '10' is not equal to integer 10 ‚Üí False."},
      { q:"What is the output?", code:`print('a' < 'b')`, opts:["True","False","Error","None"], ans:0, exp:"Strings compare lexicographically; 'a' comes before 'b' ‚Üí True."},

      /* Chained comparisons / ranges (5) */
      { q:"What is the output?", code:`x=8\nprint(5 < x <= 10)`, opts:["True","False","Error","None"], ans:0, exp:"Chained comparison means (5<x) and (x<=10). Both true ‚Üí True."},
      { q:"Which condition checks if age is between 18 and 60 (inclusive)?", opts:["age > 18 or age < 60","age >= 18 and age <= 60","age == 18 and age == 60","age > 60 and age < 18"], ans:1, exp:"Use AND to satisfy both bounds: >=18 and <=60."},
      { q:"What is the output?", code:`print(2 < 3 < 4)`, opts:["True","False","Error","None"], ans:0, exp:"2<3 and 3<4 ‚Üí True."},
      { q:"What is the output?", code:`print(2 < 3 > 4)`, opts:["True","False","Error","None"], ans:1, exp:"2<3 is true, but 3>4 is false. Chain requires both ‚Üí False."},
      { q:"Which is the best Python way to check 0 <= x < 100?", opts:["0 <= x and x < 100","0 <= x < 100","x in range(0,100) always","x >= 0 <= 100"], ans:1, exp:"Python supports chained comparisons: 0 <= x < 100 is clean and correct."},

      /* Theory / common mistakes (5) */
      { q:"What is the result type of a comparison like a > b?", opts:["int","float","bool","str"], ans:2, exp:"Comparison operators return True/False (bool)."},
      { q:"Which is NOT a comparison operator?", opts:["==","!=","+=","<="], ans:2, exp:"+= is an assignment operator."},
      { q:"What does >= mean?", opts:["Greater than","Equal only","Greater than or equal to","Less than"], ans:2, exp:">= allows equality or greater."},
      { q:"Which is correct for 'not equal'?", opts:["<>","!=","!","=/="], ans:1, exp:"Python uses != for not equal."},
      { q:"What happens if you write: if x = 5: ?", opts:["It checks equality","It assigns then checks","SyntaxError","Always True"], ans:2, exp:"= is assignment; in condition it causes SyntaxError. Use == for equality."}
      ];

      const ASSIGNMENTS = [
        "Input two numbers a and b. Print which one is bigger, or print 'Equal' if they are same (use == and >).",
        "Input age. Print 'Eligible' if age >= 18 else print 'Not eligible'.",
        "Input marks (0-100). Print A if marks>=90, B if marks>=60, else Fail (use comparisons).",
        "Input a character ch. Print if it is between 'a' and 'z' using chained comparisons.",
        "Input x. Check and print whether 0 <= x < 100."
      ];

      /* ---------- state ---------- */
      let quiz=[], submitted=false;

      /* ---------- build ---------- */
      function buildQuiz(){
        submitted=false;
        document.getElementById('score').textContent='Not submitted';
        document.getElementById('meta').textContent='';
        document.getElementById('submitBtn').disabled=false;

        quiz = shuffle(BANK).map(q=>{
          const correctText = q.opts[q.ans];
          const shuffledOpts = shuffle(q.opts);
          return { ...q, opts: shuffledOpts, ans: shuffledOpts.indexOf(correctText) };
        });

        const box=document.getElementById('quiz');
        let out='';

        quiz.forEach((q,i)=>{
          out += `<div class="q"><b>Q${i+1}. ${esc(q.q)}</b>`;
          if(q.code) out += `<pre>${esc(q.code)}</pre>`;
          out += `<div class="options">`;
          q.opts.forEach((o,j)=>{
            const L=String.fromCharCode(65+j);
            out += `<label class="opt" id="o${i}_${j}">
              <input type="radio" name="q${i}" value="${j}">
              <div><b>${L}.</b> ${renderMaybePre(o)}</div>
            </label>`;
          });
          out += `</div><div class="answerBox" id="a${i}" style="display:none"></div></div>`;
        });

        out += `<hr>
        <div class="assignment">
          <b>üìù Programming Assignments (Not Graded)</b>
          <ol>${ASSIGNMENTS.map(a=>`<li>${esc(a)}</li>`).join('')}</ol>

          <div class="editorWrap">
            <div class="editorCard">
              <div class="editorTop">
                <div class="selectRow">
                  <label style="font-weight:900;color:#92400e;">Choose assignment template:</label>
                  <select id="asSelect" aria-label="Choose assignment template"></select>
                </div>
                <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center">
                  <span class="statusPill" id="pyStatus"><span class="dot"></span> Pyodide loading‚Ä¶</span>
                  <button class="btn secondary" id="clearBtn" type="button">üßπ Clear</button>
                  <button class="btn" id="runBtn" type="button" disabled>‚ñ∂ Run Python</button>
                </div>
              </div>
              <div class="note">Run your assignment in-browser. Shortcut: <b>Ctrl+Enter</b></div>
              <textarea id="codeEditor" spellcheck="false"></textarea>
              <div class="kbdHint">If your code uses <code>input()</code>, you‚Äôll be prompted for input lines.</div>
            </div>
            <div class="editorCard">
              <div style="font-weight:900;color:#92400e;margin-bottom:8px">Output</div>
              <div class="outBox" id="pyOut">(Output will appear here)</div>
            </div>
          </div>
        </div>`;

        box.innerHTML = out;
        document.querySelectorAll('input[type=radio]').forEach(r=>r.disabled=false);
        setupPyEditor();
        window.scrollTo({top:0, behavior:"smooth"});
      }

      /* ---------- submit ---------- */
      function submitQuiz(){
        if(submitted) return;
        submitted=true;

        let score=0, attempted=0;

        quiz.forEach((q,i)=>{
          const sel=document.querySelector(`input[name="q${i}"]:checked`);
          const chosen=sel?Number(sel.value):null;
          if(chosen!==null) attempted++;

          q.opts.forEach((_,j)=>{
            const lab=document.getElementById(`o${i}_${j}`);
            lab.classList.add('dim');
            lab.querySelectorAll('.badge').forEach(b=>b.remove());
            if(j===q.ans){
              lab.classList.add('correct');
              lab.insertAdjacentHTML('beforeend',` <span class="badge ok">Correct</span>`);
            }
            if(chosen!==null && chosen===j){
              lab.insertAdjacentHTML('beforeend',` <span class="badge me">Your choice</span>`);
              if(chosen!==q.ans){
                lab.classList.add('wrong');
                lab.insertAdjacentHTML('beforeend',` <span class="badge bad">Wrong</span>`);
              }
            }
          });

          if(chosen!==null && chosen===q.ans) score++;

          const ab=document.getElementById(`a${i}`);
          ab.style.display='block';
          const your = chosen===null ? "Not attempted" : q.opts[chosen];
          const correct = q.opts[q.ans];
          ab.innerHTML = `<b>Your Answer:</b> ${renderMaybePre(your)}<br>
                          <b>Correct Answer:</b> ${renderMaybePre(correct)}<br>
                          <b>Explanation:</b> ${esc(q.exp)}`;
        });

        document.getElementById('score').textContent = `Score: ${score} / ${quiz.length}`;
        document.getElementById('meta').textContent = `Attempted: ${attempted} / ${quiz.length} ‚Ä¢ Unattempted: ${quiz.length-attempted}`;
        document.getElementById('submitBtn').disabled=true;
        document.querySelectorAll('input[type=radio]').forEach(r=>r.disabled=true);
        document.getElementById('score').scrollIntoView({behavior:"smooth", block:"start"});
      }

      /* ================= Pyodide Editor ================= */
      let pyodideReady=null, _pyodide=null;

      function setPyStatus(text, kind){
        const el=document.getElementById('pyStatus');
        if(!el) return;
        el.innerHTML = `<span class="dot ${kind||""}"></span> ${esc(text)}`;
      }

      function getAssignmentTemplates(){
        return [
          { title:"Assignment 1: Bigger / Equal", code:
      `# Input two numbers a and b. Print which one is bigger, or 'Equal'.
      a = int(input("Enter a: "))
      b = int(input("Enter b: "))

      if a > b:
          print("a is bigger")
      elif a < b:
          print("b is bigger")
      else:
          print("Equal")
      `},
          { title:"Assignment 2: Eligible (age>=18)", code:
      `age = int(input("Enter age: "))
      if age >= 18:
          print("Eligible")
      else:
          print("Not eligible")
      `},
          { title:"Assignment 3: Grade by marks", code:
      `m = int(input("Enter marks (0-100): "))
      if m >= 90:
          print("A")
      elif m >= 60:
          print("B")
      else:
          print("Fail")
      `},
          { title:"Assignment 4: 'a' to 'z' check", code:
      `ch = input("Enter a single character: ")
      # Using chained comparisons for lowercase letters:
      if 'a' <= ch <= 'z':
          print("Lowercase letter")
      else:
          print("Not lowercase a-z")
      `},
          { title:"Assignment 5: Range check 0<=x<100", code:
      `x = int(input("Enter x: "))
      if 0 <= x < 100:
          print("In range")
      else:
          print("Out of range")
      `}
        ];
      }

      function setupPyEditor(){
        const select=document.getElementById('asSelect');
        const editor=document.getElementById('codeEditor');
        const runBtn=document.getElementById('runBtn');
        const clearBtn=document.getElementById('clearBtn');
        const outBox=document.getElementById('pyOut');
        if(!select || !editor || !runBtn || !outBox) return;

        const templates=getAssignmentTemplates();
        select.innerHTML = templates.map((t,i)=>`<option value="${i}">${esc(t.title)}</option>`).join('');
        editor.value = templates[0].code;

        select.onchange = ()=>{ editor.value = templates[Number(select.value)].code; outBox.textContent="(Output will appear here)"; };
        clearBtn.onclick = ()=>{ editor.value=""; outBox.textContent=""; };
        editor.addEventListener('keydown',(e)=>{ if((e.ctrlKey||e.metaKey)&&e.key==='Enter'){ e.preventDefault(); runBtn.click(); } });

        if(!pyodideReady){
          pyodideReady = (async ()=>{
            try{
              setPyStatus("Pyodide loading‚Ä¶","");
              _pyodide = await loadPyodide({ indexURL:"https://cdn.jsdelivr.net/pyodide/v0.25.1/full/" });
              await _pyodide.runPythonAsync(`
      import sys, io, builtins, traceback
      class _JSWriter(io.StringIO): pass
      def _run_user(code, input_data=""):
          out=_JSWriter(); err=_JSWriter()
          old_out, old_err = sys.stdout, sys.stderr
          sys.stdout, sys.stderr = out, err

          old_input = builtins.input
          it = iter(input_data.splitlines())
          def _input(prompt=""):
              try: return next(it)
              except StopIteration: raise EOFError("No more input provided.")
          builtins.input = _input

          try: exec(code, {})
          except Exception: traceback.print_exc()
          finally:
              builtins.input = old_input
              sys.stdout, sys.stderr = old_out, old_err

          combined = out.getvalue()
          if err.getvalue():
              combined += ("\\n" if combined and not combined.endswith("\\n") else "") + err.getvalue()
          return combined
              `);
              setPyStatus("Pyodide ready","ok");
              runBtn.disabled=false;
            }catch(e){
              console.error(e);
              setPyStatus("Pyodide failed to load","bad");
              runBtn.disabled=true;
            }
          })();
        }

        runBtn.onclick = async ()=>{
          outBox.textContent="Running‚Ä¶";
          runBtn.disabled=true;
          try{
            await pyodideReady;
            const code = editor.value || "";
            const wantsInput = /input\s*\(/.test(code);
            let inputData = "";
            if(wantsInput){
              inputData = prompt("This code uses input().\\nEnter input lines (use \\\\n for new lines):","") || "";
              inputData = inputData.replace(/\\n/g,"\n");
            }
            _pyodide.globals.set("__USER_CODE__", code);
            _pyodide.globals.set("__USER_INPUT__", inputData);
            const res = await _pyodide.runPythonAsync(`_run_user(__USER_CODE__, __USER_INPUT__)`);
            outBox.textContent = res ? String(res) : "(No output)";
          }catch(err){
            outBox.textContent = "Error: " + (err && err.message ? err.message : String(err));
          }finally{
            runBtn.disabled=false;
          }
        };
      }

      /* init */
      buildQuiz();
    </script>
  </body>
</html>
