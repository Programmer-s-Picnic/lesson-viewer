<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Varanasi Tourism Planner â€” Build Your Own Tour</title>
    <meta
      name="description"
      content="Varanasi tourism page with destinations, all ghats directory, ready routes (Panchkosi etc), nearby places from current/given location, DIY tour builder, localStorage save, WhatsApp share, and map view."
    />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      crossorigin=""
    />
  </head>
  <body>
    <div class="topbar">
      <div class="topbar-inner">
        <div class="logo" aria-label="Varanasi Tourism Planner">
          <div class="logo-badge">à¥</div>
          <div>
            <div class="logo-title">Varanasi Tourism Planner</div>
            <div class="logo-sub">
              Select destinations â€¢ Build your own tour â€¢ Ready routes â€¢ Nearby
            </div>
          </div>
        </div>

        <div class="pill" title="Quick search (same as right-side search)">
          ğŸ”
          <input
            id="topSearch"
            type="search"
            placeholder="Search: Assi, Sarnath, Silk, Temple, Ghat..."
            autocomplete="off"
          />
        </div>

        <button
          class="btn secondary"
          id="saveTourBtn"
          title="Save current tour in browser"
        >
          ğŸ’¾ Save Tour
        </button>
      </div>
    </div>

    <div class="wrap">
      <div class="hero">
        <!-- LEFT: TABS -->
        <section class="panel">
          <div class="panel-h">
            <div>
              <h1>Explore Varanasi</h1>
              <p>
                Choose places you want to visit and build your personal tour
                plan. Tour is saved in <b>localStorage</b>.
              </p>

              <div class="tabbar" role="tablist" aria-label="Explore Tabs">
                <button
                  class="tab active"
                  id="tabPlaces"
                  role="tab"
                  aria-selected="true"
                  aria-controls="panePlaces"
                >
                  ğŸ›ï¸ Places
                </button>
                <button
                  class="tab"
                  id="tabGhats"
                  role="tab"
                  aria-selected="false"
                  aria-controls="paneGhats"
                >
                  ğŸ›• Ghats
                </button>
                <button
                  class="tab"
                  id="tabRoutes"
                  role="tab"
                  aria-selected="false"
                  aria-controls="paneRoutes"
                >
                  ğŸ§­ Routes
                </button>
              </div>

              <div class="chips">
                <span class="chip hot">Start Point</span>
                <span class="chip hot">Ghats</span>
                <span class="chip hot">Temples</span>
                <span class="chip hot">Heritage</span>
                <span class="chip hot">Sarnath</span>
                <span class="chip">Food</span>
                <span class="chip">Shopping</span>
                <span class="chip">Parikrama</span>
                <span class="chip">Experience</span>
              </div>
            </div>

            <div class="countpill"><span id="destCount">0</span> items</div>
          </div>

          <div class="panel-b">
            <!-- PLACES -->
            <div
              id="panePlaces"
              class="tabpane show"
              role="tabpanel"
              aria-labelledby="tabPlaces"
            >
              <div class="grid" id="destGrid"></div>
              <div class="note">
                <b>Smart view:</b> To keep it fast, ghat cards are hidden by
                default. Use search or filter â€œGhatâ€ to show them here.
              </div>
            </div>

            <!-- GHATS -->
            <div
              id="paneGhats"
              class="tabpane"
              role="tabpanel"
              aria-labelledby="tabGhats"
            >
              <div class="sectionTitle">All Ghats (Fast Directory)</div>

              <div class="row">
                <input
                  id="ghatSearch"
                  class="field"
                  type="search"
                  placeholder="Search ghats: Assi, Kedar, Panchganga..."
                  autocomplete="off"
                />
              </div>

              <div class="row" style="margin-top: 10px">
                <button class="btn secondary" id="selectAllVisibleGhatsBtn">
                  â˜‘ Select visible
                </button>
                <button class="btn secondary" id="clearGhatSelectionBtn">
                  âœ• Clear selection
                </button>
              </div>

              <div class="row" style="margin-top: 10px">
                <button class="btn" id="addSelectedGhatsBtn">
                  â• Add selected to Tour
                </button>
                <button class="btn secondary" id="addFamousGhatsBtn">
                  â­ Add Famous Ghats
                </button>
              </div>

              <div class="note" id="ghatStats" style="margin-top: 10px"></div>
              <div class="ghatlist" id="ghatList"></div>

              <div class="note">
                Ghats without coordinates will be <b>auto-geocoded</b> when you
                open the map (and cached).
              </div>
            </div>

            <!-- ROUTES -->
            <div
              id="paneRoutes"
              class="tabpane"
              role="tabpanel"
              aria-labelledby="tabRoutes"
            >
              <div class="sectionTitle">Ready Routes (1-Click)</div>
              <div class="note">
                Preview a route, then apply it. You can reorder later on the
                right.
              </div>
              <div class="routes" id="routesList"></div>
            </div>
          </div>
        </section>

        <!-- RIGHT: TOUR BUILDER -->
        <aside class="panel right">
          <div class="panel-h">
            <div>
              <h2>Plan â€¢ Nearby â€¢ Map</h2>
              <p>
                Filter, add, reorder, discover nearby destinations, share on
                WhatsApp.
              </p>
            </div>
            <span class="countpill"><span id="tourCount">0</span> in tour</span>
          </div>

          <div class="panel-b">
            <!-- SEARCH -->
            <div class="label">Search destinations</div>
            <input
              id="rightSearch"
              class="field"
              type="search"
              placeholder="Type to search..."
              autocomplete="off"
            />

            <div class="spacer"></div>

            <!-- FILTERS -->
            <div class="label">Quick filters</div>
            <div class="row">
              <select id="filterType" class="field" aria-label="Filter by type">
                <option value="all">All types</option>
              </select>
              <select
                id="filterTime"
                class="field"
                aria-label="Filter by best time"
              >
                <option value="all">Any time</option>
                <option value="sunrise">Sunrise</option>
                <option value="day">Day</option>
                <option value="evening">Evening</option>
                <option value="night">Night</option>
              </select>
            </div>

            <div class="spacer"></div>

            <!-- NEARBY -->
            <div class="label">Nearby destinations (innovative)</div>
            <div class="row">
              <button class="btn secondary" id="useMyLocationBtn">
                ğŸ“ Use My Location
              </button>
              <button class="btn secondary" id="clearNearbyBtn">
                âœ• Clear Nearby
              </button>
            </div>

            <div class="hint">Or enter a location (lat,lng) or place name:</div>
            <div class="row">
              <input
                id="manualLocation"
                class="field"
                type="text"
                placeholder="e.g. 25.30, 83.01  OR  'BHU Gate'  OR  'Assi Ghat'"
              />
            </div>
            <div class="row" style="margin-top: 10px">
              <select id="nearRadius" class="field" aria-label="Nearby radius">
                <option value="2">Within 2 km</option>
                <option value="4" selected>Within 4 km</option>
                <option value="7">Within 7 km</option>
                <option value="12">Within 12 km</option>
                <option value="20">Within 20 km</option>
              </select>
              <button class="btn" id="findNearbyBtn">ğŸ§­ Find Nearby</button>
            </div>

            <div class="note" id="nearbyBox" style="display: none"></div>

            <div class="spacer"></div>

            <!-- TOUR LIST -->
            <div class="label">Your tour (reorder)</div>
            <div class="tourlist" id="tourList"></div>

            <div class="row" style="margin-top: 12px">
              <button class="btn" id="makePlanBtn">ğŸ§¾ Make Tour Summary</button>
              <button class="btn secondary" id="viewMapBtn">
                ğŸ—ºï¸ View Tour Map
              </button>
            </div>

            <div class="row" style="margin-top: 10px">
              <button class="btn danger" id="clearTourBtn">ğŸ§¹ Clear</button>
              <button
                class="btn secondary"
                id="openMapsBtn"
                title="Open in Google Maps (new tab)"
              >
                â†—ï¸ Open in Maps
              </button>
            </div>

            <div class="note" id="summaryBox" style="display: none"></div>

            <div class="note">
              <b>Tip:</b> â€œView Tour Mapâ€ shows markers + route (order matters).
              Use <span class="kbd">Esc</span> or Close to exit the map.
            </div>
          </div>
        </aside>
      </div>
    </div>

    <!-- Map Modal -->
    <div
      class="modal"
      id="mapModal"
      aria-hidden="true"
      role="dialog"
      aria-label="Tour Map Modal"
    >
      <div class="modal-card">
        <div class="modal-h">
          <div>
            <b>Tour Map</b><br />
            <small
              >Markers + route from your selected destinations (order
              matters)</small
            >
          </div>
          <div class="modal-actions">
            <a
              class="btn secondary"
              id="openMapsLink"
              href="#"
              target="_blank"
              rel="noopener"
              >â†—ï¸ Open in Maps</a
            >
            <button class="btn danger" id="closeMapBtn">âœ• Close</button>
          </div>
        </div>
        <div class="modal-b">
          <div id="leafletMap" aria-label="Leaflet map"></div>
        </div>
      </div>
    </div>

    <!-- Floating WhatsApp share -->
    <div class="fab">
      <button class="wabtn" id="waShare">
        ğŸŸ¢ WhatsApp
        <span class="waSub">
          <small>Share your tour</small>
        </span>
      </button>
    </div>

    <div class="toast" id="toast" aria-live="polite" aria-atomic="true"></div>

    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      crossorigin=""
    ></script>
    <script src="app.js"></script>
  </body>
</html>
