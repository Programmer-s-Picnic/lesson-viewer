<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Saffron Shop ‚Äî Clothes</title>


<link
      rel="stylesheet"
      href="https://varanasi-software-junction.github.io/blogger/blogger-assets/crx_styles_v1.css"
    />
 



    <style>
      :root {
        --bg: #fff7e6;
        --card: #ffffff;
        --ink: #1f2937;
        --muted: #6b7280;
        --brand: #d97706;
        --brand2: #f59e0b;
        --border: #eadcc5;
        --shadow: 0 18px 40px rgba(0, 0, 0, 0.12);
        --r: 18px;
        --ok: #059669;
        --bad: #dc2626;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family:
          ui-sans-serif,
          system-ui,
          -apple-system,
          Segoe UI,
          Roboto,
          Arial,
          "Noto Sans",
          "Apple Color Emoji",
          "Segoe UI Emoji";
        color: var(--ink);
        background:
          radial-gradient(
            1200px 700px at 10% -10%,
            rgba(245, 158, 11, 0.18),
            transparent 60%
          ),
          radial-gradient(
            900px 700px at 100% 0%,
            rgba(217, 119, 6, 0.14),
            transparent 55%
          ),
          var(--bg);
      }
      a {
        color: inherit;
        text-decoration: none;
      }
      button {
        font: inherit;
      }
      .topbar {
        position: sticky;
        top: 0;
        z-index: 10;
        backdrop-filter: blur(10px);
        background: rgba(255, 247, 230, 0.75);
        border-bottom: 1px solid var(--border);
      }
      .topbar-inner {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 14px;
      }
      .logo {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 900;
        letter-spacing: 0.2px;
      }
      .logo-badge {
        width: 38px;
        height: 38px;
        border-radius: 12px;
        background: linear-gradient(135deg, var(--brand2), var(--brand));
        box-shadow: 0 10px 25px rgba(217, 119, 6, 0.22);
        display: grid;
        place-items: center;
        color: white;
        font-weight: 900;
      }
      .pill {
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.8);
        border-radius: 999px;
        padding: 8px 12px;
        display: flex;
        align-items: center;
        gap: 10px;
        flex: 1;
        min-width: 220px;
      }
      .pill input {
        border: none;
        outline: none;
        background: transparent;
        width: 100%;
        font-size: 14px;
      }
      .btn {
        border: none;
        background: linear-gradient(135deg, var(--brand2), var(--brand));
        color: white;
        padding: 10px 12px;
        border-radius: 12px;
        cursor: pointer;
        box-shadow: 0 12px 24px rgba(217, 119, 6, 0.18);
        transition:
          transform 0.12s ease,
          filter 0.12s ease;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        white-space: nowrap;
      }
      .btn:hover {
        transform: translateY(-1px);
        filter: saturate(1.02);
      }
      .btn:active {
        transform: translateY(0px);
      }
      .btn.secondary {
        background: rgba(255, 255, 255, 0.9);
        color: var(--ink);
        border: 1px solid var(--border);
        box-shadow: none;
      }
      .badge {
        font-size: 12px;
        padding: 2px 8px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.8);
        color: var(--muted);
      }

      .wrap {
        max-width: 1200px;
        margin: 0 auto;
        padding: 16px 14px 40px;
      }
      .layout {
        display: grid;
        grid-template-columns: 290px 1fr;
        gap: 14px;
        align-items: start;
      }
      @media (max-width: 980px) {
        .layout {
          grid-template-columns: 1fr;
        }
        .sidebar {
          position: relative !important;
          top: auto !important;
        }
      }

      .sidebar {
        position: sticky;
        top: 68px;
        background: rgba(255, 255, 255, 0.82);
        border: 1px solid var(--border);
        border-radius: var(--r);
        box-shadow: 0 10px 28px rgba(0, 0, 0, 0.08);
        padding: 14px;
        overflow: hidden;
      }
      .side-title {
        font-weight: 900;
        margin: 2px 0 8px;
      }
      .side-sub {
        color: var(--muted);
        font-size: 13px;
        margin: 0 0 10px;
      }
      .group {
        border-top: 1px dashed rgba(234, 220, 197, 0.9);
        padding-top: 12px;
        margin-top: 12px;
      }
      .label {
        font-size: 12px;
        color: var(--muted);
        margin: 0 0 6px;
      }
      .field {
        width: 100%;
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 10px 10px;
        background: rgba(255, 255, 255, 0.9);
        outline: none;
      }
      .row {
        display: flex;
        gap: 10px;
      }
      .row > * {
        flex: 1;
      }
      .checks {
        display: grid;
        gap: 8px;
        margin-top: 8px;
      }
      .check {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px 10px;
        border: 1px solid var(--border);
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.8);
      }
      .check input {
        transform: scale(1.1);
      }
      .hint {
        font-size: 12px;
        color: var(--muted);
        margin-top: 8px;
      }

      .content-head {
        display: flex;
        align-items: flex-end;
        justify-content: space-between;
        gap: 10px;
        padding: 8px 6px 12px;
      }
      .h1 {
        font-size: 24px;
        font-weight: 950;
        margin: 0;
        letter-spacing: 0.2px;
      }
      .sub {
        margin: 4px 0 0;
        color: var(--muted);
        font-size: 13px;
      }
      .sort {
        display: flex;
        align-items: center;
        gap: 8px;
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.8);
        border-radius: 14px;
        padding: 10px 12px;
        min-width: 220px;
      }
      .sort select {
        width: 100%;
        border: none;
        outline: none;
        background: transparent;
        font-size: 14px;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 14px;
      }
      @media (max-width: 1100px) {
        .grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      @media (max-width: 640px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }

      .card {
        background: rgba(255, 255, 255, 0.88);
        border: 1px solid var(--border);
        border-radius: var(--r);
        box-shadow: 0 10px 26px rgba(0, 0, 0, 0.08);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        min-height: 100%;
      }
      .imgwrap {
        position: relative;
        background: linear-gradient(
          180deg,
          rgba(245, 158, 11, 0.12),
          rgba(217, 119, 6, 0.06)
        );
        padding: 14px;
        display: grid;
        place-items: center;
        height: 210px;
        opacity: 1;
      }
      .imgwrap img {
        width: 100%;
        max-width: 230px;
        height: 180px;
        object-fit: contain;
        border-radius: 14px;
        filter: drop-shadow(0 20px 30px rgba(0, 0, 0, 0.12));
        user-select: none;
        pointer-events: none;
      }
      .tag {
        position: absolute;
        left: 12px;
        top: 12px;
        font-size: 12px;
        background: rgba(255, 255, 255, 0.9);
        border: 1px solid var(--border);
        border-radius: 999px;
        padding: 5px 9px;
        color: var(--muted);
        z-index: 50;
      }
      .tag.hot {
        color: #92400e;
        border-color: rgba(217, 119, 6, 0.35);
        z-index: 50;
      }
      .body {
        padding: 12px 12px 14px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        flex: 1;
      }
      .title {
        font-weight: 900;
        margin: 0;
        line-height: 1.2;
      }
      .meta {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
      }
      .meta .dot {
        width: 4px;
        height: 4px;
        border-radius: 999px;
        background: rgba(107, 114, 128, 0.7);
      }
      .small {
        font-size: 12px;
        color: var(--muted);
      }
      .price-row {
        display: flex;
        align-items: baseline;
        gap: 8px;
      }
      .price {
        font-size: 20px;
        font-weight: 950;
      }
      .mrp {
        font-size: 12px;
        color: var(--muted);
        text-decoration: line-through;
      }
      .stars {
        font-size: 12px;
        color: #92400e;
      }
      .actions {
        display: flex;
        gap: 10px;
        margin-top: auto;
      }
      .actions .btn {
        flex: 1;
      }
      .actions .btn.secondary {
        flex: 0.9;
      }

      /* Modal */
      .backdrop {
        position: fixed;
        inset: 0;
        background: rgba(17, 24, 39, 0.45);
        display: none;
        align-items: center;
        justify-content: center;
        padding: 18px;
        z-index: 1000;
      }
      .modal {
        width: min(980px, 100%);
        background: rgba(255, 255, 255, 0.92);
        border: 1px solid var(--border);
        border-radius: 22px;
        box-shadow: var(--shadow);
        overflow: hidden;
      }
      .modal-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 14px 14px;
        border-bottom: 1px solid var(--border);
        background: rgba(255, 247, 230, 0.7);
      }
      .modal-head .m-title {
        font-weight: 950;
        margin: 0;
        font-size: 16px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .x {
        border: none;
        cursor: pointer;
        background: rgba(255, 255, 255, 0.9);
        border: 1px solid var(--border);
        border-radius: 12px;
        width: 40px;
        height: 40px;
      }
      .modal-body {
        display: grid;
        grid-template-columns: 1.15fr 0.85fr;
        gap: 0;
      }
      @media (max-width: 900px) {
        .modal-body {
          grid-template-columns: 1fr;
        }
        .zoom-right {
          border-left: none !important;
          border-top: 1px solid var(--border);
        }
      }

      /* Zoom area (Amazon-style) */
      .zoom-left {
        padding: 16px;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 14px;
        align-items: start;
      }
      @media (max-width: 900px) {
        .zoom-left {
          grid-template-columns: 1fr;
        }
      }
      .thumbs {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
        padding: 10px;
        border: 1px dashed rgba(234, 220, 197, 0.9);
        border-radius: 16px;
        background: rgba(255, 247, 230, 0.55);
      }
      .thumb {
        width: 56px;
        height: 56px;
        border-radius: 14px;
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.9);
        display: grid;
        place-items: center;
        cursor: pointer;
        overflow: hidden;
      }
      .thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .thumb.active {
        outline: 3px solid rgba(245, 158, 11, 0.55);
      }

      .zoom-wrap {
        position: relative;
        border: 1px solid var(--border);
        border-radius: 18px;
        background: rgba(255, 255, 255, 0.85);
        height: 360px;
        display: grid;
        place-items: center;
        overflow: hidden;
        cursor: crosshair;
      }
      .zoom-wrap img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        user-select: none;
        pointer-events: none;
        padding: 18px;
        filter: drop-shadow(0 18px 28px rgba(0, 0, 0, 0.12));
      }
      .lens {
        position: absolute;
        width: 120px;
        height: 120px;
        border: 2px solid rgba(217, 119, 6, 0.75);
        background: rgba(245, 158, 11, 0.18);
        display: none;
        border-radius: 16px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        pointer-events: none;
      }
      .zoom-right {
        padding: 16px;
        border-left: 1px solid var(--border);
        background: rgba(255, 247, 230, 0.35);
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .zoom-result {
        border: 1px solid var(--border);
        border-radius: 18px;
        height: 360px;
        background: rgba(255, 255, 255, 0.9);
        background-repeat: no-repeat;
        background-size: 220% 220%;
        box-shadow: 0 10px 26px rgba(0, 0, 0, 0.08);
      }
      .kv {
        display: grid;
        grid-template-columns: 110px 1fr;
        gap: 8px;
        font-size: 13px;
        color: var(--muted);
      }
      .kv b {
        color: var(--ink);
      }
      .qtyrow {
        display: flex;
        gap: 10px;
        align-items: center;
        flex-wrap: wrap;
      }
      .qtyrow select {
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.9);
        padding: 10px 10px;
        border-radius: 12px;
        outline: none;
      }
      .note {
        font-size: 12px;
        color: var(--muted);
        line-height: 1.4;
        border-top: 1px dashed rgba(234, 220, 197, 0.9);
        padding-top: 10px;
        margin-top: 8px;
      }

      .toast {
        position: fixed;
        right: 14px;
        bottom: 14px;
        z-index: 2000;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .toast .t {
        background: rgba(255, 255, 255, 0.92);
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 10px 12px;
        box-shadow: 0 14px 30px rgba(0, 0, 0, 0.14);
        display: flex;
        gap: 10px;
        align-items: flex-start;
        max-width: 360px;
      }
      .t .dot {
        width: 10px;
        height: 10px;
        border-radius: 999px;
        background: var(--ok);
        margin-top: 4px;
      }
      .t .msg {
        font-size: 13px;
        color: var(--ink);
      }
      .t .msg small {
        display: block;
        color: var(--muted);
        margin-top: 2px;
      }
    </style>
  </head>
  <body>
    <div class="topbar">
      <div class="topbar-inner">
        <div class="logo" aria-label="Saffron Shop">
          <div class="logo-badge">S</div>
          <div>
            <div style="line-height: 1; font-size: 14px">Saffron Shop</div>
            <div
              style="
                line-height: 1;
                font-size: 12px;
                color: var(--muted);
                font-weight: 700;
              "
            >
              Clothes ‚Ä¢ Cart
            </div>
          </div>
        </div>

        <div class="pill" title="Quick search">
          üîé
          <input
            id="topSearch"
            type="search"
            placeholder="Search shirts, hoodies, kurtas, jeans..."
            autocomplete="off"
          />
        </div>

        <a class="btn secondary" href="cart.html" aria-label="Open cart">
          üõí Cart <span class="badge" id="cartCount">0</span>
        </a>
      </div>
    </div>

    <div class="wrap">
      <div class="layout">
        <!-- LEFT SIDEBAR FILTERS -->
        <aside class="sidebar">
          <div class="side-title">Search & Filters</div>
          <p class="side-sub">
            Refine products from the left panel (saved cart stays in
            localStorage).
          </p>

          <div class="label">Search</div>
          <input
            id="sideSearch"
            class="field"
            type="search"
            placeholder="e.g., linen, blue, hoodie"
            autocomplete="off"
          />

          <div class="group">
            <div class="label">Category</div>
            <div class="checks" id="catChecks"></div>
          </div>

          <div class="group">
            <div class="label">Size</div>
            <div class="checks" id="sizeChecks"></div>
          </div>

          <div class="group">
            <div class="label">Color</div>
            <div class="checks" id="colorChecks"></div>
          </div>

          <div class="group">
            <div class="label">Price range (‚Çπ)</div>
            <div class="row">
              <input
                id="minPrice"
                class="field"
                type="number"
                min="0"
                step="50"
                placeholder="Min"
              />
              <input
                id="maxPrice"
                class="field"
                type="number"
                min="0"
                step="50"
                placeholder="Max"
              />
            </div>
            <div class="hint">Tip: leave empty to ignore min/max.</div>
          </div>

          <div class="group">
            <button class="btn secondary" id="clearFilters" style="width: 100%">
              Clear filters
            </button>
          </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main>
          <div class="content-head">
            <div>
              <h1 class="h1">Clothes for everyday comfort</h1>
              <p class="sub">
                <span id="resultCount">0</span> items ‚Ä¢ Quick View has
                <b>Amazon-style zoom</b>
              </p>
            </div>

            <div class="sort" title="Sort">
              ‚ÜïÔ∏è
              <select id="sortBy" aria-label="Sort products">
                <option value="featured">Featured</option>
                <option value="price_asc">Price: Low to High</option>
                <option value="price_desc">Price: High to Low</option>
                <option value="rating_desc">Rating: High to Low</option>
                <option value="new_desc">Newest</option>
              </select>
            </div>
          </div>

          <section class="grid" id="grid"></section>
        </main>
      </div>
    </div>

    <!-- QUICK VIEW MODAL (ZOOM) -->
    <div
      class="backdrop"
      id="backdrop"
      role="dialog"
      aria-modal="true"
      aria-label="Quick view"
    >
      <div class="modal">
        <div class="modal-head">
          <p class="m-title">
            üëï <span id="mTitle">Product</span>
            <span class="badge" id="mBadge"></span>
          </p>
          <button class="x" id="closeModal" aria-label="Close">‚úï</button>
        </div>

        <div class="modal-body">
          <div class="zoom-left">
            <div>
              <div class="zoom-wrap" id="zoomWrap">
                <img id="mImg" alt="Product image" />
                <div class="lens" id="lens"></div>
              </div>

              <div
                class="thumbs"
                id="thumbs"
                aria-label="Image thumbnails"
              ></div>

              <div class="note">
                <b>Zoom tip:</b> Hover over the image ‚Äî a lens appears, and the
                zoom window updates (like Amazon).
              </div>
            </div>

            <div class="zoom-right">
              <div
                class="zoom-result"
                id="zoomResult"
                aria-label="Zoomed preview"
              ></div>

              <div class="price-row" style="margin-top: 8px">
                <div class="price" id="mPrice">‚Çπ0</div>
                <div class="mrp" id="mMrp">‚Çπ0</div>
              </div>

              <div class="stars" id="mStars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>

              <div class="kv">
                <b>Category</b><span id="mCat"></span> <b>Color</b
                ><span id="mColor"></span> <b>Size</b><span id="mSize"></span>
                <b>Material</b><span id="mMat"></span>
              </div>

              <div class="qtyrow">
                <label class="small" for="mQty" style="font-weight: 800"
                  >Qty</label
                >
                <select id="mQty">
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                </select>
                <button class="btn" id="mAdd">Add to Cart</button>
                <a class="btn secondary" href="cart.html">Go to Cart</a>
              </div>

              <div class="note">
                <b>LocalStorage:</b> Cart items are stored in your browser under
                <code>cart_items_v1</code>.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="toast" id="toast" aria-live="polite" aria-atomic="true"></div>

    <script>
      (() => {
        const LS_CART = "cart_items_v1";

        // --- Inline SVG "clothing" images as data URIs (no external images needed) ---
        function svgDataURI(svg) {
          return "data:image/svg+xml;charset=utf-8," + encodeURIComponent(svg);
        }
        function teeSVG(colorA, colorB) {
          return svgDataURI(`
      <svg xmlns="http://www.w3.org/2000/svg" width="800" height="800" viewBox="0 0 800 800">
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="${colorA}"/>
            <stop offset="1" stop-color="${colorB}"/>
          </linearGradient>
          <filter id="s" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="18" stdDeviation="18" flood-color="#000" flood-opacity=".25"/>
          </filter>
        </defs>
        <rect width="800" height="800" fill="#fff7e6"/>
        <path filter="url(#s)" d="M265 195c40-35 78-55 135-55s95 20 135 55l85 55-55 110-70-35v330c0 28-22 50-50 50H320c-28 0-50-22-50-50V325l-70 35-55-110 120-55z"
              fill="url(#g)" stroke="#c7b299" stroke-width="10" stroke-linejoin="round"/>
        <path d="M355 140c10 35 30 55 45 65 15-10 35-30 45-65" fill="none" stroke="#fff" stroke-opacity=".55" stroke-width="12" stroke-linecap="round"/>
        <circle cx="400" cy="455" r="120" fill="#fff" fill-opacity=".16"/>
      </svg>
    `);
        }
        function hoodieSVG(colorA, colorB) {
          return svgDataURI(`
      <svg xmlns="http://www.w3.org/2000/svg" width="800" height="800" viewBox="0 0 800 800">
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="${colorA}"/>
            <stop offset="1" stop-color="${colorB}"/>
          </linearGradient>
          <filter id="s" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="18" stdDeviation="18" flood-color="#000" flood-opacity=".25"/>
          </filter>
        </defs>
        <rect width="800" height="800" fill="#fff7e6"/>
        <path filter="url(#s)" d="M280 200c20-55 60-95 120-95s100 40 120 95l60 60-45 120-55-35v300c0 30-24 55-55 55H330c-30 0-55-25-55-55V345l-55 35-45-120 105-60z"
              fill="url(#g)" stroke="#c7b299" stroke-width="10" stroke-linejoin="round"/>
        <path d="M330 240c25-55 50-80 70-90 20 10 45 35 70 90" fill="none" stroke="#fff" stroke-opacity=".6" stroke-width="14" stroke-linecap="round"/>
        <path d="M365 465h70" stroke="#fff" stroke-opacity=".5" stroke-width="16" stroke-linecap="round"/>
        <path d="M340 520h120c14 0 25 11 25 25v40H315v-40c0-14 11-25 25-25z" fill="#fff" fill-opacity=".18"/>
      </svg>
    `);
        }
        function kurtaSVG(colorA, colorB) {
          return svgDataURI(`
      <svg xmlns="http://www.w3.org/2000/svg" width="800" height="800" viewBox="0 0 800 800">
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="${colorA}"/>
            <stop offset="1" stop-color="${colorB}"/>
          </linearGradient>
          <filter id="s" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="18" stdDeviation="18" flood-color="#000" flood-opacity=".25"/>
          </filter>
        </defs>
        <rect width="800" height="800" fill="#fff7e6"/>
        <path filter="url(#s)" d="M300 160c30-30 60-45 100-45s70 15 100 45l70 80-55 110-45-25v380c0 28-22 50-50 50H330c-28 0-50-22-50-50V325l-45 25-55-110 120-80z"
              fill="url(#g)" stroke="#c7b299" stroke-width="10" stroke-linejoin="round"/>
        <path d="M400 200v90" stroke="#fff" stroke-opacity=".6" stroke-width="14" stroke-linecap="round"/>
        <circle cx="400" cy="315" r="10" fill="#fff" fill-opacity=".75"/>
        <circle cx="400" cy="355" r="10" fill="#fff" fill-opacity=".75"/>
        <circle cx="400" cy="395" r="10" fill="#fff" fill-opacity=".75"/>
        <path d="M350 500h100" stroke="#fff" stroke-opacity=".45" stroke-width="14" stroke-linecap="round"/>
      </svg>
    `);
        }
        function jeansSVG(colorA, colorB) {
          return svgDataURI(`
      <svg xmlns="http://www.w3.org/2000/svg" width="800" height="800" viewBox="0 0 800 800">
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="${colorA}"/>
            <stop offset="1" stop-color="${colorB}"/>
          </linearGradient>
          <filter id="s" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="18" stdDeviation="18" flood-color="#000" flood-opacity=".25"/>
          </filter>
        </defs>
        <rect width="800" height="800" fill="#fff7e6"/>
        <path filter="url(#s)" d="M290 160h220l-30 520c-2 40-34 70-74 70h-12c-40 0-72-30-74-70l-30-520z"
              fill="url(#g)" stroke="#c7b299" stroke-width="10" stroke-linejoin="round"/>
        <path d="M400 160v600" stroke="#fff" stroke-opacity=".28" stroke-width="16"/>
        <path d="M310 240h180" stroke="#fff" stroke-opacity=".45" stroke-width="14" stroke-linecap="round"/>
        <path d="M320 310h60" stroke="#fff" stroke-opacity=".45" stroke-width="14" stroke-linecap="round"/>
        <path d="M420 310h60" stroke="#fff" stroke-opacity=".45" stroke-width="14" stroke-linecap="round"/>
      </svg>
    `);
        }

        const PRODUCTS = [
          {
            id: "p1",
            title: "Cotton Tee ‚Äî Saffron Fade",
            category: "T-Shirt",
            color: "Saffron",
            size: "M",
            material: "100% Cotton",
            price: 799,
            mrp: 1299,
            rating: 4.5,
            reviews: 1243,
            isNew: true,
            tag: "Best Seller",
            images: [
              teeSVG("#f59e0b", "#d97706"),
              teeSVG("#fbbf24", "#b45309"),
              teeSVG("#fde68a", "#f59e0b"),
            ],
          },
          {
            id: "p2",
            title: "Everyday Hoodie ‚Äî Charcoal",
            category: "Hoodie",
            color: "Charcoal",
            size: "L",
            material: "Cotton Blend",
            price: 1599,
            mrp: 2499,
            rating: 4.6,
            reviews: 892,
            isNew: false,
            tag: "Warm & Soft",
            images: [
              hoodieSVG("#374151", "#111827"),
              hoodieSVG("#4b5563", "#1f2937"),
              hoodieSVG("#6b7280", "#111827"),
            ],
          },
          {
            id: "p3",
            title: "Linen Kurta ‚Äî Ivory",
            category: "Kurta",
            color: "Ivory",
            size: "XL",
            material: "Premium Linen",
            price: 1899,
            mrp: 2999,
            rating: 4.4,
            reviews: 643,
            isNew: true,
            tag: "New",
            images: [
              kurtaSVG("#fff7ed", "#fcd34d"),
              kurtaSVG("#fffbeb", "#f59e0b"),
              kurtaSVG("#fffaf2", "#d97706"),
            ],
          },
          {
            id: "p4",
            title: "Denim Jeans ‚Äî Deep Indigo",
            category: "Jeans",
            color: "Indigo",
            size: "32",
            material: "Denim",
            price: 2099,
            mrp: 3299,
            rating: 4.3,
            reviews: 1541,
            isNew: false,
            tag: "Classic Fit",
            images: [
              jeansSVG("#1d4ed8", "#0f172a"),
              jeansSVG("#2563eb", "#111827"),
              jeansSVG("#60a5fa", "#1f2937"),
            ],
          },
          {
            id: "p5",
            title: "Oversized Tee ‚Äî Mint",
            category: "T-Shirt",
            color: "Mint",
            size: "S",
            material: "Combed Cotton",
            price: 899,
            mrp: 1499,
            rating: 4.2,
            reviews: 521,
            isNew: false,
            tag: "Trendy",
            images: [
              teeSVG("#34d399", "#0ea5e9"),
              teeSVG("#6ee7b7", "#22c55e"),
              teeSVG("#a7f3d0", "#16a34a"),
            ],
          },
          {
            id: "p6",
            title: "Hoodie ‚Äî Warm Sand",
            category: "Hoodie",
            color: "Sand",
            size: "M",
            material: "Fleece",
            price: 1799,
            mrp: 2799,
            rating: 4.7,
            reviews: 401,
            isNew: true,
            tag: "Hot Drop",
            images: [
              hoodieSVG("#fbbf24", "#b45309"),
              hoodieSVG("#fde68a", "#d97706"),
              hoodieSVG("#fef3c7", "#f59e0b"),
            ],
          },
          {
            id: "p7",
            title: "Kurta ‚Äî Ocean Blue",
            category: "Kurta",
            color: "Blue",
            size: "L",
            material: "Cotton Slub",
            price: 1699,
            mrp: 2699,
            rating: 4.1,
            reviews: 334,
            isNew: false,
            tag: "Lightweight",
            images: [
              kurtaSVG("#38bdf8", "#1d4ed8"),
              kurtaSVG("#60a5fa", "#0ea5e9"),
              kurtaSVG("#93c5fd", "#1e40af"),
            ],
          },
          {
            id: "p8",
            title: "Jeans ‚Äî Stone Black",
            category: "Jeans",
            color: "Black",
            size: "34",
            material: "Stretch Denim",
            price: 2299,
            mrp: 3599,
            rating: 4.6,
            reviews: 978,
            isNew: false,
            tag: "Top Rated",
            images: [
              jeansSVG("#111827", "#000000"),
              jeansSVG("#1f2937", "#111827"),
              jeansSVG("#374151", "#0b1220"),
            ],
          },
        ];

        const CATEGORIES = [...new Set(PRODUCTS.map((p) => p.category))].sort();
        const SIZES = [...new Set(PRODUCTS.map((p) => p.size))].sort((a, b) =>
          String(a).localeCompare(String(b)),
        );
        const COLORS = [...new Set(PRODUCTS.map((p) => p.color))].sort();

        // --- LocalStorage cart helpers ---
        function readCart() {
          try {
            return JSON.parse(localStorage.getItem(LS_CART) || "[]");
          } catch {
            return [];
          }
        }
        function writeCart(items) {
          localStorage.setItem(LS_CART, JSON.stringify(items));
        }
        function addToCart(productId, qty) {
          const cart = readCart();
          const found = cart.find((i) => i.id === productId);
          if (found) found.qty += qty;
          else cart.push({ id: productId, qty });
          writeCart(cart);
          updateCartCount();
        }
        function cartCount() {
          return readCart().reduce((s, i) => s + (Number(i.qty) || 0), 0);
        }
        function updateCartCount() {
          document.getElementById("cartCount").textContent =
            String(cartCount());
        }

        // --- UI helpers ---
        const grid = document.getElementById("grid");
        const resultCount = document.getElementById("resultCount");

        function stars(r) {
          const full = Math.floor(r);
          const half = r - full >= 0.5 ? 1 : 0;
          const empty = 5 - full - half;
          return (
            "‚òÖ".repeat(full) +
            (half ? "‚Ø®" : "") +
            "‚òÜ".repeat(empty) +
            `  ${r.toFixed(1)}`
          );
        }
        function money(n) {
          return "‚Çπ" + Number(n).toLocaleString("en-IN");
        }

        function mountChecks(containerId, items, key) {
          const wrap = document.getElementById(containerId);
          wrap.innerHTML = "";
          items.forEach((v) => {
            const id = `${key}_${v}`.replace(/\s+/g, "_");
            const div = document.createElement("label");
            div.className = "check";
            div.innerHTML = `<input type="checkbox" value="${String(v)}" /> <span>${String(v)}</span>`;
            wrap.appendChild(div);
          });
        }

        mountChecks("catChecks", CATEGORIES, "cat");
        mountChecks("sizeChecks", SIZES, "size");
        mountChecks("colorChecks", COLORS, "color");

        const filters = {
          q: "",
          cats: new Set(),
          sizes: new Set(),
          colors: new Set(),
          minPrice: null,
          maxPrice: null,
          sort: "featured",
        };

        function getChecked(containerId) {
          return [
            ...document.querySelectorAll(
              `#${containerId} input[type="checkbox"]:checked`,
            ),
          ].map((x) => x.value);
        }

        function applyFilters(list) {
          let out = list.slice();

          const q = (filters.q || "").trim().toLowerCase();
          if (q) {
            out = out.filter((p) =>
              (p.title + " " + p.category + " " + p.color + " " + p.material)
                .toLowerCase()
                .includes(q),
            );
          }
          if (filters.cats.size) {
            out = out.filter((p) => filters.cats.has(p.category));
          }
          if (filters.sizes.size) {
            out = out.filter((p) => filters.sizes.has(String(p.size)));
          }
          if (filters.colors.size) {
            out = out.filter((p) => filters.colors.has(p.color));
          }
          if (Number.isFinite(filters.minPrice)) {
            out = out.filter((p) => p.price >= filters.minPrice);
          }
          if (Number.isFinite(filters.maxPrice)) {
            out = out.filter((p) => p.price <= filters.maxPrice);
          }

          // sorting
          switch (filters.sort) {
            case "price_asc":
              out.sort((a, b) => a.price - b.price);
              break;
            case "price_desc":
              out.sort((a, b) => b.price - a.price);
              break;
            case "rating_desc":
              out.sort((a, b) => b.rating - a.rating);
              break;
            case "new_desc":
              out.sort((a, b) => (b.isNew ? 1 : 0) - (a.isNew ? 1 : 0));
              break;
            default:
              // "featured": slight mix (new + rating + reviews)
              out.sort(
                (a, b) =>
                  (b.isNew ? 1 : 0) * 3 +
                  b.rating +
                  Math.log10(b.reviews + 1) -
                  ((a.isNew ? 1 : 0) * 3 +
                    a.rating +
                    Math.log10(a.reviews + 1)),
              );
          }
          return out;
        }

        function render() {
          const list = applyFilters(PRODUCTS);
          resultCount.textContent = String(list.length);
          grid.innerHTML = "";

          list.forEach((p) => {
            const card = document.createElement("article");
            card.className = "card";
            card.innerHTML = `
        <div class="imgwrap">
          <span class="tag ${p.isNew ? "hot" : ""}">${p.tag || (p.isNew ? "New" : "")}</span>
          <img src="${p.images[0]}" alt="${p.title}">
        </div>
        <div class="body">
          <h3 class="title">${p.title}</h3>
          <div class="meta small">
            <span>${p.category}</span><span class="dot"></span>
            <span>${p.color}</span><span class="dot"></span>
            <span>Size ${p.size}</span>
          </div>
          <div class="price-row">
            <div class="price">${money(p.price)}</div>
            <div class="mrp">${money(p.mrp)}</div>
          </div>
          <div class="stars">${stars(p.rating)} <span class="small">(${p.reviews.toLocaleString("en-IN")})</span></div>
          <div class="actions">
            <button class="btn secondary" data-qv="${p.id}">Quick View</button>
            <button class="btn" data-add="${p.id}">Add</button>
          </div>
        </div>
      `;
            grid.appendChild(card);
          });
        }

        // --- Event wiring for filters ---
        const topSearch = document.getElementById("topSearch");
        const sideSearch = document.getElementById("sideSearch");

        function syncSearch(val) {
          topSearch.value = val;
          sideSearch.value = val;
        }

        const onSearch = (val) => {
          filters.q = val || "";
          syncSearch(filters.q);
          render();
        };

        topSearch.addEventListener("input", (e) => onSearch(e.target.value));
        sideSearch.addEventListener("input", (e) => onSearch(e.target.value));

        function updateSets() {
          filters.cats = new Set(getChecked("catChecks"));
          filters.sizes = new Set(getChecked("sizeChecks"));
          filters.colors = new Set(getChecked("colorChecks"));
        }
        ["catChecks", "sizeChecks", "colorChecks"].forEach((id) => {
          document.getElementById(id).addEventListener("change", () => {
            updateSets();
            render();
          });
        });

        const minPrice = document.getElementById("minPrice");
        const maxPrice = document.getElementById("maxPrice");

        function updatePrice() {
          const min = minPrice.value.trim();
          const max = maxPrice.value.trim();
          filters.minPrice = min ? Number(min) : null;
          filters.maxPrice = max ? Number(max) : null;
          render();
        }
        minPrice.addEventListener("input", updatePrice);
        maxPrice.addEventListener("input", updatePrice);

        document.getElementById("sortBy").addEventListener("change", (e) => {
          filters.sort = e.target.value;
          render();
        });

        document
          .getElementById("clearFilters")
          .addEventListener("click", () => {
            filters.q = "";
            filters.cats = new Set();
            filters.sizes = new Set();
            filters.colors = new Set();
            filters.minPrice = null;
            filters.maxPrice = null;
            filters.sort = "featured";

            syncSearch("");
            minPrice.value = "";
            maxPrice.value = "";
            document.getElementById("sortBy").value = "featured";
            document
              .querySelectorAll('.sidebar input[type="checkbox"]')
              .forEach((cb) => (cb.checked = false));
            render();
          });

        // --- Quick View + Zoom (Amazon-style lens + zoom window) ---
        const backdrop = document.getElementById("backdrop");
        const closeModal = document.getElementById("closeModal");
        const mTitle = document.getElementById("mTitle");
        const mBadge = document.getElementById("mBadge");
        const mImg = document.getElementById("mImg");
        const thumbs = document.getElementById("thumbs");
        const mPrice = document.getElementById("mPrice");
        const mMrp = document.getElementById("mMrp");
        const mStars = document.getElementById("mStars");
        const mCat = document.getElementById("mCat");
        const mColor = document.getElementById("mColor");
        const mSize = document.getElementById("mSize");
        const mMat = document.getElementById("mMat");
        const mQty = document.getElementById("mQty");
        const mAdd = document.getElementById("mAdd");

        const zoomWrap = document.getElementById("zoomWrap");
        const lens = document.getElementById("lens");
        const zoomResult = document.getElementById("zoomResult");

        let activeProduct = null;
        let activeImgIndex = 0;

        function openModal(product) {
          activeProduct = product;
          activeImgIndex = 0;

          mTitle.textContent = product.title;
          mBadge.textContent =
            product.tag || (product.isNew ? "New" : "Featured");
          mPrice.textContent = money(product.price);
          mMrp.textContent = money(product.mrp);
          mStars.textContent =
            stars(product.rating) +
            `  (${product.reviews.toLocaleString("en-IN")})`;
          mCat.textContent = product.category;
          mColor.textContent = product.color;
          mSize.textContent = String(product.size);
          mMat.textContent = product.material;
          mQty.value = "1";

          thumbs.innerHTML = "";
          product.images.forEach((src, idx) => {
            const t = document.createElement("button");
            t.type = "button";
            t.className = "thumb" + (idx === 0 ? " active" : "");
            t.innerHTML = `<img alt="thumb ${idx + 1}" src="${src}">`;
            t.addEventListener("click", () => setActiveImage(idx));
            thumbs.appendChild(t);
          });

          setActiveImage(0);

          backdrop.style.display = "flex";
          document.body.style.overflow = "hidden";
        }

        function closeQuickView() {
          backdrop.style.display = "none";
          document.body.style.overflow = "";
          lens.style.display = "none";
          activeProduct = null;
        }

        function setActiveImage(idx) {
          activeImgIndex = idx;
          const src = activeProduct.images[idx];
          mImg.src = src;

          // zoom result uses background image
          zoomResult.style.backgroundImage = `url('${src}')`;
          zoomResult.style.backgroundSize = "220% 220%";
          zoomResult.style.backgroundPosition = "50% 50%";

          [...thumbs.children].forEach((c, i) =>
            c.classList.toggle("active", i === idx),
          );
        }

        closeModal.addEventListener("click", closeQuickView);
        backdrop.addEventListener("click", (e) => {
          if (e.target === backdrop) closeQuickView();
        });
        window.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && backdrop.style.display === "flex")
            closeQuickView();
        });

        // Zoom math
        function clamp(n, a, b) {
          return Math.max(a, Math.min(b, n));
        }

        function onMoveZoom(e) {
          if (!activeProduct) return;
          const rect = zoomWrap.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;

          const lw = lens.offsetWidth;
          const lh = lens.offsetHeight;

          const lx = clamp(x - lw / 2, 0, rect.width - lw);
          const ly = clamp(y - lh / 2, 0, rect.height - lh);

          lens.style.left = lx + "px";
          lens.style.top = ly + "px";

          const cx = lx / (rect.width - lw); // 0..1
          const cy = ly / (rect.height - lh); // 0..1

          // Map to background position (0..100%)
          const bgX = clamp(cx * 100, 0, 100);
          const bgY = clamp(cy * 100, 0, 100);

          zoomResult.style.backgroundPosition = `${bgX}% ${bgY}%`;
        }

        zoomWrap.addEventListener("mouseenter", () => {
          lens.style.display = "block";
        });
        zoomWrap.addEventListener("mouseleave", () => {
          lens.style.display = "none";
        });
        zoomWrap.addEventListener("mousemove", onMoveZoom);

        // Add to cart from modal
        mAdd.addEventListener("click", () => {
          if (!activeProduct) return;
          const qty = Number(mQty.value || 1);
          addToCart(activeProduct.id, qty);
          toast(`Added to cart`, `${activeProduct.title} √ó ${qty}`);
        });

        // Add / Quick View buttons from grid
        grid.addEventListener("click", (e) => {
          const addId = e.target?.getAttribute?.("data-add");
          const qvId = e.target?.getAttribute?.("data-qv");
          if (addId) {
            addToCart(addId, 1);
            const p = PRODUCTS.find((x) => x.id === addId);
            toast("Added to cart", `${p?.title || "Item"} √ó 1`);
          }
          if (qvId) {
            const p = PRODUCTS.find((x) => x.id === qvId);
            if (p) openModal(p);
          }
        });

        // Toast
        const toastWrap = document.getElementById("toast");
        function toast(title, detail) {
          const el = document.createElement("div");
          el.className = "t";
          el.innerHTML = `<div class="dot"></div><div class="msg"><b>${title}</b><small>${detail}</small></div>`;
          toastWrap.appendChild(el);
          setTimeout(() => el.remove(), 2600);
        }

        // init
        updateCartCount();
        render();
      })();
    </script>
  </body>
</html>
